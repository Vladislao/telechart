{"mappings":"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","sources":["<anon>","src/browser.js","src/core/telechart.js","src/core/engine.js","src/core/state.js","src/utils/transformation.js","src/utils/segmentTree.js","src/components/view.js","src/rendering/x.js","src/rendering/y.js","src/rendering/grid.js","src/components/preview.js","src/rendering/scroll.js","src/components/controls.js","src/components/tooltip.js","src/components/range.js","src/handlers/controls.js","src/animations/toggle.js","src/utils/animation.js","src/handlers/tooltip.js","src/animations/tooltip.js","src/handlers/preview.js","src/animations/drag.js","src/handlers/zoom.js"],"sourcesContent":["(function () {\n\nvar $97101d4f389b7f39$exports = {};\nvar $62ae09ae3037ba57$exports = {};\nlet $62ae09ae3037ba57$var$engine = null;\nconst $62ae09ae3037ba57$var$isMobile = function() {\n    var check = false;\n    (function(a) {\n        if (/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0, 4))) check = true;\n    })(navigator.userAgent || navigator.vendor || window.opera);\n    return check;\n};\nconst $62ae09ae3037ba57$var$isPassiveSupported = ()=>{\n    let passiveSupported = false;\n    try {\n        const options = {\n            get passive () {\n                passiveSupported = true;\n            }\n        };\n        window.addEventListener(\"test\", options, options);\n        window.removeEventListener(\"test\", options, options);\n    } catch (err) {\n        return false;\n    }\n    return passiveSupported;\n};\nconst $62ae09ae3037ba57$var$createEventListeners = ()=>{\n    const passiveSupported = $62ae09ae3037ba57$var$isPassiveSupported();\n    $62ae09ae3037ba57$var$engine.passiveSupported = passiveSupported;\n    $62ae09ae3037ba57$var$engine.passive = passiveSupported ? {\n        passive: true,\n        capture: false\n    } : false;\n    window.addEventListener(\"mousedown\", $62ae09ae3037ba57$var$engine.handleEvent, $62ae09ae3037ba57$var$engine.passive);\n    window.addEventListener(\"mouseup\", $62ae09ae3037ba57$var$engine.handleEvent, $62ae09ae3037ba57$var$engine.passive);\n    window.addEventListener(\"mousemove\", $62ae09ae3037ba57$var$engine.handleEvent, $62ae09ae3037ba57$var$engine.passive);\n    window.addEventListener(\"touchmove\", $62ae09ae3037ba57$var$engine.handleEvent, $62ae09ae3037ba57$var$engine.passive);\n    window.addEventListener(\"touchcancel\", $62ae09ae3037ba57$var$engine.handleEvent, $62ae09ae3037ba57$var$engine.passive);\n    window.addEventListener(\"touchend\", $62ae09ae3037ba57$var$engine.handleEvent, $62ae09ae3037ba57$var$engine.passive);\n    window.addEventListener(\"touchstart\", $62ae09ae3037ba57$var$engine.handleEvent, $62ae09ae3037ba57$var$engine.passive);\n};\n$62ae09ae3037ba57$exports = ()=>{\n    if (!$62ae09ae3037ba57$var$engine) {\n        $62ae09ae3037ba57$var$engine = {\n            mobile: $62ae09ae3037ba57$var$isMobile(),\n            passiveSupported: false,\n            animations: [],\n            listeners: {\n                mousedown: [],\n                mouseup: [],\n                mousemove: [],\n                touchmove: [],\n                touchcancel: [],\n                touchend: [],\n                touchstart: []\n            },\n            handleEvent: (e)=>{\n                $62ae09ae3037ba57$var$engine.listeners[e.type].forEach((v)=>v(e));\n            },\n            addEventListener: (type, listener)=>{\n                $62ae09ae3037ba57$var$engine.listeners[type].push(listener);\n            },\n            removeEventListener: (type, listener)=>{\n                $62ae09ae3037ba57$var$engine.listeners[type] = $62ae09ae3037ba57$var$engine.listeners[type].filter((v)=>v !== listener);\n            },\n            registerAnimation: (animation)=>{\n                $62ae09ae3037ba57$var$engine.animations.push(animation);\n                if ($62ae09ae3037ba57$var$engine.animations.length === 1) window.requestAnimationFrame($62ae09ae3037ba57$var$engine.render);\n                return animation;\n            },\n            cancelAnimation: (animation)=>{\n                $62ae09ae3037ba57$var$engine.animations = $62ae09ae3037ba57$var$engine.animations.filter((v)=>v !== animation);\n                return null;\n            },\n            render: (ms)=>{\n                // collect components that requires repainting\n                const draw = [];\n                let force = false;\n                // run animations, filter finished ones\n                $62ae09ae3037ba57$var$engine.animations = $62ae09ae3037ba57$var$engine.animations.filter((v)=>{\n                    draw.push(v.draw);\n                    force = force || v.force;\n                    return v.update ? v.update(ms) : false;\n                });\n                // TODO: very ugly, rethink\n                const finished = [];\n                // let count = 0;\n                draw.forEach((v)=>v.forEach((component)=>{\n                        if (finished.some((c)=>c === component)) return;\n                        finished.push(component);\n                        component(force);\n                    // count += 1;\n                    }));\n                // request next frame if we have more animations to render\n                if ($62ae09ae3037ba57$var$engine.animations.length) window.requestAnimationFrame($62ae09ae3037ba57$var$engine.render);\n            }\n        };\n        $62ae09ae3037ba57$var$createEventListeners();\n    }\n    return $62ae09ae3037ba57$var$engine;\n};\n\n\nvar $04af63a21a4c58b8$exports = {};\nvar $b8e0f637eb9e6a50$export$3ae94a2503e890a1;\nvar $b8e0f637eb9e6a50$export$7c4d25c0c3217d8c;\nvar $b8e0f637eb9e6a50$export$3e262f87c4a23d75;\nvar $b8e0f637eb9e6a50$export$bb120a8661113875;\nvar $b8e0f637eb9e6a50$export$ff7f7c97cdce86e;\nvar $b8e0f637eb9e6a50$export$adf7c0fe6059d774;\nvar $b8e0f637eb9e6a50$export$f23b0705f2aa1f38;\nvar $b8e0f637eb9e6a50$export$4380c87abf28fdf;\nvar $17804dc284f5f568$export$bcd1dd1f397bba12;\nvar $17804dc284f5f568$export$185802fd694ee1f5;\nvar $17804dc284f5f568$export$71aa6c912b956294;\nconst $17804dc284f5f568$var$FALLBACK = [\n    Infinity,\n    -Infinity\n];\nconst $17804dc284f5f568$var$isPowerOfTwo = (number)=>{\n    if (number < 1) return false;\n    return (number & number - 1) === 0;\n};\nconst $17804dc284f5f568$var$getSegmentTreeLength = (length)=>{\n    if ($17804dc284f5f568$var$isPowerOfTwo(length)) return 2 * length - 1;\n    const currentPower = Math.floor(Math.log2(length));\n    const nextPower = currentPower + 1;\n    const nextPowerOfTwoNumber = 2 ** nextPower;\n    return 2 * nextPowerOfTwoNumber - 1;\n};\nconst $17804dc284f5f568$var$getLeftChildIndex = (position)=>2 * position + 1;\nconst $17804dc284f5f568$var$getRightChildIndex = (position)=>2 * position + 2;\nconst $17804dc284f5f568$var$createRecursively = (tree, data, left, right, position)=>{\n    if (left === right) {\n        tree[position] = [\n            data[left],\n            data[left]\n        ];\n        return tree;\n    }\n    const middle = Math.floor((left + right) / 2);\n    $17804dc284f5f568$var$createRecursively(tree, data, left, middle, $17804dc284f5f568$var$getLeftChildIndex(position));\n    $17804dc284f5f568$var$createRecursively(tree, data, middle + 1, right, $17804dc284f5f568$var$getRightChildIndex(position));\n    const leftValue = tree[$17804dc284f5f568$var$getLeftChildIndex(position)];\n    const rightValue = tree[$17804dc284f5f568$var$getRightChildIndex(position)];\n    tree[position] = [\n        Math.min(leftValue[0], rightValue[0]),\n        Math.max(leftValue[1], rightValue[1])\n    ];\n    return tree;\n};\nconst $17804dc284f5f568$var$findRecursively = (tree, findLeft, findRight, left, right, position)=>{\n    if (findLeft <= left && findRight >= right) return tree[position];\n    if (findLeft > right || findRight < left) return $17804dc284f5f568$var$FALLBACK;\n    const middle = Math.floor((left + right) / 2);\n    const leftValue = $17804dc284f5f568$var$findRecursively(tree, findLeft, findRight, left, middle, $17804dc284f5f568$var$getLeftChildIndex(position));\n    const rightValue = $17804dc284f5f568$var$findRecursively(tree, findLeft, findRight, middle + 1, right, $17804dc284f5f568$var$getRightChildIndex(position));\n    return [\n        Math.min(leftValue[0], rightValue[0]),\n        Math.max(leftValue[1], rightValue[1])\n    ];\n};\nconst $17804dc284f5f568$var$create = (data)=>{\n    const dataLength = data.length;\n    const treeLength = $17804dc284f5f568$var$getSegmentTreeLength(dataLength);\n    const tree = new Array(treeLength).fill(null);\n    return [\n        $17804dc284f5f568$var$createRecursively(tree, data, 0, dataLength - 1, 0),\n        data.length\n    ];\n};\nconst $17804dc284f5f568$var$find = (tree, findLeft, findRight)=>{\n    return $17804dc284f5f568$var$findRecursively(tree[0], findLeft, findRight, 0, tree[1] - 1, 0);\n};\n$17804dc284f5f568$export$bcd1dd1f397bba12 = $17804dc284f5f568$var$FALLBACK;\n$17804dc284f5f568$export$185802fd694ee1f5 = $17804dc284f5f568$var$create;\n$17804dc284f5f568$export$71aa6c912b956294 = $17804dc284f5f568$var$find;\n\n\n// const PREFERED_STEPS = [1, 1.5, 2, 2.5, 5, 7.5, 10];\n// const findScale = (min, max, count) => {\n//   const range = max - min;\n//   const roughStep = range / (count - 1);\n//   const stepPower = Math.pow(10, -Math.floor(Math.log10(Math.abs(roughStep))));\n//   const normalizedStep = roughStep * stepPower;\n//   const preferedStep = PREFERED_STEPS.find(v => v >= normalizedStep);\n//   const step = Math.round(preferedStep / stepPower);\n//   const bot = Math.floor(min / step) * step;\n//   const top = Math.ceil(max / step) * step;\n//   return [bot, top - bot, top, step];\n// };\nconst $b8e0f637eb9e6a50$var$findScale = (min, max, count)=>{\n    const range = max - min;\n    const roughStep = range / count;\n    const stepPower = 10 ** Math.floor(Math.log10(Math.abs(roughStep)));\n    const normalizedStep = roughStep / stepPower * 10;\n    const preferedStep = Math.max(normalizedStep, Math.ceil(normalizedStep / 5) * 5) / 10;\n    const step = preferedStep * stepPower;\n    const bot = min;\n    const top = bot + step * count;\n    return [\n        bot,\n        top - bot,\n        top,\n        step\n    ];\n};\nconst $b8e0f637eb9e6a50$var$findSum = (state)=>{\n    const length = state.x.values.length;\n    const result = new Array(length);\n    const idsCount = state.ids.length;\n    for(let i = 0; i < length; i++){\n        let sum = 0;\n        for(let j = 0; j < idsCount; j++){\n            const chart = state.charts[state.ids[j]];\n            if (chart.disabled) continue;\n            sum += chart.values[i];\n        }\n        result[i] = sum;\n    }\n    return result;\n};\nconst $b8e0f637eb9e6a50$var$findMinmax = (state, from, to)=>{\n    return state.ids.reduce((acc, v)=>{\n        const chart = state.charts[v];\n        if (chart.disabled) return acc;\n        const local = $17804dc284f5f568$export$71aa6c912b956294(chart.mmtree, from, to);\n        acc[0] = Math.min(acc[0], local[0]);\n        acc[1] = Math.max(acc[1], local[1]);\n        return acc;\n    }, [\n        Infinity,\n        -Infinity\n    ]);\n};\nconst $b8e0f637eb9e6a50$var$findMatrix = (state, from, to)=>{\n    const linesCount = state.grid.lines;\n    if (state.percentage) return $b8e0f637eb9e6a50$var$findScale(0, 100, linesCount);\n    if (state.stacked) {\n        const minmax = $17804dc284f5f568$export$71aa6c912b956294(state.y.mmtree, from, to);\n        return $b8e0f637eb9e6a50$var$findScale(0, minmax[1], linesCount);\n    }\n    if (state.y_scaled) {\n        const minmax0 = $17804dc284f5f568$export$71aa6c912b956294(state.charts[state.ids[0]].mmtree, from, to);\n        const scale0 = $b8e0f637eb9e6a50$var$findScale(minmax0[0], minmax0[1], linesCount);\n        const minmax1 = $17804dc284f5f568$export$71aa6c912b956294(state.charts[state.ids[1]].mmtree, from, to);\n        const scale1 = $b8e0f637eb9e6a50$var$findScale(minmax1[0], minmax1[1], linesCount);\n        return [\n            scale0,\n            scale1\n        ];\n    }\n    const minmax = $b8e0f637eb9e6a50$var$findMinmax(state, from, to);\n    const barchart = state.ids.every((v)=>state.charts[v].type === \"bar\");\n    if (barchart) {\n        const p5 = minmax[0] - (minmax[1] - minmax[0]) * 0.05;\n        // preserve sign\n        if (Math.sign(minmax[0]) === Math.sign(minmax[1])) return $b8e0f637eb9e6a50$var$findScale(p5, minmax[1], linesCount);\n    }\n    return $b8e0f637eb9e6a50$var$findScale(minmax[0], minmax[1], linesCount);\n};\nconst $b8e0f637eb9e6a50$var$MONTH = [\n    \"Jan\",\n    \"Feb\",\n    \"Mar\",\n    \"Apr\",\n    \"May\",\n    \"Jun\",\n    \"Jul\",\n    \"Aug\",\n    \"Sep\",\n    \"Oct\",\n    \"Nov\",\n    \"Dec\"\n];\nconst $b8e0f637eb9e6a50$var$DAY = [\n    \"Sun\",\n    \"Mon\",\n    \"Tue\",\n    \"Wed\",\n    \"Thu\",\n    \"Fri\",\n    \"Sat\"\n];\nconst $b8e0f637eb9e6a50$var$formatDate = (v, mode)=>{\n    const datetime = new Date(v);\n    const date = datetime.getDate();\n    const month = datetime.getMonth();\n    if (mode === \"short\") return `${$b8e0f637eb9e6a50$var$MONTH[month]} ${date > 9 ? date : `0${date}`}`;\n    if (mode === \"date\") return `${date} ${$b8e0f637eb9e6a50$var$MONTH[month]} ${datetime.getFullYear()}`;\n    return `${$b8e0f637eb9e6a50$var$DAY[datetime.getDay()]}, ${date > 9 ? date : `0${date}`} ${$b8e0f637eb9e6a50$var$MONTH[month]} ${datetime.getFullYear()}`;\n};\nconst $b8e0f637eb9e6a50$var$formatValue = (v)=>{\n    const abs = Math.abs(v);\n    if (abs > 999999999) return (v / 1000000000).toFixed(2) + \"B\";\n    if (abs > 999999) return (v / 1000000).toFixed(2) + \"M\";\n    if (abs > 999) return (v / 1000).toFixed(1) + \"K\";\n    return v.toFixed(0);\n};\nconst $b8e0f637eb9e6a50$var$closest = (target, offset)=>Math.max(Math.min(Math.round((target - 1) * offset), target - 1), 0);\nconst $b8e0f637eb9e6a50$var$bound = (x, lower, upper)=>Math.max(Math.min(x, upper), lower);\nconst $b8e0f637eb9e6a50$var$inbounds = (bounds, x, y)=>{\n    return x >= bounds.left && x <= bounds.right && y >= bounds.top && y <= bounds.bottom;\n};\nconst $b8e0f637eb9e6a50$var$resize = (canvas)=>{\n    const realToCSSPixels = window.devicePixelRatio;\n    const displayWidth = Math.floor(canvas.clientWidth * realToCSSPixels);\n    const displayHeight = Math.floor(canvas.clientHeight * realToCSSPixels);\n    if (canvas.width !== displayWidth || canvas.height !== displayHeight) {\n        canvas.width = displayWidth;\n        canvas.height = displayHeight;\n        return true;\n    }\n    return false;\n};\n$b8e0f637eb9e6a50$export$3ae94a2503e890a1 = $b8e0f637eb9e6a50$var$formatDate;\n$b8e0f637eb9e6a50$export$7c4d25c0c3217d8c = $b8e0f637eb9e6a50$var$formatValue;\n$b8e0f637eb9e6a50$export$3e262f87c4a23d75 = $b8e0f637eb9e6a50$var$findMatrix;\n$b8e0f637eb9e6a50$export$bb120a8661113875 = $b8e0f637eb9e6a50$var$findSum;\n$b8e0f637eb9e6a50$export$ff7f7c97cdce86e = $b8e0f637eb9e6a50$var$closest;\n$b8e0f637eb9e6a50$export$adf7c0fe6059d774 = $b8e0f637eb9e6a50$var$bound;\n$b8e0f637eb9e6a50$export$f23b0705f2aa1f38 = $b8e0f637eb9e6a50$var$inbounds;\n$b8e0f637eb9e6a50$export$4380c87abf28fdf = $b8e0f637eb9e6a50$var$resize;\n\n\nvar $04af63a21a4c58b8$require$closest = $b8e0f637eb9e6a50$export$ff7f7c97cdce86e;\nvar $04af63a21a4c58b8$require$findMatrix = $b8e0f637eb9e6a50$export$3e262f87c4a23d75;\nvar $04af63a21a4c58b8$require$findSum = $b8e0f637eb9e6a50$export$bb120a8661113875;\n\nconst $04af63a21a4c58b8$var$getValues = (columns, id)=>columns.find((v)=>v[0] === id).slice(1);\nconst $04af63a21a4c58b8$var$createCharts = (ids, data)=>ids.reduce((acc, v)=>{\n        const values = $04af63a21a4c58b8$var$getValues(data.columns, v);\n        acc[v] = {\n            id: v,\n            name: data.names[v],\n            type: data.types[v],\n            color: {\n                hex: data.colors[v],\n                alpha: 1\n            },\n            disabled: false,\n            values: values\n        };\n        return acc;\n    }, {});\nconst $04af63a21a4c58b8$var$create = (data)=>{\n    const ids = Object.keys(data.names);\n    const x = $04af63a21a4c58b8$var$getValues(data.columns, \"x\");\n    const charts = $04af63a21a4c58b8$var$createCharts(ids, data);\n    const windowOffset = $04af63a21a4c58b8$require$closest(x.length, 0.6);\n    const windowWidth = $04af63a21a4c58b8$require$closest(x.length, 0.3);\n    const state = {\n        ids: ids,\n        charts: charts,\n        y_scaled: !!data.y_scaled,\n        stacked: !!data.stacked,\n        percentage: !!data.percentage,\n        x: {\n            values: x,\n            matrix: [\n                0,\n                x.length - 1\n            ]\n        },\n        y: {\n            lineWidth: 1,\n            matrix: [\n                -1,\n                -1,\n                -1\n            ]\n        },\n        y0: {\n            lineWidth: 2,\n            matrix: [\n                -1,\n                -1,\n                -1\n            ]\n        },\n        window: {\n            offset: windowOffset,\n            width: windowWidth,\n            minwidth: $04af63a21a4c58b8$require$closest(x.length, 0.08),\n            tracker: {\n                width: 10,\n                stroke: {\n                    hex: \"#C0D1E1\",\n                    alpha: 1\n                },\n                color: {\n                    hex: \"#C0D1E1\",\n                    alpha: 1\n                }\n            },\n            mask: {\n                color: {\n                    hex: \"#E2EEF9\",\n                    alpha: 0.6\n                }\n            }\n        },\n        tooltip: {\n            lineWidth: 1,\n            lighten: true,\n            color: {\n                hex: \"#182D3B\",\n                alpha: 0.1\n            },\n            radius: 3,\n            index: null\n        },\n        grid: {\n            lines: 5,\n            lineWidth: 1,\n            color: {\n                hex: \"#182D3B\",\n                alpha: 0.1\n            }\n        },\n        axis: {\n            x: {\n                font: \"Arial\",\n                size: 10,\n                color: {\n                    hex: \"#8E8E93\",\n                    alpha: 1\n                }\n            },\n            y: {\n                font: \"Arial\",\n                size: 10,\n                color: {\n                    hex: \"#8E8E93\",\n                    alpha: 1\n                }\n            }\n        }\n    };\n    if (data.percentage) state.y.sum = $04af63a21a4c58b8$require$findSum(state);\n    else if (data.stacked) {\n        state.y.sum = $04af63a21a4c58b8$require$findSum(state);\n        state.y.mmtree = $17804dc284f5f568$export$185802fd694ee1f5(state.y.sum);\n    } else ids.forEach((v)=>{\n        const chart = charts[v];\n        chart.mmtree = $17804dc284f5f568$export$185802fd694ee1f5(chart.values);\n    });\n    state.y.matrix = $04af63a21a4c58b8$require$findMatrix(state, 0, x.length);\n    state.y0.matrix = $04af63a21a4c58b8$require$findMatrix(state, windowOffset, windowOffset + windowWidth);\n    return state;\n};\n$04af63a21a4c58b8$exports = $04af63a21a4c58b8$var$create;\n\n\nvar $f28366862269443b$exports = {};\n\nvar $f28366862269443b$require$resize = $b8e0f637eb9e6a50$export$4380c87abf28fdf;\nvar $f28366862269443b$require$formatDate = $b8e0f637eb9e6a50$export$3ae94a2503e890a1;\nvar $f28366862269443b$require$formatValue = $b8e0f637eb9e6a50$export$7c4d25c0c3217d8c;\nvar $4d5e44c28a6a54fa$exports = {};\n$4d5e44c28a6a54fa$exports = (state, context, cache, modes)=>{\n    const { chart: chart, text: text } = cache;\n    if (cache.mode & (modes.FORCE | modes.XBOUNDS)) {\n        cache.mode |= modes.TEXT;\n        const steps = chart.range / text.steps;\n        const power = Math.log2(steps / text.minstep);\n        const powerI = power | 0;\n        text.fraction = power % 1;\n        if (text.power !== powerI) {\n            text.power = powerI | 0;\n            text.step = 2 ** Math.floor(text.power) * Math.ceil(text.minstep);\n            text.doublestep = Math.ceil(text.step * 2);\n        }\n        const closest = Math.ceil(chart.start / text.step) * text.step - text.step;\n        text.start = Math.max(closest, text.step) - text.padding;\n        text.last = Math.min(chart.start + chart.range + 1, state.x.values.length);\n    }\n    if (cache.mode & (modes.TEXT | modes.FORCE)) {\n        context.clearRect(text.region.x, text.region.y, text.region.width, text.region.height);\n        const alpha = state.axis.x.color.alpha;\n        context.font = text.font;\n        context.fillStyle = state.axis.x.color.hex;\n        context.globalAlpha = alpha;\n        context.textBaseline = \"top\";\n        context.textAlign = \"center\";\n        for(let i = -text.padding; i < text.last; i += text.doublestep){\n            if (i < text.start) continue;\n            const shift = i - chart.start;\n            context.fillText(cache.formatX(state.x.values[i], \"short\"), shift * chart.scaleX + chart.offsetX, text.y);\n        }\n        context.globalAlpha = alpha * (1 - text.fraction);\n        for(let i = text.step - text.padding; i < text.last; i += text.doublestep){\n            if (i < text.start) continue;\n            const shift = i - chart.start;\n            context.fillText(cache.formatX(state.x.values[i], \"short\"), shift * chart.scaleX + chart.offsetX, text.y);\n        }\n    }\n};\n\n\nvar $00a0726d9c08782b$exports = {};\nvar $9bccc56df68caa12$export$af293fdb3352a881;\nvar $9bccc56df68caa12$export$9ad0ea633ede943c;\nvar $9bccc56df68caa12$export$654275d54901f10e;\nvar $9bccc56df68caa12$export$82ff054c77d88ab0;\nvar $9bccc56df68caa12$export$b4dd9f7a9a2aa330;\nvar $9bccc56df68caa12$export$819db45aec5fcbe5;\nvar $9bccc56df68caa12$export$79269cdc703edee2;\nconst $9bccc56df68caa12$var$drawHorizontalLines = (context, count, position)=>{\n    context.beginPath();\n    const dy = -position.height / count;\n    for(let i = 0; i < count; i += 1){\n        const y = position.y + i * dy + position.height;\n        context.moveTo(position.x, y);\n        context.lineTo(position.width, y);\n    }\n    context.stroke();\n};\n// TODO: pass formated values\nconst $9bccc56df68caa12$var$drawYText = (context, matrix, x, position, format)=>{\n    const end = (matrix[2] - matrix[3] | 0) + 1;\n    for(let i = matrix[0]; i <= end; i += matrix[3])context.fillText(format(i, \"short\"), x, position.y + i * position.scaleY + position.offsetY);\n};\nconst $9bccc56df68caa12$var$drawVerticalLine = (context, x, position)=>{\n    context.beginPath();\n    context.moveTo(x, position.region.y);\n    context.lineTo(x, position.height);\n    context.stroke();\n};\nconst $9bccc56df68caa12$var$drawPoint = (context, x, y, radius, lineWidth)=>{\n    context.beginPath();\n    context.arc(x, y, radius, 0, 2 * Math.PI);\n    context.stroke();\n    const previous = context.globalCompositeOperation;\n    context.globalCompositeOperation = \"destination-out\";\n    context.beginPath();\n    context.arc(x, y, radius - (0.5 + lineWidth / 2 | 0), 0, 2 * Math.PI);\n    context.fill();\n    context.globalCompositeOperation = previous;\n};\nconst $9bccc56df68caa12$var$yPercentage = (result, index, value, alpha, position, options)=>{\n    const total = options.sum[index];\n    const height = position.height * (value / total) * alpha;\n    let y = position.y + position.height - height;\n    if (options.stacked) {\n        const inc = options.first ? 0 : options.stack[index];\n        y -= inc;\n        options.stack[index] = inc + height;\n    }\n    result[0] = y;\n    result[1] = height;\n// return result;\n};\nconst $9bccc56df68caa12$var$yStacked = (result, index, value, alpha, position, options)=>{\n    // TODO: improve\n    const total = options.sum[index];\n    const ntotal = total / options.matrix[2];\n    const inc = options.first ? 0 : options.stack[index];\n    const y0 = position.y + position.height * (1 - ntotal);\n    const height0 = position.height * ntotal;\n    const y = y0 + inc;\n    const height = height0 * (value / total) * alpha;\n    options.stack[index] = inc + height;\n    result[0] = y;\n    result[1] = height;\n// return result;\n};\nconst $9bccc56df68caa12$var$yBasic = (result, value, position)=>{\n    const y = position.y + value * position.scaleY + position.offsetY;\n    const height = position.height - y + position.y;\n    result[0] = y;\n    result[1] = height;\n// return result;\n};\nconst $9bccc56df68caa12$var$drawArea = (context, values, position, options)=>{\n    const alpha = context.globalAlpha;\n    // to avoid GC, probably unnecessary\n    const y = new Array(2);\n    context.beginPath();\n    if (!options.first && options.stacked) for(let i = position.range; i >= 0; i--){\n        const index = position.start + i;\n        const xb = position.x + i * position.scaleX + position.offsetX;\n        const yb = position.y + position.height - options.stack[index];\n        context.lineTo(xb, yb);\n    }\n    for(let i = 0; i <= position.range; i += 1){\n        const index = position.start + i;\n        const x = position.x + i * position.scaleX + position.offsetX;\n        if (options.percentage) $9bccc56df68caa12$var$yPercentage(y, index, values[index], alpha, position, options);\n        else if (options.stacked) $9bccc56df68caa12$var$yStacked(y, index, values[index], alpha, position, options);\n        else $9bccc56df68caa12$var$yBasic(y, values[index], position);\n        if (position.limit.bottom) {\n            const y0 = y[0];\n            y[0] = y0 < position.limit.bottom ? y0 : position.limit.bottom;\n        }\n        context.lineTo(x, y[0]);\n    }\n    if (options.first || !options.stacked) {\n        context.lineTo(position.width, position.y + position.height);\n        context.lineTo(position.x, position.y + position.height);\n    }\n    context.fill();\n};\nconst $9bccc56df68caa12$var$drawLine = (context, values, position, stroke, options)=>{\n    const alpha = context.globalAlpha;\n    context.beginPath();\n    const last = position.range + 1;\n    // to avoid GC, probably unnecessary\n    const y = new Array(2);\n    for(let i = 0; i <= last; i += 1){\n        const index = position.start + i;\n        const x = position.x + i * position.scaleX + position.offsetX;\n        if (options.percentage) $9bccc56df68caa12$var$yPercentage(y, index, values[index], alpha, position, options);\n        else if (options.stacked) $9bccc56df68caa12$var$yStacked(y, index, values[index], alpha, position, options);\n        else $9bccc56df68caa12$var$yBasic(y, values[index], position);\n        if (position.limit.bottom) {\n            const y0 = y[0];\n            y[0] = y0 < position.limit.bottom ? y0 : position.limit.bottom;\n        }\n        context.lineTo(x, y[0]);\n    }\n    context.stroke();\n};\nconst $9bccc56df68caa12$var$drawBar = (context, values, position, options, lighten)=>{\n    const fillStyle = context.fillStyle;\n    const alpha = context.globalAlpha;\n    const highlight = options.tooltip.indexD;\n    if (highlight != null) context.fillStyle = lighten;\n    context.beginPath();\n    const last = position.range + 1;\n    const y = new Array(2);\n    for(let i = 0; i <= last; i += 1){\n        const index = position.start + i;\n        if (index === highlight) continue;\n        const x = position.x + i * position.scaleX + position.offsetX - position.scaleX / 2;\n        const width = position.scaleX;\n        if (options.percentage) $9bccc56df68caa12$var$yPercentage(y, index, values[index], alpha, position, options);\n        else if (options.stacked) $9bccc56df68caa12$var$yStacked(y, index, values[index], alpha, position, options);\n        else $9bccc56df68caa12$var$yBasic(y, values[index], position);\n        context.rect(x, y[0], width, y[1]);\n    }\n    context.fill();\n    if (highlight != null) {\n        const i = highlight - position.start;\n        const x = position.x + i * position.scaleX + position.offsetX - position.scaleX / 2;\n        const width = position.scaleX;\n        if (options.percentage) $9bccc56df68caa12$var$yPercentage(y, highlight, values[highlight], alpha, position, options);\n        else if (options.stacked) $9bccc56df68caa12$var$yStacked(y, highlight, values[highlight], alpha, position, options);\n        else $9bccc56df68caa12$var$yBasic(y, values[highlight], position);\n        context.fillStyle = fillStyle;\n        context.fillRect(x, y[0], width, y[1]);\n    }\n};\n$9bccc56df68caa12$export$af293fdb3352a881 = $9bccc56df68caa12$var$drawHorizontalLines;\n$9bccc56df68caa12$export$9ad0ea633ede943c = $9bccc56df68caa12$var$drawVerticalLine;\n$9bccc56df68caa12$export$654275d54901f10e = $9bccc56df68caa12$var$drawPoint;\n$9bccc56df68caa12$export$82ff054c77d88ab0 = $9bccc56df68caa12$var$drawYText;\n$9bccc56df68caa12$export$b4dd9f7a9a2aa330 = $9bccc56df68caa12$var$drawArea;\n$9bccc56df68caa12$export$819db45aec5fcbe5 = $9bccc56df68caa12$var$drawLine;\n$9bccc56df68caa12$export$79269cdc703edee2 = $9bccc56df68caa12$var$drawBar;\n\n\nvar $00a0726d9c08782b$require$drawHorizontalLines = $9bccc56df68caa12$export$af293fdb3352a881;\nvar $00a0726d9c08782b$require$drawYText = $9bccc56df68caa12$export$82ff054c77d88ab0;\nvar $00a0726d9c08782b$require$drawVerticalLine = $9bccc56df68caa12$export$9ad0ea633ede943c;\nvar $00a0726d9c08782b$require$drawPoint = $9bccc56df68caa12$export$654275d54901f10e;\nvar $00a0726d9c08782b$require$drawArea = $9bccc56df68caa12$export$b4dd9f7a9a2aa330;\nvar $00a0726d9c08782b$require$drawLine = $9bccc56df68caa12$export$819db45aec5fcbe5;\nvar $00a0726d9c08782b$require$drawBar = $9bccc56df68caa12$export$79269cdc703edee2;\n$00a0726d9c08782b$exports = (state, context, cache, modes)=>{\n    const { previousState: previousState, chart: chart, grid: grid, tooltip: tooltip } = cache;\n    if (state.y_scaled) {\n        if (!previousState.y0.matrix) previousState.y0.matrix = [\n            [\n                -1,\n                -1\n            ],\n            [\n                -1,\n                -1\n            ]\n        ];\n        // update Y0 bounds\n        if (cache.mode & modes.FORCE || previousState.y0.matrix[0][0] !== state.y0.matrix[0][0] || previousState.y0.matrix[0][1] !== state.y0.matrix[0][1]) {\n            cache.mode |= modes.CHART;\n            previousState.y0.matrix[0][0] = state.y0.matrix[0][0];\n            previousState.y0.matrix[0][1] = state.y0.matrix[0][1];\n            chart.scaleY0 = -chart.height / state.y0.matrix[0][1];\n            chart.offsetY0 = chart.height - state.y0.matrix[0][0] * chart.scaleY0;\n        }\n        // update Y1 bounds\n        if (cache.mode & modes.FORCE || previousState.y0.matrix[1][0] !== state.y0.matrix[1][0] || previousState.y0.matrix[1][1] !== state.y0.matrix[1][1]) {\n            cache.mode |= modes.CHART;\n            previousState.y0.matrix[1][0] = state.y0.matrix[1][0];\n            previousState.y0.matrix[1][1] = state.y0.matrix[1][1];\n            chart.scaleY1 = -chart.height / state.y0.matrix[1][1];\n            chart.offsetY1 = chart.height - state.y0.matrix[1][0] * chart.scaleY1;\n        }\n    } else {\n        if (!previousState.y0.matrix) previousState.y0.matrix = [\n            -1,\n            -1\n        ];\n        // update Y bounds\n        if (cache.mode & modes.FORCE || previousState.y0.matrix[0] !== state.y0.matrix[0] || previousState.y0.matrix[1] !== state.y0.matrix[1]) {\n            cache.mode |= modes.CHART;\n            previousState.y0.matrix[0] = state.y0.matrix[0];\n            previousState.y0.matrix[1] = state.y0.matrix[1];\n            chart.scaleY = -chart.height / state.y0.matrix[1];\n            chart.offsetY = chart.height - state.y0.matrix[0] * chart.scaleY;\n        }\n    }\n    if (cache.mode & (modes.CHART | modes.FORCE)) {\n        context.clearRect(chart.region.x, chart.region.y, chart.region.width, chart.region.height);\n        cache.first = true;\n        context.lineJoin = \"bevel\";\n        context.lineCap = \"butt\";\n        context.lineWidth = chart.lineWidth;\n        for(let i = 0; i < state.ids.length; i++){\n            const v = state.ids[i];\n            const line = state.charts[v];\n            if (line.color.alpha === 0) continue;\n            if (state.y_scaled && i > 1) continue;\n            if (state.y_scaled) {\n                // TODO: scaleY1 for last only\n                chart.scaleY = chart[`scaleY${i}`];\n                chart.offsetY = chart[`offsetY${i}`];\n            }\n            context.globalAlpha = line.color.alpha;\n            context.strokeStyle = line.color.hex;\n            context.fillStyle = line.color.hex;\n            if (line.type === \"line\") $00a0726d9c08782b$require$drawLine(context, line.values, chart, line.type === \"line\", cache);\n            if (line.type === \"area\") $00a0726d9c08782b$require$drawArea(context, line.values, chart, cache, line.alpha);\n            if (line.type === \"bar\") $00a0726d9c08782b$require$drawBar(context, line.values, chart, cache, cache.lighten[v]);\n            cache.first = false;\n        }\n        context.lineWidth = grid.lineWidth;\n        context.globalAlpha = state.grid.color.alpha;\n        context.strokeStyle = state.grid.color.hex;\n        $00a0726d9c08782b$require$drawHorizontalLines(context, state.grid.lines, chart);\n        if (tooltip.x !== null && !cache.bar) {\n            context.lineWidth = tooltip.lineWidth;\n            context.globalAlpha = state.tooltip.color.alpha;\n            context.strokeStyle = state.tooltip.color.hex;\n            $00a0726d9c08782b$require$drawVerticalLine(context, tooltip.x, chart);\n            context.lineWidth = chart.lineWidth;\n            for(let i = 0; i < state.ids.length; i++){\n                const v = state.ids[i];\n                const line = state.charts[v];\n                if (line.color.alpha === 0) continue;\n                if (line.type === \"area\") continue;\n                if (state.y_scaled && i > 1) continue;\n                if (state.y_scaled) {\n                    // TODO: scaleY1 for last only\n                    chart.scaleY = chart[`scaleY${i}`];\n                    chart.offsetY = chart[`offsetY${i}`];\n                }\n                context.globalAlpha = line.color.alpha;\n                context.strokeStyle = line.color.hex;\n                const y = chart.y + line.values[tooltip.indexD] * chart.scaleY + chart.offsetY;\n                $00a0726d9c08782b$require$drawPoint(context, tooltip.xD, y, tooltip.radius, chart.lineWidth);\n            }\n        }\n        context.font = grid.font;\n        context.textBaseline = \"bottom\";\n        if (state.y_scaled) {\n            const color1 = state.charts[state.ids[0]].color;\n            context.fillStyle = color1.hex;\n            context.globalAlpha = color1.alpha;\n            context.textAlign = \"start\";\n            chart.scaleY = chart.scaleY0;\n            chart.offsetY = chart.offsetY0;\n            $00a0726d9c08782b$require$drawYText(context, state.y0.matrix[0], 0, chart, cache.formatY);\n            const color2 = state.charts[state.ids[1]].color;\n            context.fillStyle = color2.hex;\n            context.globalAlpha = color2.alpha;\n            context.textAlign = \"end\";\n            chart.scaleY = chart.scaleY1;\n            chart.offsetY = chart.offsetY1;\n            $00a0726d9c08782b$require$drawYText(context, state.y0.matrix[1], chart.width, chart, cache.formatY);\n        } else {\n            context.fillStyle = state.axis.y.color.hex;\n            context.globalAlpha = state.axis.y.color.alpha;\n            context.textAlign = \"start\";\n            // TODO: pass formated values\n            $00a0726d9c08782b$require$drawYText(context, state.y0.matrix, 0, chart, cache.formatY);\n        }\n    }\n};\n\n\nconst $f28366862269443b$var$lighten = (color)=>{\n    const r = parseInt(color.substring(1, 3), 16);\n    const g = parseInt(color.substring(3, 5), 16);\n    const b = parseInt(color.substring(5, 7), 16);\n    const lr = r + (255 - r) / 3 | 0;\n    const lg = g + (255 - g) / 3 | 0;\n    const lb = b + (255 - b) / 3 | 0;\n    return `#${lr.toString(16)}${lg.toString(16)}${lb.toString(16)}`;\n};\nconst $f28366862269443b$var$darken = (color)=>{\n    const r = parseInt(color.substring(1, 3), 16);\n    const g = parseInt(color.substring(3, 5), 16);\n    const b = parseInt(color.substring(5, 7), 16);\n    const lr = r - r / 3 | 0;\n    const lg = g - g / 3 | 0;\n    const lb = b - b / 3 | 0;\n    return `#${lr.toString(16)}${lg.toString(16)}${lb.toString(16)}`;\n};\nconst $f28366862269443b$var$MODE = {\n    NONE: 0,\n    FORCE: 1,\n    XBOUNDS: 2,\n    CHART: 4,\n    TEXT: 8\n};\n$f28366862269443b$exports = (state, options)=>{\n    const wrapper = document.createElement(\"div\");\n    wrapper.className = \"tc-chart-wrapper\";\n    const canvas = document.createElement(\"canvas\");\n    canvas.className = \"tc-chart\";\n    wrapper.appendChild(canvas);\n    const context = canvas.getContext(\"2d\");\n    const chart = {};\n    const text = {};\n    const grid = {};\n    const tooltip = {};\n    const previousState = {\n        charts: {},\n        window: {},\n        tooltip: {},\n        y0: {}\n    };\n    const cache = {\n        mode: $f28366862269443b$var$MODE.NONE,\n        chart: chart,\n        text: text,\n        grid: grid,\n        tooltip: tooltip,\n        previousState: previousState\n    };\n    const bounds = {};\n    return {\n        element: wrapper,\n        register: (callback)=>callback({\n                id: \"view\",\n                element: wrapper,\n                canvas: canvas,\n                bounds: bounds\n            }),\n        render: (force)=>{\n            cache.mode = $f28366862269443b$var$MODE.NONE;\n            cache.sum = state.y.sum;\n            cache.matrix = state.y0.matrix;\n            if (force) {\n                cache.mode |= $f28366862269443b$var$MODE.FORCE;\n                $f28366862269443b$require$resize(canvas);\n                // update element positions\n                const clientRect = canvas.getBoundingClientRect();\n                bounds.left = clientRect.left + window.pageXOffset;\n                bounds.top = clientRect.top + window.pageYOffset;\n                bounds.right = clientRect.right + window.pageXOffset;\n                bounds.bottom = clientRect.bottom + window.pageYOffset;\n                const dpr = window.devicePixelRatio;\n                // value formatters\n                cache.formatX = options && options.formatX || $f28366862269443b$require$formatDate;\n                cache.formatY = options && options.formatY || $f28366862269443b$require$formatValue;\n                cache.stacked = state.stacked;\n                cache.percentage = state.percentage;\n                // cache for stacked values to avoid GC\n                if (state.stacked) cache.stack = new Array(state.x.values.length);\n                // text\n                const fontSize = (state.axis.x.size || 10) * dpr;\n                text.font = `${fontSize}px ${state.axis.x.font}`;\n                text.height = fontSize + 4 * dpr;\n                text.width = canvas.width;\n                text.x = 0;\n                text.y = canvas.height - text.height + 2 * dpr;\n                context.font = text.font;\n                const xTextWidth = Math.ceil(context.measureText(cache.formatX(state.x.values[0], \"short\")).width);\n                text.steps = Math.max(canvas.width / (xTextWidth * 2), 1);\n                text.minstep = (state.window.minwidth - 1) / text.steps;\n                text.padding = Math.floor(text.minstep / 2);\n                text.region = {\n                    x: 0,\n                    y: canvas.height - text.height,\n                    width: canvas.width,\n                    height: fontSize + 4 * dpr\n                };\n                // grid lines\n                grid.lineWidth = state.grid.lineWidth * dpr;\n                grid.font = `${(state.axis.y.size || 10) * dpr}px ${state.axis.y.font}`;\n                // tooltip point and line\n                tooltip.lineWidth = state.tooltip.lineWidth * dpr;\n                tooltip.radius = state.tooltip.radius * dpr;\n                // chart\n                chart.lineWidth = state.y0.lineWidth * dpr;\n                chart.width = canvas.width;\n                chart.height = canvas.height - text.height - (tooltip.radius + 4);\n                chart.x = 0;\n                chart.y = 0;\n                chart.region = {\n                    x: 0,\n                    y: 0,\n                    width: canvas.width,\n                    height: canvas.height - text.height\n                };\n                chart.limit = {\n                    bottom: chart.height\n                };\n                // some props based on charts provided\n                const lighter = state.tooltip.lighten ? $f28366862269443b$var$lighten : $f28366862269443b$var$darken;\n                cache.lighten = {};\n                cache.bar = false;\n                for(let i = 0; i < state.ids.length; i++){\n                    const id = state.ids[i];\n                    const line = state.charts[id];\n                    if (lighter) cache.lighten[id] = lighter(line.color.hex);\n                    else cache.lighten[id] = $f28366862269443b$var$lighten(line.color.hex);\n                    cache.bar = cache.bar || line.type === \"bar\";\n                }\n            }\n            // Update x bounds\n            if (cache.mode & $f28366862269443b$var$MODE.FORCE || previousState.window.offset !== state.window.offset || previousState.window.width !== state.window.width) {\n                cache.mode |= $f28366862269443b$var$MODE.XBOUNDS | $f28366862269443b$var$MODE.CHART | $f28366862269443b$var$MODE.TEXT;\n                previousState.window.offset = state.window.offset;\n                previousState.window.width = state.window.width;\n                chart.start = state.window.offset | 0;\n                chart.range = state.window.width | 0;\n                if (cache.bar) {\n                    chart.scaleX = chart.width / (chart.range + state.window.width - chart.range);\n                    chart.offsetX = -chart.scaleX * (state.window.offset - chart.start) + chart.scaleX / 2;\n                } else {\n                    chart.scaleX = chart.width / (chart.range - 1 + state.window.width - chart.range);\n                    chart.offsetX = -chart.scaleX * (state.window.offset - chart.start);\n                }\n            }\n            // update tooltip position\n            if (cache.mode & ($f28366862269443b$var$MODE.FORCE | $f28366862269443b$var$MODE.XBOUNDS) || previousState.tooltip.index !== state.tooltip.index) {\n                cache.mode |= $f28366862269443b$var$MODE.CHART;\n                previousState.tooltip.index = state.tooltip.index;\n                if (state.tooltip.index !== null) {\n                    tooltip.indexD = Math.min(chart.start + state.tooltip.indexD, state.x.values.length - 1);\n                    tooltip.xD = chart.x + (tooltip.indexD - chart.start) * chart.scaleX + chart.offsetX;\n                    tooltip.x = chart.x + state.tooltip.index * chart.scaleX + chart.offsetX;\n                } else {\n                    tooltip.xD = null;\n                    tooltip.indexD = null;\n                    tooltip.x = null;\n                }\n            }\n            // update chart colors\n            for(let i = 0; i < state.ids.length; i++){\n                const v = state.ids[i];\n                if (!(v in previousState.charts)) previousState.charts[v] = {\n                    color: {}\n                };\n                const current = state.charts[v].color;\n                const previous = previousState.charts[v].color;\n                if (previous.hex !== current.hex || previous.alpha !== current.alpha) {\n                    previous.hex = current.hex;\n                    previous.alpha = current.alpha;\n                    cache.mode |= $f28366862269443b$var$MODE.CHART;\n                }\n            }\n            // if (state.y_scaled) {\n            //   handleScaledLineChart(state, context, cache, MODE);\n            // } else {\n            $00a0726d9c08782b$exports(state, context, cache, $f28366862269443b$var$MODE);\n            // }\n            $4d5e44c28a6a54fa$exports(state, context, cache, $f28366862269443b$var$MODE);\n        }\n    };\n};\n\n\nvar $2c8c620964d7adca$exports = {};\n\nvar $2c8c620964d7adca$require$resize = $b8e0f637eb9e6a50$export$4380c87abf28fdf;\n// const mask = (context, options) => {\n//   context.fillRect(\n//     0,\n//     tcache.padding,\n//     tcache.left,\n//     canvas.height - tcache.padding * 2\n//   );\n//   if (right !== canvas.width) {\n//     context.fillRect(\n//       right,\n//       tcache.padding,\n//       canvas.width - right,\n//       canvas.height - tcache.padding * 2\n//     );\n//   }\n// }\nvar $eb7e2fdca4880f52$export$14eff212738cf041;\nconst $eb7e2fdca4880f52$var$drawTrack = (context, x, width, height, radius, dir)=>{\n    context.beginPath();\n    context.moveTo(x - width + radius * dir, 0);\n    context.arcTo(x - width, 0, x - width, radius, radius);\n    context.lineTo(x - width, height - radius);\n    context.arcTo(x - width, height, x - width + radius * dir, height, radius);\n    context.lineTo(x, height);\n    context.lineTo(x, 0);\n    // const clipWidth = Math.floor(width * 0.3);\n    // const clipRaduis = Math.floor(clipWidth / 2);\n    // const clipHeight = Math.floor(height * 0.3);\n    // const clipX = Math.floor(width / 2 + clipWidth / 2);\n    // const clipY = Math.floor(height / 2 - clipHeight / 2 + clipRaduis);\n    // context.moveTo(clipX, clipY);\n    // context.arcTo(\n    //   width / 2,\n    //   clipY - clipRaduis,\n    //   clipX - clipWidth,\n    //   clipY,\n    //   clipRaduis\n    // );\n    // context.lineTo(clipX - clipWidth, clipY + clipHeight - clipRaduis);\n    // context.arcTo(\n    //   width / 2,\n    //   clipY + clipHeight,\n    //   clipX,\n    //   clipY + clipHeight - clipRaduis,\n    //   clipRaduis\n    // );\n    // context.closePath();\n    context.fill();\n};\n$eb7e2fdca4880f52$export$14eff212738cf041 = $eb7e2fdca4880f52$var$drawTrack;\n\n\nvar $2c8c620964d7adca$require$drawTrack = $eb7e2fdca4880f52$export$14eff212738cf041;\n\nvar $2c8c620964d7adca$require$drawLine = $9bccc56df68caa12$export$819db45aec5fcbe5;\nvar $2c8c620964d7adca$require$drawBar = $9bccc56df68caa12$export$79269cdc703edee2;\nvar $2c8c620964d7adca$require$drawArea = $9bccc56df68caa12$export$b4dd9f7a9a2aa330;\n$2c8c620964d7adca$exports = (state)=>{\n    const canvas = document.createElement(\"canvas\");\n    canvas.className = \"tc-preview\";\n    const context = canvas.getContext(\"2d\");\n    const chart = {};\n    const track = {};\n    const previousState = {\n        charts: {},\n        y: {},\n        window: {}\n    };\n    const cache = {\n        tooltip: {},\n        chart: chart,\n        track: track,\n        state: previousState\n    };\n    const bounds = {};\n    return {\n        element: canvas,\n        render: (force)=>{\n            let shouldDraw = force;\n            cache.sum = state.y.sum;\n            cache.matrix = state.y.matrix;\n            if (force) {\n                $2c8c620964d7adca$require$resize(canvas);\n                // update element positions\n                const clientRect = canvas.getBoundingClientRect();\n                bounds.left = clientRect.left + window.pageXOffset;\n                bounds.top = clientRect.top + window.pageYOffset;\n                bounds.right = clientRect.right + window.pageXOffset;\n                bounds.bottom = clientRect.bottom + window.pageYOffset;\n                const dpr = window.devicePixelRatio;\n                cache.stacked = state.stacked;\n                cache.percentage = state.percentage;\n                if (state.stacked) cache.stack = new Array(state.x.values.length);\n                // track\n                track.padding = 1 * dpr;\n                track.borderRadius = 5 * dpr;\n                track.width = (state.window.tracker.width || 10) * dpr;\n                track.height = canvas.height;\n                // chart\n                chart.lineWidth = state.y.lineWidth * dpr;\n                chart.width = canvas.width;\n                chart.height = canvas.height - track.padding * 2;\n                chart.x = 0;\n                chart.y = track.padding;\n                chart.region = {\n                    x: 0,\n                    y: 0,\n                    width: canvas.width,\n                    height: canvas.height\n                };\n                chart.start = 0;\n                chart.range = state.x.values.length - 1;\n                chart.scaleX = canvas.width / chart.range;\n                chart.offsetX = 0;\n                chart.limit = {};\n            }\n            // update chart colors\n            for(let i = 0; i < state.ids.length; i++){\n                const v = state.ids[i];\n                if (!(v in previousState.charts)) previousState.charts[v] = {\n                    color: {}\n                };\n                const current = state.charts[v].color;\n                const previous = previousState.charts[v].color;\n                if (previous.hex !== current.hex || previous.alpha !== current.alpha) {\n                    previous.hex = current.hex;\n                    previous.alpha = current.alpha;\n                    shouldDraw = true;\n                }\n            }\n            if (force || previousState.window.offset !== state.window.offset || previousState.window.width !== state.window.width) {\n                previousState.window.offset = state.window.offset;\n                previousState.window.width = state.window.width;\n                track.left = state.window.offset * chart.scaleX + track.width;\n                track.right = (state.window.offset + state.window.width - 1) * chart.scaleX - track.width;\n                shouldDraw = true;\n            }\n            if (state.y_scaled) {\n                if (!previousState.y.matrix) previousState.y.matrix = [\n                    [\n                        -1,\n                        -1\n                    ],\n                    [\n                        -1,\n                        -1\n                    ]\n                ];\n                if (force || previousState.y.matrix[0][0] !== state.y.matrix[0][0] || previousState.y.matrix[0][1] !== state.y.matrix[0][1]) {\n                    previousState.y.matrix[0][0] = state.y.matrix[0][0];\n                    previousState.y.matrix[0][1] = state.y.matrix[0][1];\n                    chart.scaleY0 = -chart.height / state.y.matrix[0][1];\n                    chart.offsetY0 = chart.height - state.y.matrix[0][0] * chart.scaleY0;\n                    shouldDraw = true;\n                }\n                if (force || previousState.y.matrix[1][0] !== state.y.matrix[1][0] || previousState.y.matrix[1][1] !== state.y.matrix[1][1]) {\n                    previousState.y.matrix[1][0] = state.y.matrix[1][0];\n                    previousState.y.matrix[1][1] = state.y.matrix[1][1];\n                    chart.scaleY1 = -chart.height / state.y.matrix[1][1];\n                    chart.offsetY1 = chart.height - state.y.matrix[1][0] * chart.scaleY1;\n                    shouldDraw = true;\n                }\n            } else {\n                if (!previousState.y.matrix) previousState.y.matrix = [\n                    -1,\n                    -1\n                ];\n                if (force || previousState.y.matrix[0] !== state.y.matrix[0] || previousState.y.matrix[1] !== state.y.matrix[1]) {\n                    previousState.y.matrix[0] = state.y.matrix[0];\n                    previousState.y.matrix[1] = state.y.matrix[1];\n                    chart.scaleY = -chart.height / state.y.matrix[1];\n                    chart.offsetY = chart.height - state.y.matrix[0] * chart.scaleY;\n                    shouldDraw = true;\n                }\n            }\n            if (shouldDraw) {\n                context.clearRect(chart.region.x, chart.region.y, chart.region.width, chart.region.height);\n                cache.first = true;\n                context.lineJoin = \"bevel\";\n                context.lineCap = \"butt\";\n                context.lineWidth = chart.lineWidth;\n                for(let i = 0; i < state.ids.length; i++){\n                    const v = state.ids[i];\n                    const line = state.charts[v];\n                    if (line.color.alpha === 0) continue;\n                    if (state.y_scaled && i > 1) continue;\n                    if (state.y_scaled) {\n                        chart.scaleY = chart[`scaleY${i}`];\n                        chart.offsetY = chart[`offsetY${i}`];\n                    }\n                    context.globalAlpha = line.color.alpha;\n                    context.strokeStyle = line.color.hex;\n                    context.fillStyle = line.color.hex;\n                    if (line.type === \"line\") $2c8c620964d7adca$require$drawLine(context, line.values, chart, line.type === \"line\", cache);\n                    if (line.type === \"bar\") $2c8c620964d7adca$require$drawBar(context, line.values, chart, cache);\n                    if (line.type === \"area\") $2c8c620964d7adca$require$drawArea(context, line.values, chart, cache);\n                    cache.first = false;\n                }\n                context.globalAlpha = state.window.mask.color.alpha;\n                context.fillStyle = state.window.mask.color.hex;\n                context.fillRect(chart.x, chart.y, track.left, chart.height);\n                if (track.right !== chart.region.width) context.fillRect(track.right, chart.y, chart.width - track.right, chart.height);\n                context.globalAlpha = state.window.tracker.color.alpha;\n                context.fillStyle = state.window.tracker.color.hex;\n                $2c8c620964d7adca$require$drawTrack(context, track.left, track.width, track.height, track.borderRadius, 1);\n                $2c8c620964d7adca$require$drawTrack(context, track.right, -track.width, track.height, track.borderRadius, -1);\n                context.fillRect(track.left, 0, track.right - track.left, track.padding);\n                context.fillRect(track.left, chart.region.height - track.padding, track.right - track.left, track.padding);\n            }\n        },\n        register: (callback)=>callback({\n                id: \"preview\",\n                element: canvas,\n                bounds: bounds\n            })\n    };\n};\n\n\nvar $3ee3be402d4f47aa$exports = {};\nconst $3ee3be402d4f47aa$var$createControl = (chart)=>{\n    const checkbox = document.createElement(\"div\");\n    checkbox.className = \"tc-checkbox\";\n    checkbox.style.backgroundColor = chart.color.hex;\n    const wrapper = document.createElement(\"div\");\n    wrapper.appendChild(checkbox);\n    wrapper.appendChild(document.createTextNode(chart.name));\n    wrapper.className = \"tc-control tc-checked\";\n    return {\n        id: chart.id,\n        element: wrapper\n    };\n};\n$3ee3be402d4f47aa$exports = (state)=>{\n    if (state.ids.length < 2) return {\n        element: null,\n        render: ()=>{},\n        register: ()=>{}\n    };\n    const wrapper = document.createElement(\"div\");\n    wrapper.className = \"tc-controls\";\n    const controls = state.ids.map((v)=>{\n        const control = $3ee3be402d4f47aa$var$createControl(state.charts[v]);\n        wrapper.appendChild(control.element);\n        return control;\n    });\n    return {\n        element: wrapper,\n        render: ()=>{},\n        register: (callback)=>callback({\n                element: wrapper,\n                controls: controls\n            })\n    };\n};\n\n\nvar $0cd0619448b345a1$exports = {};\n\nvar $0cd0619448b345a1$require$formatDate = $b8e0f637eb9e6a50$export$3ae94a2503e890a1;\nvar $0cd0619448b345a1$require$bound = $b8e0f637eb9e6a50$export$adf7c0fe6059d774;\nconst $0cd0619448b345a1$var$createTotal = (state)=>{\n    const wrapper = document.createElement(\"div\");\n    wrapper.className = \"tc-tooltip__value tc-tooltip__value--hidden\";\n    const name = document.createElement(\"span\");\n    const value = document.createElement(\"span\");\n    wrapper.appendChild(name.appendChild(document.createTextNode(\"All\")));\n    wrapper.appendChild(value);\n    const previousState = {};\n    return {\n        element: wrapper,\n        render: (force, index)=>{\n            if (force || previousState.stacked !== state.stacked) {\n                previousState.stacked = state.stacked;\n                if (state.stacked) wrapper.classList.remove(\"tc-tooltip__value--hidden\");\n                else wrapper.classList.add(\"tc-tooltip__value--hidden\");\n            }\n            if (state.stacked && (force || previousState.index !== index)) {\n                previousState.index = index;\n                if (index) value.textContent = state.y.sum[index];\n            }\n        }\n    };\n};\nconst $0cd0619448b345a1$var$createValue = (chart)=>{\n    const element = document.createElement(\"div\");\n    element.className = \"tc-tooltip__value\";\n    const name = document.createElement(\"span\");\n    const value = document.createElement(\"span\");\n    value.style.color = chart.color.hex;\n    element.appendChild(name.appendChild(document.createTextNode(chart.name)));\n    element.appendChild(value);\n    const previousState = {};\n    return {\n        id: chart.id,\n        element: element,\n        render: (force, index)=>{\n            if (force || previousState.disabled !== chart.disabled) {\n                previousState.disabled = chart.disabled;\n                if (chart.disabled) element.classList.add(\"tc-tooltip__value--hidden\");\n                else element.classList.remove(\"tc-tooltip__value--hidden\");\n            }\n            if (force || previousState.index !== index) {\n                previousState.index = index;\n                if (index != null) value.textContent = chart.values[index];\n            }\n        }\n    };\n};\n$0cd0619448b345a1$exports = (state, options)=>{\n    const element = document.createElement(\"div\");\n    element.className = \"tc-tooltip tc-tooltip--hidden\";\n    const nameWrapper = document.createElement(\"div\");\n    nameWrapper.className = \"tc-tooltip__value\";\n    const name = document.createElement(\"div\");\n    name.className = \"tc-tooltip__name\";\n    const arrow = document.createElement(\"div\");\n    arrow.className = \"tc-tooltip__arrow\";\n    nameWrapper.appendChild(name);\n    nameWrapper.appendChild(arrow);\n    const wrapper = document.createElement(\"div\");\n    wrapper.className = \"tc-tooltip__wrapper\";\n    const values = state.ids.map((v)=>{\n        const value = $0cd0619448b345a1$var$createValue(state.charts[v]);\n        wrapper.appendChild(value.element);\n        return value;\n    });\n    const total = $0cd0619448b345a1$var$createTotal(state);\n    wrapper.appendChild(total.element);\n    element.appendChild(nameWrapper);\n    element.appendChild(wrapper);\n    const previousState = {\n        tooltip: {}\n    };\n    const cache = {};\n    return {\n        element: element,\n        register: (callback)=>callback({\n                id: \"tooltip\",\n                element: element\n            }),\n        render: (force)=>{\n            if (force) cache.formatX = options && options.formatX || $0cd0619448b345a1$require$formatDate;\n            const visible = state.tooltip.indexD || state.tooltip.indexD === 0;\n            if (force || cache.visible !== visible) {\n                cache.visible = visible;\n                if (visible) element.classList.remove(\"tc-tooltip--hidden\");\n                else element.classList.add(\"tc-tooltip--hidden\");\n            }\n            if (force || previousState.tooltip.indexD !== state.tooltip.indexD) {\n                previousState.tooltip.indexD = state.tooltip.indexD;\n                if (visible) {\n                    element.style.transform = `translateX(${state.tooltip.indexX - 20}px)`;\n                    const offset = state.window.offsetD != null ? state.window.offsetD : state.window.offset | 0;\n                    const index = $0cd0619448b345a1$require$bound(offset + state.tooltip.indexD, 0, state.x.values.length - 1);\n                    name.textContent = cache.formatX(state.x.values[index], \"full\");\n                    values.forEach((v)=>v.render(force, index));\n                    total.render(force, index);\n                }\n            }\n        }\n    };\n};\n\n\nvar $e2f6a4cdba36f1bf$exports = {};\n\nvar $e2f6a4cdba36f1bf$require$formatDate = $b8e0f637eb9e6a50$export$3ae94a2503e890a1;\n$e2f6a4cdba36f1bf$exports = (state, options)=>{\n    const wrapper = document.createElement(\"div\");\n    wrapper.className = \"tc-range\";\n    const from = document.createElement(\"div\");\n    const to = document.createElement(\"div\");\n    wrapper.appendChild(from);\n    wrapper.appendChild(document.createTextNode(\" - \"));\n    wrapper.appendChild(to);\n    const previousState = {\n        window: {}\n    };\n    const cache = {};\n    return {\n        element: wrapper,\n        render: (force)=>{\n            const offset = state.window.offsetD === undefined ? state.window.offset | 0 : state.window.offsetD;\n            const width = state.window.widthD === undefined ? state.window.width | 0 : state.window.widthD;\n            if (force) cache.formatX = options && options.formatX || $e2f6a4cdba36f1bf$require$formatDate;\n            if (force || previousState.window.widthD !== width || previousState.window.offsetD !== offset) {\n                previousState.window.widthD = width;\n                previousState.window.offsetD = offset;\n                from.textContent = cache.formatX(state.x.values[offset], \"date\");\n                to.textContent = cache.formatX(state.x.values[offset + width - 1], \"date\");\n            }\n        },\n        register: ()=>{}\n    };\n};\n\n\nvar $55a0aaf060e4987c$exports = {};\nvar $e925086cfa751e50$export$c51fd3828de69e28;\nvar $3782c6c959e46d57$export$e3607ec2d7a891c4;\nvar $3782c6c959e46d57$export$45db2fc2f15997e7;\nvar $3782c6c959e46d57$export$24656b269d8df7d6;\nvar $3782c6c959e46d57$export$1157fb72e7fbceb5;\nvar $3782c6c959e46d57$export$42add3d9cb3645a2;\nconst $3782c6c959e46d57$var$linear = (t)=>t;\nconst $3782c6c959e46d57$var$easeInOutCubic = (t)=>t < 0.5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1;\nconst $3782c6c959e46d57$var$easeOutCubic = (t)=>--t * t * t + 1;\nconst $3782c6c959e46d57$var$easeInOutQuad = (t)=>t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t;\nconst $3782c6c959e46d57$var$update = (state, from, to, progress)=>{\n    if (Array.isArray(from)) {\n        from.forEach((v, i)=>{\n            state[i] = $3782c6c959e46d57$var$update(state[i], v, to[i], progress);\n        });\n        return state;\n    }\n    if (typeof from === \"object\") return Object.keys(from).reduce((acc, v)=>{\n        acc[v] = $3782c6c959e46d57$var$update(state[v], from[v], to[v], progress);\n        return acc;\n    }, state);\n    if (typeof from === \"boolean\") return progress === 1 ? to : from;\n    return from + (to - from) * progress;\n};\nconst $3782c6c959e46d57$var$clone = (from)=>{\n    if (Array.isArray(from)) return from.map((v)=>$3782c6c959e46d57$var$clone(v));\n    if (typeof from === \"object\") return Object.keys(from).reduce((acc, v)=>{\n        acc[v] = $3782c6c959e46d57$var$clone(from[v]);\n        return acc;\n    }, {});\n    return from;\n};\nconst $3782c6c959e46d57$var$animate = (from, to, step, options)=>{\n    const params = Object.assign({\n        delay: 0,\n        duration: 300,\n        start: null,\n        easing: $3782c6c959e46d57$var$linear,\n        onFinish: null\n    }, options);\n    const state = $3782c6c959e46d57$var$clone(from);\n    return (now)=>{\n        if (!params.start) {\n            params.start = now;\n            return true;\n        }\n        const elapsed = now - params.start;\n        if (elapsed < params.delay) return true;\n        const finished = elapsed >= params.duration;\n        const progress = finished ? 1 : Math.min(Math.max(params.easing(elapsed / params.duration), 0), 1);\n        const delta = $3782c6c959e46d57$var$update(state, from, to, progress);\n        step(delta);\n        if (finished && options.onFinish) options.onFinish(delta);\n        return finished === false;\n    };\n};\n$3782c6c959e46d57$export$e3607ec2d7a891c4 = $3782c6c959e46d57$var$animate;\n$3782c6c959e46d57$export$45db2fc2f15997e7 = $3782c6c959e46d57$var$linear;\n$3782c6c959e46d57$export$24656b269d8df7d6 = $3782c6c959e46d57$var$easeInOutCubic;\n$3782c6c959e46d57$export$1157fb72e7fbceb5 = $3782c6c959e46d57$var$easeOutCubic;\n$3782c6c959e46d57$export$42add3d9cb3645a2 = $3782c6c959e46d57$var$easeInOutQuad;\n\n\nvar $e925086cfa751e50$require$animate = $3782c6c959e46d57$export$e3607ec2d7a891c4;\nvar $e925086cfa751e50$require$easeInOutQuad = $3782c6c959e46d57$export$42add3d9cb3645a2;\n\nvar $e925086cfa751e50$require$findMatrix = $b8e0f637eb9e6a50$export$3e262f87c4a23d75;\nvar $e925086cfa751e50$require$findSum = $b8e0f637eb9e6a50$export$bb120a8661113875;\n\nconst $e925086cfa751e50$var$createToggleAnimation = (state, render)=>{\n    let sum = [];\n    if (state.stacked) {\n        sum = $e925086cfa751e50$require$findSum(state);\n        if (!state.percentage) state.y.mmtree = $17804dc284f5f568$export$185802fd694ee1f5(sum);\n    }\n    const globalYMatrix = $e925086cfa751e50$require$findMatrix(state, 0, state.x.values.length);\n    const windowYMatrix = $e925086cfa751e50$require$findMatrix(state, state.window.offset, state.window.offset + state.window.width);\n    const currentAlpha = state.ids.reduce((acc, v)=>{\n        acc[v] = state.charts[v].color.alpha;\n        return acc;\n    }, {});\n    const targetAlpha = state.ids.reduce((acc, v)=>{\n        acc[v] = state.charts[v].disabled ? 0 : 1;\n        return acc;\n    }, {});\n    const animation = $e925086cfa751e50$require$animate({\n        sum: state.y.sum || [],\n        alpha: currentAlpha,\n        y: state.y.matrix,\n        y0: state.y0.matrix\n    }, {\n        sum: sum,\n        alpha: targetAlpha,\n        y: globalYMatrix,\n        y0: windowYMatrix\n    }, (step)=>{\n        for(let i = 0; i < state.ids.length; i++){\n            const id = state.ids[i];\n            state.charts[id].color.alpha = step.alpha[id];\n        }\n        state.y.matrix = step.y;\n        state.y0.matrix = step.y0;\n        if (state.stacked) state.y.sum = step.sum;\n    }, {\n        duration: 500,\n        easing: $e925086cfa751e50$require$easeInOutQuad\n    });\n    return {\n        draw: render,\n        update: animation\n    };\n};\n$e925086cfa751e50$export$c51fd3828de69e28 = $e925086cfa751e50$var$createToggleAnimation;\n\n\nvar $55a0aaf060e4987c$require$createToggleAnimation = $e925086cfa751e50$export$c51fd3828de69e28;\nconst $55a0aaf060e4987c$var$getChartsVisible = (state)=>{\n    return state.ids.reduce((acc, v)=>acc + (state.charts[v].disabled ? 0 : 1), 0);\n};\n$55a0aaf060e4987c$exports = (state, engine, render)=>(wrapper)=>{\n        let animation = null;\n        const handleToggleOne = (controller)=>{\n            const chart = state.charts[controller.id];\n            const chartsVisible = $55a0aaf060e4987c$var$getChartsVisible(state);\n            if (!chart.disabled && chartsVisible < 2) {\n                controller.element.classList.add(\"apply-shake\");\n                return;\n            }\n            engine.cancelAnimation(animation);\n            chart.disabled = !chart.disabled;\n            if (chart.disabled) {\n                controller.element.classList.remove(\"tc-checked\");\n                animation = engine.registerAnimation($55a0aaf060e4987c$require$createToggleAnimation(state, render));\n            } else {\n                controller.element.classList.add(\"tc-checked\");\n                animation = engine.registerAnimation($55a0aaf060e4987c$require$createToggleAnimation(state, render));\n            }\n        };\n        const handleToggleAll = (controller)=>{\n            engine.cancelAnimation(animation);\n            const chart = state.charts[controller.id];\n            const chartsVisible = $55a0aaf060e4987c$var$getChartsVisible(state);\n            if (!chart.disabled && chartsVisible < 2) {\n                // check all when long pressing single checked filter\n                state.ids.forEach((v)=>{\n                    state.charts[v].disabled = false;\n                });\n                wrapper.controls.forEach((v)=>{\n                    v.element.classList.add(\"tc-checked\");\n                });\n                animation = engine.registerAnimation($55a0aaf060e4987c$require$createToggleAnimation(state, render, true));\n            } else {\n                state.ids.forEach((v)=>{\n                    state.charts[v].disabled = v !== controller.id;\n                });\n                wrapper.controls.forEach((v)=>{\n                    if (v !== controller) v.element.classList.remove(\"tc-checked\");\n                    else v.element.classList.add(\"tc-checked\");\n                });\n                animation = engine.registerAnimation($55a0aaf060e4987c$require$createToggleAnimation(state, render));\n            }\n        };\n        let timeout = null;\n        const handleLongPress = (c)=>{\n            clearTimeout(timeout);\n            timeout = setTimeout(()=>{\n                handleToggleAll(c);\n                timeout = null;\n            }, 1000);\n        };\n        const handleSimplePress = (c)=>{\n            if (!timeout) return;\n            clearTimeout(timeout);\n            handleToggleOne(c);\n        };\n        wrapper.controls.forEach((c)=>{\n            c.element.addEventListener(\"animationend\", ()=>{\n                c.element.classList.remove(\"apply-shake\");\n            });\n            c.element.addEventListener(\"touchstart\", ()=>{\n                handleLongPress(c);\n            }, engine.passive);\n            c.element.addEventListener(\"touchend\", (e)=>{\n                e.preventDefault();\n                handleSimplePress(c);\n            });\n            c.element.addEventListener(\"touchcancel\", (e)=>{\n                e.preventDefault();\n                handleSimplePress(c);\n            });\n            c.element.addEventListener(\"mousedown\", ()=>{\n                handleLongPress(c);\n            }, engine.passive);\n            c.element.addEventListener(\"mouseup\", ()=>{\n                handleSimplePress(c);\n            }, engine.passive);\n        });\n    };\n\n\nvar $b3bd6dc5f93c3789$exports = {};\nvar $ac3c46d3b15a2e65$export$8f9202061de27824;\n\nvar $ac3c46d3b15a2e65$require$animate = $3782c6c959e46d57$export$e3607ec2d7a891c4;\nconst $ac3c46d3b15a2e65$var$createTooltipAnimation = (state, event, render)=>{\n    let previous = state.tooltip.indexD;\n    let animation = null;\n    return {\n        draw: render,\n        update: (ms)=>{\n            if (event.done) {\n                state.tooltip.index = null;\n                state.tooltip.indexD = null;\n                return false;\n            }\n            if (animation) {\n                const running = animation(ms);\n                if (!running) animation = null;\n            }\n            const indexD = Math.max(Math.floor(event.offsetX * event.step), 0);\n            if (indexD !== previous) {\n                const indexX = Math.round(indexD / event.step);\n                if (state.tooltip.index !== null) animation = $ac3c46d3b15a2e65$require$animate(state.tooltip.index, indexD, (step)=>{\n                    state.tooltip.index = step;\n                    state.tooltip.indexD = indexD;\n                    state.tooltip.indexX = indexX;\n                }, {\n                    start: ms,\n                    duration: 150\n                });\n                else {\n                    state.tooltip.index = indexD;\n                    state.tooltip.indexD = indexD;\n                    state.tooltip.indexX = indexX;\n                }\n                previous = indexD;\n            }\n            return true;\n        }\n    };\n};\n$ac3c46d3b15a2e65$export$8f9202061de27824 = $ac3c46d3b15a2e65$var$createTooltipAnimation;\n\n\nvar $b3bd6dc5f93c3789$require$createTooltipAnimation = $ac3c46d3b15a2e65$export$8f9202061de27824;\n$b3bd6dc5f93c3789$exports = (state, engine, render)=>(v)=>{\n        let animation = null;\n        let event = null;\n        const handleStart = (offsetX, width)=>{\n            if (event || Number.isNaN(offsetX)) return;\n            const windowWidth = state.window.widthD || state.window.widthD === 0 ? state.window.widthD : state.window.width | 0;\n            event = {\n                offsetX: offsetX,\n                step: windowWidth / width,\n                done: false\n            };\n            engine.cancelAnimation(animation);\n            animation = engine.registerAnimation($b3bd6dc5f93c3789$require$createTooltipAnimation(state, event, render));\n        };\n        const handleCancel = ()=>{\n            if (!event) return;\n            event.done = true;\n            event = null;\n        };\n        const handleMove = (offsetX)=>{\n            if (!event) return;\n            event.offsetX = offsetX;\n        };\n        engine.addEventListener(\"mousemove\", (e)=>{\n            if (e.target !== v.canvas) return;\n            const offsetX = e.pageX - v.bounds.left;\n            if (event) handleMove(offsetX);\n            else handleStart(offsetX, v.bounds.right - v.bounds.left);\n        });\n        engine.addEventListener(\"touchstart\", (e)=>{\n            if (e.target !== v.canvas) handleCancel();\n            else {\n                const pageX = e.targetTouches[0].pageX;\n                const offsetX = pageX - v.bounds.left;\n                if (event) handleMove(offsetX);\n                else handleStart(offsetX, v.bounds.right - v.bounds.left);\n            }\n        });\n        v.element.addEventListener(\"mouseenter\", (e)=>{\n            if (e.target !== v.canvas) return;\n            handleStart(e.pageX - v.bounds.left, v.bounds.right - v.bounds.left);\n        }, engine.passive);\n        v.element.addEventListener(\"mouseleave\", (e)=>{\n            handleCancel();\n        }, engine.passive);\n    };\n\n\nvar $c5d1097dc4dc9fd5$exports = {};\n\nvar $c5d1097dc4dc9fd5$require$bound = $b8e0f637eb9e6a50$export$adf7c0fe6059d774;\nvar $e42fbce1210d2645$export$cbd1365f17fd9511;\nvar $e42fbce1210d2645$export$7e07a51e179b44a5;\n\nvar $e42fbce1210d2645$require$animate = $3782c6c959e46d57$export$e3607ec2d7a891c4;\nvar $e42fbce1210d2645$require$easeOutCubic = $3782c6c959e46d57$export$1157fb72e7fbceb5;\n\nvar $e42fbce1210d2645$require$findMatrix = $b8e0f637eb9e6a50$export$3e262f87c4a23d75;\nvar $e42fbce1210d2645$require$bound = $b8e0f637eb9e6a50$export$adf7c0fe6059d774;\nconst $e42fbce1210d2645$var$createAnimation = (state, nextOffset, nextWidth, ms)=>{\n    const windowYMatrix = $e42fbce1210d2645$require$findMatrix(state, nextOffset, nextOffset + nextWidth);\n    return $e42fbce1210d2645$require$animate({\n        offset: state.window.offset,\n        width: state.window.width,\n        y0: state.y0.matrix\n    }, {\n        offset: nextOffset,\n        width: nextWidth,\n        y0: windowYMatrix\n    }, (step)=>{\n        state.window.offset = step.offset;\n        state.window.offsetD = nextOffset;\n        state.window.width = step.width;\n        state.window.widthD = nextWidth;\n        state.y0.matrix = step.y0;\n    }, {\n        start: ms,\n        duration: 300,\n        easing: $e42fbce1210d2645$require$easeOutCubic\n    });\n};\nconst $e42fbce1210d2645$var$resizeRight = (state, initial, shift, ms)=>{\n    const width = initial.width + shift;\n    const nextWidth = $e42fbce1210d2645$require$bound(width, state.window.minwidth, state.x.values.length);\n    const nextOffset = $e42fbce1210d2645$require$bound(initial.offset + width - nextWidth, 0, state.x.values.length - nextWidth);\n    return $e42fbce1210d2645$var$createAnimation(state, nextOffset, nextWidth, ms);\n};\nconst $e42fbce1210d2645$var$resizeLeft = (state, initial, shift, ms)=>{\n    const nextWidth = $e42fbce1210d2645$require$bound(initial.width - shift, state.window.minwidth, state.x.values.length);\n    const nextOffset = $e42fbce1210d2645$require$bound(initial.offset + shift, 0, state.x.values.length - nextWidth);\n    return $e42fbce1210d2645$var$createAnimation(state, nextOffset, nextWidth, ms);\n};\nconst $e42fbce1210d2645$var$drag = (state, initial, shift, ms)=>{\n    const nextOffset = $e42fbce1210d2645$require$bound(initial.offset + shift, 0, state.x.values.length - state.window.width);\n    return $e42fbce1210d2645$var$createAnimation(state, nextOffset, initial.width, ms);\n};\nconst $e42fbce1210d2645$var$createScrollAnimation = (state, event, render)=>{\n    const current = {\n        shift: 0\n    };\n    const initial = {\n        offset: state.window.offset,\n        width: state.window.width\n    };\n    let animation = null;\n    return {\n        draw: render,\n        update: (ms)=>{\n            if (animation) {\n                const running = animation(ms);\n                if (!running) animation = null;\n            }\n            const shift = Math.ceil((event.pageX - event.initialPageX) * event.step);\n            if (shift !== current.shift) {\n                if (event.type === \"drag\") animation = $e42fbce1210d2645$var$drag(state, initial, shift, ms);\n                else if (event.type === \"resize-left\") animation = $e42fbce1210d2645$var$resizeLeft(state, initial, shift, ms);\n                else if (event.type === \"resize-right\") animation = $e42fbce1210d2645$var$resizeRight(state, initial, shift, ms);\n                current.shift = shift;\n            }\n            return animation !== null || !event.done;\n        }\n    };\n};\nconst $e42fbce1210d2645$var$createInspectAnimation = (state, event, render)=>{\n    const windowYMatrix = $e42fbce1210d2645$require$findMatrix(state, event.offset, event.offset + event.width);\n    return {\n        draw: render,\n        update: $e42fbce1210d2645$require$animate({\n            offset: state.window.offset,\n            width: state.window.width,\n            y0: state.y0.matrix\n        }, {\n            offset: event.offset,\n            width: event.width,\n            y0: windowYMatrix\n        }, (step)=>{\n            state.window.offset = step.offset;\n            state.window.offsetD = event.offset;\n            state.window.width = step.width;\n            state.window.widthD = event.width;\n            state.y0.matrix = step.y0;\n        }, {\n            duration: 500,\n            easing: $e42fbce1210d2645$require$easeOutCubic\n        })\n    };\n};\n$e42fbce1210d2645$export$cbd1365f17fd9511 = $e42fbce1210d2645$var$createScrollAnimation;\n$e42fbce1210d2645$export$7e07a51e179b44a5 = $e42fbce1210d2645$var$createInspectAnimation;\n\n\nvar $c5d1097dc4dc9fd5$require$createScrollAnimation = $e42fbce1210d2645$export$cbd1365f17fd9511;\nvar $c5d1097dc4dc9fd5$require$createInspectAnimation = $e42fbce1210d2645$export$7e07a51e179b44a5;\nconst $c5d1097dc4dc9fd5$var$determineAction = (state, offsetX, width, mobile)=>{\n    const scaleX = width / (state.x.values.length - 1);\n    // make life easier for mobile devices\n    const trackerWidth = state.window.tracker.width * (mobile ? 3 : 1);\n    const leftTrackX = state.window.offset * scaleX - (mobile ? state.window.tracker.width : 0);\n    const rightTrackX = (state.window.offset + state.window.width - 1) * scaleX + (mobile ? state.window.tracker.width : 0);\n    if (offsetX < leftTrackX || offsetX > rightTrackX) return \"scroll\";\n    if (offsetX > leftTrackX + trackerWidth && offsetX < rightTrackX - trackerWidth) return \"drag\";\n    if (offsetX >= leftTrackX && offsetX <= leftTrackX + trackerWidth) return \"resize-left\";\n    return \"resize-right\";\n};\n$c5d1097dc4dc9fd5$exports = (state, engine, render)=>(v)=>{\n        // const listenerOptions = engine.passiveSupported ? { passive: true } : false;\n        let event = null;\n        let animation = null;\n        const handleInspect = (offsetX, width)=>{\n            const scaleX = width / state.x.values.length;\n            const action = $c5d1097dc4dc9fd5$var$determineAction(state, offsetX, width);\n            let inspectEvent;\n            if (action === \"resize-left\") inspectEvent = {\n                offset: 0,\n                width: state.window.offset + state.window.width\n            };\n            else if (action === \"resize-right\") inspectEvent = {\n                offset: state.window.offset,\n                width: state.x.values.length - state.window.offset\n            };\n            else inspectEvent = {\n                offset: $c5d1097dc4dc9fd5$require$bound(Math.round(offsetX / scaleX - state.window.minwidth / 2), 0, state.x.values.length - state.window.minwidth),\n                width: state.window.minwidth\n            };\n            engine.cancelAnimation(animation);\n            animation = engine.registerAnimation($c5d1097dc4dc9fd5$require$createInspectAnimation(state, inspectEvent, render));\n        };\n        const handleStart = (offsetX, pageX, width)=>{\n            if (event) return;\n            event = {\n                type: $c5d1097dc4dc9fd5$var$determineAction(state, offsetX, width, engine.mobile),\n                initialPageX: pageX,\n                step: state.x.values.length / width,\n                pageX: pageX,\n                done: false\n            };\n            engine.cancelAnimation(animation);\n            animation = engine.registerAnimation($c5d1097dc4dc9fd5$require$createScrollAnimation(state, event, render));\n        };\n        const handleMove = (pageX)=>{\n            if (event === null) return;\n            event.pageX = pageX;\n        };\n        const handleCancel = ()=>{\n            if (!event) return;\n            event.done = true;\n            event = null;\n        };\n        v.element.addEventListener(\"mousedown\", (e)=>{\n            e.preventDefault();\n            handleStart(e.pageX - v.bounds.left, e.pageX, v.bounds.right - v.bounds.left);\n        }, false);\n        v.element.addEventListener(\"touchstart\", (e)=>{\n            e.preventDefault();\n            const pageX = e.targetTouches[0].pageX;\n            handleStart(pageX - v.bounds.left, pageX, v.bounds.right - v.bounds.left);\n        }, false);\n        v.element.addEventListener(\"dblclick\", (e)=>{\n            e.preventDefault();\n            handleInspect(e.pageX - v.bounds.left, v.bounds.right - v.bounds.left);\n        }, false);\n        v.element.addEventListener(\"touchstart\", (e)=>{\n            e.preventDefault();\n            const pageX = e.targetTouches[0].pageX;\n            handleStart(pageX - v.bounds.left, pageX, v.bounds.right - v.bounds.left);\n        }, false);\n        engine.addEventListener(\"mousemove\", (e)=>{\n            if (!event) return;\n            handleMove(e.pageX);\n        });\n        engine.addEventListener(\"touchmove\", (e)=>{\n            if (!event) return;\n            handleMove(e.targetTouches[0].pageX);\n        });\n        engine.addEventListener(\"mouseup\", handleCancel);\n        engine.addEventListener(\"touchcancel\", handleCancel);\n        engine.addEventListener(\"touchend\", handleCancel);\n    // v.element.addEventListener(\n    //   \"touchstart\",\n    //   e => {\n    //     const rect = e.target.getBoundingClientRect();\n    //     const offsetX = e.targetTouches[0].pageX - rect.left;\n    //     handleStart(offsetX, e.target.width);\n    //   },\n    //   engine.passiveSupported ? { passive: true } : false\n    // );\n    // v.element.addEventListener(\"touchmove\", e => {\n    //   if (!animation) return;\n    //   const rect = e.target.getBoundingClientRect();\n    //   state.window.offsetX = e.targetTouches[0].pageX - rect.left;\n    //   state.window.targetWidth = e.target.width;\n    // });\n    // v.element.addEventListener(\"mousemove\", e => {\n    //   if (!animation) return;\n    //   state.window.offsetX = e.offsetX;\n    //   state.window.targetWidth = e.target.width;\n    // });\n    // v.element.addEventListener(\"mouseleave\", handleCancel);\n    // v.element.addEventListener(\"mouseup\", handleCancel);\n    // v.element.addEventListener(\"touchcancel\", handleCancel);\n    // v.element.addEventListener(\"touchend\", handleCancel);\n    };\n\n\nvar $e75afd0630324077$exports = {};\n\nvar $e75afd0630324077$require$bound = $b8e0f637eb9e6a50$export$adf7c0fe6059d774;\n// const { createTooltipAnimation } = require(\"../animations/tooltip\");\n$e75afd0630324077$exports = (api, state, engine, render)=>(v)=>{\n        // let animation = null;\n        v.element.addEventListener(\"click\", ()=>{\n            api.zoomIn;\n        });\n    };\n\n\nconst $97101d4f389b7f39$var$mountDefault = (element, components)=>{\n    element.className = \"tc-wrapper\";\n    element.appendChild(components.range);\n    element.appendChild(components.view);\n    element.appendChild(components.preview);\n    element.appendChild(components.controls);\n};\nfunction $97101d4f389b7f39$var$telechart(data, options) {\n    /*\n   * Engine handles rendering and initialized once on the page.\n   */ const engine = $62ae09ae3037ba57$exports();\n    /*\n   * Calculate initial state for chart.\n   * TODO: Move to WebWorker to optimize page loading speed\n   */ const state = $04af63a21a4c58b8$exports(data);\n    /*\n   * Initialize API\n   */ const api = {};\n    /*\n   * Create components used by chart\n   * Component creators must return single object with following properties:\n   *  element  - element that will be added to the DOM tree\n   *  render   - function that updates component based on provided state once called\n   *  register - function that receives single callback, can be used to add event handlers\n   */ const tooltip = $0cd0619448b345a1$exports(state);\n    const view = $f28366862269443b$exports(state);\n    // adds tooltip to view wrapper\n    // important for proper event handling\n    view.element.appendChild(tooltip.element);\n    const preview = $2c8c620964d7adca$exports(state);\n    const controls = $3ee3be402d4f47aa$exports(state);\n    const range = $e2f6a4cdba36f1bf$exports(state);\n    // Handle click events for toggle\n    controls.register($55a0aaf060e4987c$exports(state, engine, [\n        view.render,\n        preview.render\n    ]));\n    // // Handle mouseover and click events for zooming and tooltip\n    view.register($b3bd6dc5f93c3789$exports(state, engine, [\n        view.render,\n        tooltip.render\n    ]));\n    // Handle mouse and touch events for preview interactions\n    preview.register($c5d1097dc4dc9fd5$exports(state, engine, [\n        view.render,\n        preview.render,\n        range.render\n    ]));\n    tooltip.register($e75afd0630324077$exports(api, state, engine, []));\n    const components = {\n        view: view,\n        controls: controls,\n        preview: preview,\n        tooltip: tooltip,\n        range: range\n    };\n    const elements = {\n        view: view.element,\n        preview: preview.element,\n        controls: controls.element,\n        range: range.element\n    };\n    const _r = [\n        view.render,\n        preview.render,\n        range.render,\n        tooltip.render\n    ];\n    const render = (force, immediately)=>{\n        if (immediately) _r.forEach((v)=>v(force));\n        else engine.registerAnimation({\n            force: force,\n            draw: _r\n        });\n    };\n    /*\n   * API for chart\n   */ api.mount = (func)=>{\n        if (typeof func === \"function\") func(elements);\n        else $97101d4f389b7f39$var$mountDefault(func, elements);\n        // Render all components for the first time\n        render(true, false);\n        return api;\n    };\n    api.update = (func)=>{\n        func(engine, state, components);\n        return api;\n    };\n    api.render = (force, immediately)=>{\n        render(force, immediately);\n        return api;\n    };\n    api.onZoomIn = (func)=>{\n        api.zoomIn = func;\n        return api;\n    };\n    return api;\n}\n$97101d4f389b7f39$exports = {\n    createEngine: $62ae09ae3037ba57$exports,\n    createState: $04af63a21a4c58b8$exports,\n    createView: $f28366862269443b$exports,\n    createPreview: $2c8c620964d7adca$exports,\n    createControls: $3ee3be402d4f47aa$exports,\n    createTooltip: $0cd0619448b345a1$exports,\n    createRange: $e2f6a4cdba36f1bf$exports,\n    createControlHandlers: $55a0aaf060e4987c$exports,\n    createTooltipHandler: $b3bd6dc5f93c3789$exports,\n    createPreviewHandler: $c5d1097dc4dc9fd5$exports,\n    createZoomHandler: $e75afd0630324077$exports,\n    mountDefault: $97101d4f389b7f39$var$mountDefault\n};\n$97101d4f389b7f39$exports.default = $97101d4f389b7f39$var$telechart;\n\n\nwindow.telechart = $97101d4f389b7f39$exports.default;\n\n})();\n//# sourceMappingURL=telechart.min.js.map\n","require(\"./index.css\");\nconst telechart = require(\"./core/telechart\");\n\nwindow.telechart = telechart.default;\n","const createEngine = require(\"./engine\");\nconst createState = require(\"./state\");\n\nconst createView = require(\"../components/view\");\nconst createPreview = require(\"../components/preview\");\nconst createControls = require(\"../components/controls\");\nconst createTooltip = require(\"../components/tooltip\");\nconst createRange = require(\"../components/range\");\n\nconst createControlHandlers = require(\"../handlers/controls\");\nconst createTooltipHandler = require(\"../handlers/tooltip\");\nconst createPreviewHandler = require(\"../handlers/preview\");\nconst createZoomHandler = require(\"../handlers/zoom\");\n\nconst mountDefault = (element, components) => {\n  element.className = \"tc-wrapper\";\n\n  element.appendChild(components.range);\n  element.appendChild(components.view);\n  element.appendChild(components.preview);\n  element.appendChild(components.controls);\n};\n\nfunction telechart(data, options) {\n  /*\n   * Engine handles rendering and initialized once on the page.\n   */\n  const engine = createEngine();\n\n  /*\n   * Calculate initial state for chart.\n   * TODO: Move to WebWorker to optimize page loading speed\n   */\n  const state = createState(data);\n\n  /*\n   * Initialize API\n   */\n  const api = {};\n\n  /*\n   * Create components used by chart\n   * Component creators must return single object with following properties:\n   *  element  - element that will be added to the DOM tree\n   *  render   - function that updates component based on provided state once called\n   *  register - function that receives single callback, can be used to add event handlers\n   */\n  const tooltip = createTooltip(state);\n  const view = createView(state);\n\n  // adds tooltip to view wrapper\n  // important for proper event handling\n  view.element.appendChild(tooltip.element);\n\n  const preview = createPreview(state);\n  const controls = createControls(state);\n  const range = createRange(state);\n\n  // Handle click events for toggle\n  controls.register(\n    createControlHandlers(state, engine, [view.render, preview.render])\n  );\n\n  // // Handle mouseover and click events for zooming and tooltip\n  view.register(\n    createTooltipHandler(state, engine, [view.render, tooltip.render])\n  );\n\n  // Handle mouse and touch events for preview interactions\n  preview.register(\n    createPreviewHandler(state, engine, [\n      view.render,\n      preview.render,\n      range.render,\n    ])\n  );\n  tooltip.register(createZoomHandler(api, state, engine, []));\n\n  const components = {\n    view,\n    controls,\n    preview,\n    tooltip,\n    range,\n  };\n\n  const elements = {\n    view: view.element,\n    preview: preview.element,\n    controls: controls.element,\n    range: range.element,\n  };\n\n  const _r = [view.render, preview.render, range.render, tooltip.render];\n  const render = (force, immediately) => {\n    if (immediately) {\n      _r.forEach((v) => v(force));\n    } else {\n      engine.registerAnimation({\n        force,\n        draw: _r,\n      });\n    }\n  };\n\n  /*\n   * API for chart\n   */\n\n  api.mount = (func) => {\n    if (typeof func === \"function\") {\n      func(elements);\n    } else {\n      mountDefault(func, elements);\n    }\n\n    // Render all components for the first time\n    render(true, false);\n\n    return api;\n  };\n  api.update = (func) => {\n    func(engine, state, components);\n    return api;\n  };\n  api.render = (force, immediately) => {\n    render(force, immediately);\n    return api;\n  };\n  api.onZoomIn = (func) => {\n    api.zoomIn = func;\n    return api;\n  };\n\n  return api;\n}\n\nmodule.exports = {\n  createEngine,\n  createState,\n\n  createView,\n  createPreview,\n  createControls,\n  createTooltip,\n  createRange,\n\n  createControlHandlers,\n  createTooltipHandler,\n  createPreviewHandler,\n  createZoomHandler,\n\n  mountDefault,\n};\n\nmodule.exports.default = telechart;\n","let engine = null;\n\nconst isMobile = function () {\n  var check = false;\n  (function (a) {\n    if (\n      /(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(\n        a\n      ) ||\n      /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(\n        a.substr(0, 4)\n      )\n    )\n      check = true;\n  })(navigator.userAgent || navigator.vendor || window.opera);\n  return check;\n};\n\nconst isPassiveSupported = () => {\n  let passiveSupported = false;\n  try {\n    const options = {\n      get passive() {\n        passiveSupported = true;\n      },\n    };\n\n    window.addEventListener(\"test\", options, options);\n    window.removeEventListener(\"test\", options, options);\n  } catch (err) {\n    return false;\n  }\n  return passiveSupported;\n};\n\nconst createEventListeners = () => {\n  const passiveSupported = isPassiveSupported();\n\n  engine.passiveSupported = passiveSupported;\n  engine.passive = passiveSupported ? { passive: true, capture: false } : false;\n\n  window.addEventListener(\"mousedown\", engine.handleEvent, engine.passive);\n  window.addEventListener(\"mouseup\", engine.handleEvent, engine.passive);\n  window.addEventListener(\"mousemove\", engine.handleEvent, engine.passive);\n  window.addEventListener(\"touchmove\", engine.handleEvent, engine.passive);\n  window.addEventListener(\"touchcancel\", engine.handleEvent, engine.passive);\n  window.addEventListener(\"touchend\", engine.handleEvent, engine.passive);\n  window.addEventListener(\"touchstart\", engine.handleEvent, engine.passive);\n};\n\nmodule.exports = () => {\n  if (!engine) {\n    engine = {\n      mobile: isMobile(),\n      passiveSupported: false,\n\n      animations: [],\n      listeners: {\n        mousedown: [],\n        mouseup: [],\n        mousemove: [],\n        touchmove: [],\n        touchcancel: [],\n        touchend: [],\n        touchstart: [],\n      },\n\n      handleEvent: (e) => {\n        engine.listeners[e.type].forEach((v) => v(e));\n      },\n\n      addEventListener: (type, listener) => {\n        engine.listeners[type].push(listener);\n      },\n\n      removeEventListener: (type, listener) => {\n        engine.listeners[type] = engine.listeners[type].filter(\n          (v) => v !== listener\n        );\n      },\n\n      registerAnimation: (animation) => {\n        engine.animations.push(animation);\n\n        if (engine.animations.length === 1) {\n          window.requestAnimationFrame(engine.render);\n        }\n        return animation;\n      },\n\n      cancelAnimation: (animation) => {\n        engine.animations = engine.animations.filter((v) => v !== animation);\n        return null;\n      },\n\n      render: (ms) => {\n        // collect components that requires repainting\n        const draw = [];\n        let force = false;\n        // run animations, filter finished ones\n        engine.animations = engine.animations.filter((v) => {\n          draw.push(v.draw);\n          force = force || v.force;\n          return v.update ? v.update(ms) : false;\n        });\n\n        // TODO: very ugly, rethink\n        const finished = [];\n        // let count = 0;\n        draw.forEach((v) =>\n          v.forEach((component) => {\n            if (finished.some((c) => c === component)) return;\n            finished.push(component);\n            component(force);\n            // count += 1;\n          })\n        );\n        // request next frame if we have more animations to render\n        if (engine.animations.length) {\n          window.requestAnimationFrame(engine.render);\n        }\n      },\n    };\n\n    createEventListeners();\n  }\n\n  return engine;\n};\n","const { closest, findMatrix, findSum } = require(\"../utils/transformation\");\nconst segmentTree = require(\"../utils/segmentTree\");\n\nconst getValues = (columns, id) => columns.find((v) => v[0] === id).slice(1);\n\nconst createCharts = (ids, data) =>\n  ids.reduce((acc, v) => {\n    const values = getValues(data.columns, v);\n\n    acc[v] = {\n      id: v,\n      name: data.names[v],\n      type: data.types[v],\n      color: {\n        hex: data.colors[v],\n        alpha: 1,\n      },\n      disabled: false,\n      values,\n    };\n\n    return acc;\n  }, {});\n\nconst create = (data) => {\n  const ids = Object.keys(data.names);\n  const x = getValues(data.columns, \"x\");\n  const charts = createCharts(ids, data);\n\n  const windowOffset = closest(x.length, 0.6);\n  const windowWidth = closest(x.length, 0.3);\n\n  const state = {\n    ids,\n    charts,\n    y_scaled: !!data.y_scaled,\n    stacked: !!data.stacked,\n    percentage: !!data.percentage,\n    x: {\n      values: x,\n      matrix: [0, x.length - 1],\n    },\n    y: {\n      lineWidth: 1,\n      matrix: [-1, -1, -1],\n    },\n    y0: {\n      lineWidth: 2,\n      matrix: [-1, -1, -1],\n    },\n    window: {\n      offset: windowOffset,\n      width: windowWidth,\n      minwidth: closest(x.length, 0.08),\n      tracker: {\n        width: 10,\n        stroke: {\n          hex: \"#C0D1E1\",\n          alpha: 1,\n        },\n        color: {\n          hex: \"#C0D1E1\",\n          alpha: 1,\n        },\n      },\n      mask: {\n        color: {\n          hex: \"#E2EEF9\",\n          alpha: 0.6,\n        },\n      },\n    },\n    tooltip: {\n      lineWidth: 1,\n      lighten: true,\n      color: {\n        hex: \"#182D3B\",\n        alpha: 0.1,\n      },\n      radius: 3,\n      index: null,\n    },\n    grid: {\n      lines: 5,\n      lineWidth: 1,\n      color: {\n        hex: \"#182D3B\",\n        alpha: 0.1,\n      },\n    },\n    axis: {\n      x: {\n        font: \"Arial\",\n        size: 10,\n        color: {\n          hex: \"#8E8E93\",\n          alpha: 1,\n        },\n      },\n      y: {\n        font: \"Arial\",\n        size: 10,\n        color: {\n          hex: \"#8E8E93\",\n          alpha: 1,\n        },\n      },\n    },\n  };\n\n  if (data.percentage) {\n    state.y.sum = findSum(state);\n  } else if (data.stacked) {\n    state.y.sum = findSum(state);\n    state.y.mmtree = segmentTree.create(state.y.sum);\n  } else {\n    ids.forEach((v) => {\n      const chart = charts[v];\n      chart.mmtree = segmentTree.create(chart.values);\n    });\n  }\n\n  state.y.matrix = findMatrix(state, 0, x.length);\n  state.y0.matrix = findMatrix(state, windowOffset, windowOffset + windowWidth);\n\n  return state;\n};\n\nmodule.exports = create;\n","const segmentTree = require(\"./segmentTree\");\n\n// const PREFERED_STEPS = [1, 1.5, 2, 2.5, 5, 7.5, 10];\n\n// const findScale = (min, max, count) => {\n//   const range = max - min;\n\n//   const roughStep = range / (count - 1);\n//   const stepPower = Math.pow(10, -Math.floor(Math.log10(Math.abs(roughStep))));\n//   const normalizedStep = roughStep * stepPower;\n\n//   const preferedStep = PREFERED_STEPS.find(v => v >= normalizedStep);\n//   const step = Math.round(preferedStep / stepPower);\n\n//   const bot = Math.floor(min / step) * step;\n//   const top = Math.ceil(max / step) * step;\n\n//   return [bot, top - bot, top, step];\n// };\n\nconst findScale = (min, max, count) => {\n  const range = max - min;\n  const roughStep = range / count;\n  const stepPower = 10 ** Math.floor(Math.log10(Math.abs(roughStep)));\n\n  const normalizedStep = (roughStep / stepPower) * 10;\n  const preferedStep =\n    Math.max(normalizedStep, Math.ceil(normalizedStep / 5) * 5) / 10;\n\n  const step = preferedStep * stepPower;\n\n  const bot = min;\n  const top = bot + step * count;\n\n  return [bot, top - bot, top, step];\n};\n\nconst findSum = state => {\n  const length = state.x.values.length;\n  const result = new Array(length);\n\n  const idsCount = state.ids.length;\n\n  for (let i = 0; i < length; i++) {\n    let sum = 0;\n    for (let j = 0; j < idsCount; j++) {\n      const chart = state.charts[state.ids[j]];\n      if (chart.disabled) continue;\n      sum += chart.values[i];\n    }\n    result[i] = sum;\n  }\n\n  return result;\n};\n\nconst findMinmax = (state, from, to) => {\n  return state.ids.reduce(\n    (acc, v) => {\n      const chart = state.charts[v];\n      if (chart.disabled) return acc;\n\n      const local = segmentTree.find(chart.mmtree, from, to);\n\n      acc[0] = Math.min(acc[0], local[0]);\n      acc[1] = Math.max(acc[1], local[1]);\n      return acc;\n    },\n    [Infinity, -Infinity]\n  );\n};\n\nconst findMatrix = (state, from, to) => {\n  const linesCount = state.grid.lines;\n\n  if (state.percentage) {\n    return findScale(0, 100, linesCount);\n  }\n\n  if (state.stacked) {\n    const minmax = segmentTree.find(state.y.mmtree, from, to);\n    return findScale(0, minmax[1], linesCount);\n  }\n\n  if (state.y_scaled) {\n    const minmax0 = segmentTree.find(\n      state.charts[state.ids[0]].mmtree,\n      from,\n      to\n    );\n    const scale0 = findScale(minmax0[0], minmax0[1], linesCount);\n\n    const minmax1 = segmentTree.find(\n      state.charts[state.ids[1]].mmtree,\n      from,\n      to\n    );\n    const scale1 = findScale(minmax1[0], minmax1[1], linesCount);\n\n    return [scale0, scale1];\n  }\n\n  const minmax = findMinmax(state, from, to);\n  const barchart = state.ids.every(v => state.charts[v].type === \"bar\");\n  if (barchart) {\n    const p5 = minmax[0] - (minmax[1] - minmax[0]) * 0.05;\n    // preserve sign\n    if (Math.sign(minmax[0]) === Math.sign(minmax[1]))\n      return findScale(p5, minmax[1], linesCount);\n  }\n  return findScale(minmax[0], minmax[1], linesCount);\n};\n\nconst MONTH = [\n  \"Jan\",\n  \"Feb\",\n  \"Mar\",\n  \"Apr\",\n  \"May\",\n  \"Jun\",\n  \"Jul\",\n  \"Aug\",\n  \"Sep\",\n  \"Oct\",\n  \"Nov\",\n  \"Dec\"\n];\nconst DAY = [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"];\n\nconst formatDate = (v, mode) => {\n  const datetime = new Date(v);\n  const date = datetime.getDate();\n  const month = datetime.getMonth();\n\n  if (mode === \"short\")\n    return `${MONTH[month]} ${date > 9 ? date : `0${date}`}`;\n  if (mode === \"date\")\n    return `${date} ${MONTH[month]} ${datetime.getFullYear()}`;\n\n  return `${DAY[datetime.getDay()]}, ${date > 9 ? date : `0${date}`} ${\n    MONTH[month]\n  } ${datetime.getFullYear()}`;\n};\n\nconst formatValue = v => {\n  const abs = Math.abs(v);\n\n  if (abs > 999999999) return (v / 1000000000).toFixed(2) + \"B\";\n  if (abs > 999999) return (v / 1000000).toFixed(2) + \"M\";\n  if (abs > 999) return (v / 1000).toFixed(1) + \"K\";\n\n  return v.toFixed(0);\n};\n\nconst closest = (target, offset) =>\n  Math.max(Math.min(Math.round((target - 1) * offset), target - 1), 0);\n\nconst bound = (x, lower, upper) => Math.max(Math.min(x, upper), lower);\n\nconst inbounds = (bounds, x, y) => {\n  return (\n    x >= bounds.left &&\n    x <= bounds.right &&\n    y >= bounds.top &&\n    y <= bounds.bottom\n  );\n};\n\nconst resize = canvas => {\n  const realToCSSPixels = window.devicePixelRatio;\n\n  const displayWidth = Math.floor(canvas.clientWidth * realToCSSPixels);\n  const displayHeight = Math.floor(canvas.clientHeight * realToCSSPixels);\n\n  if (canvas.width !== displayWidth || canvas.height !== displayHeight) {\n    canvas.width = displayWidth;\n    canvas.height = displayHeight;\n    return true;\n  }\n\n  return false;\n};\n\nmodule.exports.formatDate = formatDate;\nmodule.exports.formatValue = formatValue;\nmodule.exports.findMatrix = findMatrix;\nmodule.exports.findSum = findSum;\nmodule.exports.closest = closest;\nmodule.exports.bound = bound;\nmodule.exports.inbounds = inbounds;\nmodule.exports.resize = resize;\n","const FALLBACK = [Infinity, -Infinity];\n\nconst isPowerOfTwo = number => {\n  if (number < 1) {\n    return false;\n  }\n  return (number & (number - 1)) === 0;\n};\n\nconst getSegmentTreeLength = length => {\n  if (isPowerOfTwo(length)) {\n    return 2 * length - 1;\n  }\n\n  const currentPower = Math.floor(Math.log2(length));\n  const nextPower = currentPower + 1;\n  const nextPowerOfTwoNumber = 2 ** nextPower;\n  return 2 * nextPowerOfTwoNumber - 1;\n};\n\nconst getLeftChildIndex = position => 2 * position + 1;\n\nconst getRightChildIndex = position => 2 * position + 2;\n\nconst createRecursively = (tree, data, left, right, position) => {\n  if (left === right) {\n    tree[position] = [data[left], data[left]];\n    return tree;\n  }\n\n  const middle = Math.floor((left + right) / 2);\n  createRecursively(tree, data, left, middle, getLeftChildIndex(position));\n  createRecursively(\n    tree,\n    data,\n    middle + 1,\n    right,\n    getRightChildIndex(position)\n  );\n\n  const leftValue = tree[getLeftChildIndex(position)];\n  const rightValue = tree[getRightChildIndex(position)];\n\n  tree[position] = [\n    Math.min(leftValue[0], rightValue[0]),\n    Math.max(leftValue[1], rightValue[1])\n  ];\n  return tree;\n};\n\nconst findRecursively = (tree, findLeft, findRight, left, right, position) => {\n  if (findLeft <= left && findRight >= right) {\n    return tree[position];\n  }\n\n  if (findLeft > right || findRight < left) {\n    return FALLBACK;\n  }\n\n  const middle = Math.floor((left + right) / 2);\n\n  const leftValue = findRecursively(\n    tree,\n    findLeft,\n    findRight,\n    left,\n    middle,\n    getLeftChildIndex(position)\n  );\n\n  const rightValue = findRecursively(\n    tree,\n    findLeft,\n    findRight,\n    middle + 1,\n    right,\n    getRightChildIndex(position)\n  );\n\n  return [\n    Math.min(leftValue[0], rightValue[0]),\n    Math.max(leftValue[1], rightValue[1])\n  ];\n};\n\nconst create = data => {\n  const dataLength = data.length;\n  const treeLength = getSegmentTreeLength(dataLength);\n  const tree = new Array(treeLength).fill(null);\n\n  return [createRecursively(tree, data, 0, dataLength - 1, 0), data.length];\n};\n\nconst find = (tree, findLeft, findRight) => {\n  return findRecursively(tree[0], findLeft, findRight, 0, tree[1] - 1, 0);\n};\n\nmodule.exports.fallback = FALLBACK;\nmodule.exports.create = create;\nmodule.exports.find = find;\n","const { resize, formatDate, formatValue } = require(\"../utils/transformation\");\n\nconst handleXValues = require(\"../rendering/x\");\nconst handleLineChart = require(\"../rendering/y\");\n\nconst lighten = color => {\n  const r = parseInt(color.substring(1, 3), 16);\n  const g = parseInt(color.substring(3, 5), 16);\n  const b = parseInt(color.substring(5, 7), 16);\n\n  const lr = (r + (255 - r) / 3) | 0;\n  const lg = (g + (255 - g) / 3) | 0;\n  const lb = (b + (255 - b) / 3) | 0;\n\n  return `#${lr.toString(16)}${lg.toString(16)}${lb.toString(16)}`;\n};\n\nconst darken = color => {\n  const r = parseInt(color.substring(1, 3), 16);\n  const g = parseInt(color.substring(3, 5), 16);\n  const b = parseInt(color.substring(5, 7), 16);\n\n  const lr = (r - r / 3) | 0;\n  const lg = (g - g / 3) | 0;\n  const lb = (b - b / 3) | 0;\n\n  return `#${lr.toString(16)}${lg.toString(16)}${lb.toString(16)}`;\n};\n\nconst MODE = {\n  NONE: 0,\n  FORCE: 1,\n  XBOUNDS: 2,\n  CHART: 4,\n  TEXT: 8\n};\n\nmodule.exports = (state, options) => {\n  const wrapper = document.createElement(\"div\");\n  wrapper.className = \"tc-chart-wrapper\";\n\n  const canvas = document.createElement(\"canvas\");\n  canvas.className = \"tc-chart\";\n\n  wrapper.appendChild(canvas);\n  const context = canvas.getContext(\"2d\");\n\n  const chart = {};\n  const text = {};\n  const grid = {};\n  const tooltip = {};\n  const previousState = {\n    charts: {},\n    window: {},\n    tooltip: {},\n    y0: {}\n  };\n  const cache = {\n    mode: MODE.NONE,\n    chart,\n    text,\n    grid,\n    tooltip,\n    previousState\n  };\n\n  const bounds = {};\n\n  return {\n    element: wrapper,\n    register: callback =>\n      callback({ id: \"view\", element: wrapper, canvas, bounds }),\n\n    render: force => {\n      cache.mode = MODE.NONE;\n\n      cache.sum = state.y.sum;\n      cache.matrix = state.y0.matrix;\n\n      if (force) {\n        cache.mode |= MODE.FORCE;\n        resize(canvas);\n\n        // update element positions\n        const clientRect = canvas.getBoundingClientRect();\n        bounds.left = clientRect.left + window.pageXOffset;\n        bounds.top = clientRect.top + window.pageYOffset;\n        bounds.right = clientRect.right + window.pageXOffset;\n        bounds.bottom = clientRect.bottom + window.pageYOffset;\n\n        const dpr = window.devicePixelRatio;\n\n        // value formatters\n        cache.formatX = (options && options.formatX) || formatDate;\n        cache.formatY = (options && options.formatY) || formatValue;\n\n        cache.stacked = state.stacked;\n        cache.percentage = state.percentage;\n\n        // cache for stacked values to avoid GC\n        if (state.stacked) {\n          cache.stack = new Array(state.x.values.length);\n        }\n\n        // text\n        const fontSize = (state.axis.x.size || 10) * dpr;\n        text.font = `${fontSize}px ${state.axis.x.font}`;\n\n        text.height = fontSize + 4 * dpr;\n        text.width = canvas.width;\n\n        text.x = 0;\n        text.y = canvas.height - text.height + 2 * dpr;\n\n        context.font = text.font;\n        const xTextWidth = Math.ceil(\n          context.measureText(cache.formatX(state.x.values[0], \"short\")).width\n        );\n\n        text.steps = Math.max(canvas.width / (xTextWidth * 2), 1);\n        text.minstep = (state.window.minwidth - 1) / text.steps;\n        text.padding = Math.floor(text.minstep / 2);\n\n        text.region = {\n          x: 0,\n          y: canvas.height - text.height,\n          width: canvas.width,\n          height: fontSize + 4 * dpr\n        };\n\n        // grid lines\n        grid.lineWidth = state.grid.lineWidth * dpr;\n        grid.font = `${(state.axis.y.size || 10) * dpr}px ${state.axis.y.font}`;\n\n        // tooltip point and line\n        tooltip.lineWidth = state.tooltip.lineWidth * dpr;\n        tooltip.radius = state.tooltip.radius * dpr;\n\n        // chart\n        chart.lineWidth = state.y0.lineWidth * dpr;\n\n        chart.width = canvas.width;\n        chart.height = canvas.height - text.height - (tooltip.radius + 4);\n\n        chart.x = 0;\n        chart.y = 0;\n\n        chart.region = {\n          x: 0,\n          y: 0,\n          width: canvas.width,\n          height: canvas.height - text.height\n        };\n\n        chart.limit = { bottom: chart.height };\n\n        // some props based on charts provided\n        const lighter = state.tooltip.lighten ? lighten : darken;\n        cache.lighten = {};\n        cache.bar = false;\n        for (let i = 0; i < state.ids.length; i++) {\n          const id = state.ids[i];\n          const line = state.charts[id];\n          if (lighter) {\n            cache.lighten[id] = lighter(line.color.hex);\n          } else {\n            cache.lighten[id] = lighten(line.color.hex);\n          }\n          cache.bar = cache.bar || line.type === \"bar\";\n        }\n      }\n\n      // Update x bounds\n      if (\n        cache.mode & MODE.FORCE ||\n        previousState.window.offset !== state.window.offset ||\n        previousState.window.width !== state.window.width\n      ) {\n        cache.mode |= MODE.XBOUNDS | MODE.CHART | MODE.TEXT;\n\n        previousState.window.offset = state.window.offset;\n        previousState.window.width = state.window.width;\n\n        chart.start = state.window.offset | 0;\n        chart.range = state.window.width | 0;\n\n        if (cache.bar) {\n          chart.scaleX =\n            chart.width / (chart.range + state.window.width - chart.range);\n          chart.offsetX =\n            -chart.scaleX * (state.window.offset - chart.start) +\n            chart.scaleX / 2;\n        } else {\n          chart.scaleX =\n            chart.width / (chart.range - 1 + state.window.width - chart.range);\n          chart.offsetX = -chart.scaleX * (state.window.offset - chart.start);\n        }\n      }\n\n      // update tooltip position\n      if (\n        cache.mode & (MODE.FORCE | MODE.XBOUNDS) ||\n        previousState.tooltip.index !== state.tooltip.index\n      ) {\n        cache.mode |= MODE.CHART;\n        previousState.tooltip.index = state.tooltip.index;\n\n        if (state.tooltip.index !== null) {\n          tooltip.indexD = Math.min(\n            chart.start + state.tooltip.indexD,\n            state.x.values.length - 1\n          );\n          tooltip.xD =\n            chart.x +\n            (tooltip.indexD - chart.start) * chart.scaleX +\n            chart.offsetX;\n          tooltip.x =\n            chart.x + state.tooltip.index * chart.scaleX + chart.offsetX;\n        } else {\n          tooltip.xD = null;\n          tooltip.indexD = null;\n          tooltip.x = null;\n        }\n      }\n\n      // update chart colors\n      for (let i = 0; i < state.ids.length; i++) {\n        const v = state.ids[i];\n        if (!(v in previousState.charts)) {\n          previousState.charts[v] = { color: {} };\n        }\n\n        const current = state.charts[v].color;\n        const previous = previousState.charts[v].color;\n\n        if (previous.hex !== current.hex || previous.alpha !== current.alpha) {\n          previous.hex = current.hex;\n          previous.alpha = current.alpha;\n          cache.mode |= MODE.CHART;\n        }\n      }\n\n      // if (state.y_scaled) {\n      //   handleScaledLineChart(state, context, cache, MODE);\n      // } else {\n      handleLineChart(state, context, cache, MODE);\n      // }\n\n      handleXValues(state, context, cache, MODE);\n    }\n  };\n};\n","module.exports = (state, context, cache, modes) => {\n  const { chart, text } = cache;\n\n  if (cache.mode & (modes.FORCE | modes.XBOUNDS)) {\n    cache.mode |= modes.TEXT;\n\n    const steps = chart.range / text.steps;\n    const power = Math.log2(steps / text.minstep);\n\n    const powerI = power | 0;\n    text.fraction = power % 1;\n\n    if (text.power !== powerI) {\n      text.power = powerI | 0;\n\n      text.step = 2 ** Math.floor(text.power) * Math.ceil(text.minstep);\n      text.doublestep = Math.ceil(text.step * 2);\n    }\n\n    const closest = Math.ceil(chart.start / text.step) * text.step - text.step;\n\n    text.start = Math.max(closest, text.step) - text.padding;\n    text.last = Math.min(chart.start + chart.range + 1, state.x.values.length);\n  }\n\n  if (cache.mode & (modes.TEXT | modes.FORCE)) {\n    context.clearRect(\n      text.region.x,\n      text.region.y,\n      text.region.width,\n      text.region.height\n    );\n\n    const alpha = state.axis.x.color.alpha;\n\n    context.font = text.font;\n    context.fillStyle = state.axis.x.color.hex;\n    context.globalAlpha = alpha;\n    context.textBaseline = \"top\";\n    context.textAlign = \"center\";\n\n    for (let i = -text.padding; i < text.last; i += text.doublestep) {\n      if (i < text.start) continue;\n\n      const shift = i - chart.start;\n\n      context.fillText(\n        cache.formatX(state.x.values[i], \"short\"),\n        shift * chart.scaleX + chart.offsetX,\n        text.y\n      );\n    }\n\n    context.globalAlpha = alpha * (1 - text.fraction);\n\n    for (\n      let i = text.step - text.padding;\n      i < text.last;\n      i += text.doublestep\n    ) {\n      if (i < text.start) continue;\n      const shift = i - chart.start;\n\n      context.fillText(\n        cache.formatX(state.x.values[i], \"short\"),\n        shift * chart.scaleX + chart.offsetX,\n        text.y\n      );\n    }\n  }\n};\n","const {\n  drawHorizontalLines,\n  drawYText,\n  drawVerticalLine,\n  drawPoint,\n  drawArea,\n  drawLine,\n  drawBar\n} = require(\"./grid\");\n\nmodule.exports = (state, context, cache, modes) => {\n  const { previousState, chart, grid, tooltip } = cache;\n\n  if (state.y_scaled) {\n    if (!previousState.y0.matrix) {\n      previousState.y0.matrix = [[-1, -1], [-1, -1]];\n    }\n\n    // update Y0 bounds\n    if (\n      cache.mode & modes.FORCE ||\n      previousState.y0.matrix[0][0] !== state.y0.matrix[0][0] ||\n      previousState.y0.matrix[0][1] !== state.y0.matrix[0][1]\n    ) {\n      cache.mode |= modes.CHART;\n      previousState.y0.matrix[0][0] = state.y0.matrix[0][0];\n      previousState.y0.matrix[0][1] = state.y0.matrix[0][1];\n\n      chart.scaleY0 = -chart.height / state.y0.matrix[0][1];\n      chart.offsetY0 = chart.height - state.y0.matrix[0][0] * chart.scaleY0;\n    }\n\n    // update Y1 bounds\n    if (\n      cache.mode & modes.FORCE ||\n      previousState.y0.matrix[1][0] !== state.y0.matrix[1][0] ||\n      previousState.y0.matrix[1][1] !== state.y0.matrix[1][1]\n    ) {\n      cache.mode |= modes.CHART;\n      previousState.y0.matrix[1][0] = state.y0.matrix[1][0];\n      previousState.y0.matrix[1][1] = state.y0.matrix[1][1];\n\n      chart.scaleY1 = -chart.height / state.y0.matrix[1][1];\n      chart.offsetY1 = chart.height - state.y0.matrix[1][0] * chart.scaleY1;\n    }\n  } else {\n    if (!previousState.y0.matrix) {\n      previousState.y0.matrix = [-1, -1];\n    }\n\n    // update Y bounds\n    if (\n      cache.mode & modes.FORCE ||\n      previousState.y0.matrix[0] !== state.y0.matrix[0] ||\n      previousState.y0.matrix[1] !== state.y0.matrix[1]\n    ) {\n      cache.mode |= modes.CHART;\n      previousState.y0.matrix[0] = state.y0.matrix[0];\n      previousState.y0.matrix[1] = state.y0.matrix[1];\n\n      chart.scaleY = -chart.height / state.y0.matrix[1];\n      chart.offsetY = chart.height - state.y0.matrix[0] * chart.scaleY;\n    }\n  }\n\n  if (cache.mode & (modes.CHART | modes.FORCE)) {\n    context.clearRect(\n      chart.region.x,\n      chart.region.y,\n      chart.region.width,\n      chart.region.height\n    );\n\n    cache.first = true;\n\n    context.lineJoin = \"bevel\";\n    context.lineCap = \"butt\";\n    context.lineWidth = chart.lineWidth;\n\n    for (let i = 0; i < state.ids.length; i++) {\n      const v = state.ids[i];\n      const line = state.charts[v];\n\n      if (line.color.alpha === 0) continue;\n      if (state.y_scaled && i > 1) continue;\n\n      if (state.y_scaled) {\n        // TODO: scaleY1 for last only\n        chart.scaleY = chart[`scaleY${i}`];\n        chart.offsetY = chart[`offsetY${i}`];\n      }\n\n      context.globalAlpha = line.color.alpha;\n      context.strokeStyle = line.color.hex;\n      context.fillStyle = line.color.hex;\n\n      if (line.type === \"line\") {\n        drawLine(context, line.values, chart, line.type === \"line\", cache);\n      }\n      if (line.type === \"area\") {\n        drawArea(context, line.values, chart, cache, line.alpha);\n      }\n      if (line.type === \"bar\") {\n        drawBar(context, line.values, chart, cache, cache.lighten[v]);\n      }\n\n      cache.first = false;\n    }\n\n    context.lineWidth = grid.lineWidth;\n    context.globalAlpha = state.grid.color.alpha;\n    context.strokeStyle = state.grid.color.hex;\n\n    drawHorizontalLines(context, state.grid.lines, chart);\n\n    if (tooltip.x !== null && !cache.bar) {\n      context.lineWidth = tooltip.lineWidth;\n      context.globalAlpha = state.tooltip.color.alpha;\n      context.strokeStyle = state.tooltip.color.hex;\n\n      drawVerticalLine(context, tooltip.x, chart);\n\n      context.lineWidth = chart.lineWidth;\n\n      for (let i = 0; i < state.ids.length; i++) {\n        const v = state.ids[i];\n        const line = state.charts[v];\n\n        if (line.color.alpha === 0) continue;\n        if (line.type === \"area\") continue;\n        if (state.y_scaled && i > 1) continue;\n\n        if (state.y_scaled) {\n          // TODO: scaleY1 for last only\n          chart.scaleY = chart[`scaleY${i}`];\n          chart.offsetY = chart[`offsetY${i}`];\n        }\n\n        context.globalAlpha = line.color.alpha;\n        context.strokeStyle = line.color.hex;\n\n        const y =\n          chart.y + line.values[tooltip.indexD] * chart.scaleY + chart.offsetY;\n        drawPoint(context, tooltip.xD, y, tooltip.radius, chart.lineWidth);\n      }\n    }\n\n    context.font = grid.font;\n    context.textBaseline = \"bottom\";\n\n    if (state.y_scaled) {\n      const color1 = state.charts[state.ids[0]].color;\n      context.fillStyle = color1.hex;\n      context.globalAlpha = color1.alpha;\n\n      context.textAlign = \"start\";\n      chart.scaleY = chart.scaleY0;\n      chart.offsetY = chart.offsetY0;\n      drawYText(context, state.y0.matrix[0], 0, chart, cache.formatY);\n\n      const color2 = state.charts[state.ids[1]].color;\n      context.fillStyle = color2.hex;\n      context.globalAlpha = color2.alpha;\n\n      context.textAlign = \"end\";\n      chart.scaleY = chart.scaleY1;\n      chart.offsetY = chart.offsetY1;\n      drawYText(context, state.y0.matrix[1], chart.width, chart, cache.formatY);\n    } else {\n      context.fillStyle = state.axis.y.color.hex;\n      context.globalAlpha = state.axis.y.color.alpha;\n\n      context.textAlign = \"start\";\n      // TODO: pass formated values\n      drawYText(context, state.y0.matrix, 0, chart, cache.formatY);\n    }\n  }\n};\n","const drawHorizontalLines = (context, count, position) => {\n  context.beginPath();\n  const dy = -position.height / count;\n  for (let i = 0; i < count; i += 1) {\n    const y = position.y + i * dy + position.height;\n    context.moveTo(position.x, y);\n    context.lineTo(position.width, y);\n  }\n  context.stroke();\n};\n\n// TODO: pass formated values\nconst drawYText = (context, matrix, x, position, format) => {\n  const end = ((matrix[2] - matrix[3]) | 0) + 1;\n  for (let i = matrix[0]; i <= end; i += matrix[3]) {\n    context.fillText(\n      format(i, \"short\"),\n      x,\n      position.y + i * position.scaleY + position.offsetY\n    );\n  }\n};\n\nconst drawVerticalLine = (context, x, position) => {\n  context.beginPath();\n  context.moveTo(x, position.region.y);\n  context.lineTo(x, position.height);\n  context.stroke();\n};\n\nconst drawPoint = (context, x, y, radius, lineWidth) => {\n  context.beginPath();\n  context.arc(x, y, radius, 0, 2 * Math.PI);\n  context.stroke();\n\n  const previous = context.globalCompositeOperation;\n  context.globalCompositeOperation = \"destination-out\";\n\n  context.beginPath();\n  context.arc(x, y, radius - ((0.5 + lineWidth / 2) | 0), 0, 2 * Math.PI);\n  context.fill();\n  context.globalCompositeOperation = previous;\n};\n\nconst yPercentage = (result, index, value, alpha, position, options) => {\n  const total = options.sum[index];\n  const height = position.height * (value / total) * alpha;\n\n  let y = position.y + position.height - height;\n\n  if (options.stacked) {\n    const inc = options.first ? 0 : options.stack[index];\n    y -= inc;\n    options.stack[index] = inc + height;\n  }\n\n  result[0] = y;\n  result[1] = height;\n  // return result;\n};\n\nconst yStacked = (result, index, value, alpha, position, options) => {\n  // TODO: improve\n\n  const total = options.sum[index];\n  const ntotal = total / options.matrix[2];\n  const inc = options.first ? 0 : options.stack[index];\n\n  const y0 = position.y + position.height * (1 - ntotal);\n  const height0 = position.height * ntotal;\n\n  const y = y0 + inc;\n\n  const height = height0 * (value / total) * alpha;\n  options.stack[index] = inc + height;\n\n  result[0] = y;\n  result[1] = height;\n  // return result;\n};\n\nconst yBasic = (result, value, position) => {\n  const y = position.y + value * position.scaleY + position.offsetY;\n  const height = position.height - y + position.y;\n\n  result[0] = y;\n  result[1] = height;\n  // return result;\n};\n\nconst drawArea = (context, values, position, options) => {\n  const alpha = context.globalAlpha;\n  // to avoid GC, probably unnecessary\n  const y = new Array(2);\n\n  context.beginPath();\n\n  if (!options.first && options.stacked) {\n    for (let i = position.range; i >= 0; i--) {\n      const index = position.start + i;\n\n      const xb = position.x + i * position.scaleX + position.offsetX;\n      const yb = position.y + position.height - options.stack[index];\n\n      context.lineTo(xb, yb);\n    }\n  }\n\n  for (let i = 0; i <= position.range; i += 1) {\n    const index = position.start + i;\n\n    const x = position.x + i * position.scaleX + position.offsetX;\n\n    if (options.percentage) {\n      yPercentage(y, index, values[index], alpha, position, options);\n    } else if (options.stacked) {\n      yStacked(y, index, values[index], alpha, position, options);\n    } else {\n      yBasic(y, values[index], position);\n    }\n\n    if (position.limit.bottom) {\n      const y0 = y[0];\n      y[0] = y0 < position.limit.bottom ? y0 : position.limit.bottom;\n    }\n\n    context.lineTo(x, y[0]);\n  }\n\n  if (options.first || !options.stacked) {\n    context.lineTo(position.width, position.y + position.height);\n    context.lineTo(position.x, position.y + position.height);\n  }\n\n  context.fill();\n};\n\nconst drawLine = (context, values, position, stroke, options) => {\n  const alpha = context.globalAlpha;\n\n  context.beginPath();\n\n  const last = position.range + 1;\n\n  // to avoid GC, probably unnecessary\n  const y = new Array(2);\n\n  for (let i = 0; i <= last; i += 1) {\n    const index = position.start + i;\n\n    const x = position.x + i * position.scaleX + position.offsetX;\n\n    if (options.percentage) {\n      yPercentage(y, index, values[index], alpha, position, options);\n    } else if (options.stacked) {\n      yStacked(y, index, values[index], alpha, position, options);\n    } else {\n      yBasic(y, values[index], position);\n    }\n\n    if (position.limit.bottom) {\n      const y0 = y[0];\n      y[0] = y0 < position.limit.bottom ? y0 : position.limit.bottom;\n    }\n\n    context.lineTo(x, y[0]);\n  }\n\n  context.stroke();\n};\n\nconst drawBar = (context, values, position, options, lighten) => {\n  const fillStyle = context.fillStyle;\n  const alpha = context.globalAlpha;\n\n  const highlight = options.tooltip.indexD;\n  if (highlight != null) {\n    context.fillStyle = lighten;\n  }\n\n  context.beginPath();\n\n  const last = position.range + 1;\n  const y = new Array(2);\n  for (let i = 0; i <= last; i += 1) {\n    const index = position.start + i;\n    if (index === highlight) continue;\n\n    const x =\n      position.x + i * position.scaleX + position.offsetX - position.scaleX / 2;\n    const width = position.scaleX;\n\n    if (options.percentage) {\n      yPercentage(y, index, values[index], alpha, position, options);\n    } else if (options.stacked) {\n      yStacked(y, index, values[index], alpha, position, options);\n    } else {\n      yBasic(y, values[index], position);\n    }\n\n    context.rect(x, y[0], width, y[1]);\n  }\n\n  context.fill();\n\n  if (highlight != null) {\n    const i = highlight - position.start;\n    const x =\n      position.x + i * position.scaleX + position.offsetX - position.scaleX / 2;\n    const width = position.scaleX;\n\n    if (options.percentage) {\n      yPercentage(y, highlight, values[highlight], alpha, position, options);\n    } else if (options.stacked) {\n      yStacked(y, highlight, values[highlight], alpha, position, options);\n    } else {\n      yBasic(y, values[highlight], position);\n    }\n\n    context.fillStyle = fillStyle;\n    context.fillRect(x, y[0], width, y[1]);\n  }\n};\n\nmodule.exports.drawHorizontalLines = drawHorizontalLines;\nmodule.exports.drawVerticalLine = drawVerticalLine;\nmodule.exports.drawPoint = drawPoint;\nmodule.exports.drawYText = drawYText;\n\nmodule.exports.drawArea = drawArea;\nmodule.exports.drawLine = drawLine;\nmodule.exports.drawBar = drawBar;\n","const { resize } = require(\"../utils/transformation\");\nconst { drawTrack } = require(\"../rendering/scroll\");\n\nconst { drawLine, drawBar, drawArea } = require(\"../rendering/grid\");\n\nmodule.exports = state => {\n  const canvas = document.createElement(\"canvas\");\n  canvas.className = \"tc-preview\";\n\n  const context = canvas.getContext(\"2d\");\n\n  const chart = {};\n  const track = {};\n  const previousState = { charts: {}, y: {}, window: {} };\n\n  const cache = {\n    tooltip: {},\n    chart,\n    track,\n    state: previousState\n  };\n\n  const bounds = {};\n\n  return {\n    element: canvas,\n    render: force => {\n      let shouldDraw = force;\n\n      cache.sum = state.y.sum;\n      cache.matrix = state.y.matrix;\n\n      if (force) {\n        resize(canvas);\n\n        // update element positions\n        const clientRect = canvas.getBoundingClientRect();\n        bounds.left = clientRect.left + window.pageXOffset;\n        bounds.top = clientRect.top + window.pageYOffset;\n        bounds.right = clientRect.right + window.pageXOffset;\n        bounds.bottom = clientRect.bottom + window.pageYOffset;\n\n        const dpr = window.devicePixelRatio;\n\n        cache.stacked = state.stacked;\n        cache.percentage = state.percentage;\n        if (state.stacked) {\n          cache.stack = new Array(state.x.values.length);\n        }\n\n        // track\n        track.padding = 1 * dpr;\n        track.borderRadius = 5 * dpr;\n        track.width = (state.window.tracker.width || 10) * dpr;\n        track.height = canvas.height;\n\n        // chart\n        chart.lineWidth = state.y.lineWidth * dpr;\n        chart.width = canvas.width;\n        chart.height = canvas.height - track.padding * 2;\n\n        chart.x = 0;\n        chart.y = track.padding;\n\n        chart.region = {\n          x: 0,\n          y: 0,\n          width: canvas.width,\n          height: canvas.height\n        };\n\n        chart.start = 0;\n        chart.range = state.x.values.length - 1;\n\n        chart.scaleX = canvas.width / chart.range;\n        chart.offsetX = 0;\n\n        chart.limit = {};\n      }\n\n      // update chart colors\n      for (let i = 0; i < state.ids.length; i++) {\n        const v = state.ids[i];\n        if (!(v in previousState.charts)) {\n          previousState.charts[v] = { color: {} };\n        }\n\n        const current = state.charts[v].color;\n        const previous = previousState.charts[v].color;\n\n        if (previous.hex !== current.hex || previous.alpha !== current.alpha) {\n          previous.hex = current.hex;\n          previous.alpha = current.alpha;\n          shouldDraw = true;\n        }\n      }\n\n      if (\n        force ||\n        previousState.window.offset !== state.window.offset ||\n        previousState.window.width !== state.window.width\n      ) {\n        previousState.window.offset = state.window.offset;\n        previousState.window.width = state.window.width;\n\n        track.left = state.window.offset * chart.scaleX + track.width;\n        track.right =\n          (state.window.offset + state.window.width - 1) * chart.scaleX -\n          track.width;\n\n        shouldDraw = true;\n      }\n\n      if (state.y_scaled) {\n        if (!previousState.y.matrix) {\n          previousState.y.matrix = [[-1, -1], [-1, -1]];\n        }\n\n        if (\n          force ||\n          previousState.y.matrix[0][0] !== state.y.matrix[0][0] ||\n          previousState.y.matrix[0][1] !== state.y.matrix[0][1]\n        ) {\n          previousState.y.matrix[0][0] = state.y.matrix[0][0];\n          previousState.y.matrix[0][1] = state.y.matrix[0][1];\n\n          chart.scaleY0 = -chart.height / state.y.matrix[0][1];\n          chart.offsetY0 = chart.height - state.y.matrix[0][0] * chart.scaleY0;\n\n          shouldDraw = true;\n        }\n\n        if (\n          force ||\n          previousState.y.matrix[1][0] !== state.y.matrix[1][0] ||\n          previousState.y.matrix[1][1] !== state.y.matrix[1][1]\n        ) {\n          previousState.y.matrix[1][0] = state.y.matrix[1][0];\n          previousState.y.matrix[1][1] = state.y.matrix[1][1];\n\n          chart.scaleY1 = -chart.height / state.y.matrix[1][1];\n          chart.offsetY1 = chart.height - state.y.matrix[1][0] * chart.scaleY1;\n\n          shouldDraw = true;\n        }\n      } else {\n        if (!previousState.y.matrix) {\n          previousState.y.matrix = [-1, -1];\n        }\n\n        if (\n          force ||\n          previousState.y.matrix[0] !== state.y.matrix[0] ||\n          previousState.y.matrix[1] !== state.y.matrix[1]\n        ) {\n          previousState.y.matrix[0] = state.y.matrix[0];\n          previousState.y.matrix[1] = state.y.matrix[1];\n\n          chart.scaleY = -chart.height / state.y.matrix[1];\n          chart.offsetY = chart.height - state.y.matrix[0] * chart.scaleY;\n\n          shouldDraw = true;\n        }\n      }\n\n      if (shouldDraw) {\n        context.clearRect(\n          chart.region.x,\n          chart.region.y,\n          chart.region.width,\n          chart.region.height\n        );\n\n        cache.first = true;\n\n        context.lineJoin = \"bevel\";\n        context.lineCap = \"butt\";\n        context.lineWidth = chart.lineWidth;\n\n        for (let i = 0; i < state.ids.length; i++) {\n          const v = state.ids[i];\n          const line = state.charts[v];\n\n          if (line.color.alpha === 0) continue;\n          if (state.y_scaled && i > 1) continue;\n\n          if (state.y_scaled) {\n            chart.scaleY = chart[`scaleY${i}`];\n            chart.offsetY = chart[`offsetY${i}`];\n          }\n\n          context.globalAlpha = line.color.alpha;\n          context.strokeStyle = line.color.hex;\n          context.fillStyle = line.color.hex;\n\n          if (line.type === \"line\") {\n            drawLine(context, line.values, chart, line.type === \"line\", cache);\n          }\n          if (line.type === \"bar\") {\n            drawBar(context, line.values, chart, cache);\n          }\n          if (line.type === \"area\") {\n            drawArea(context, line.values, chart, cache);\n          }\n\n          cache.first = false;\n        }\n\n        context.globalAlpha = state.window.mask.color.alpha;\n        context.fillStyle = state.window.mask.color.hex;\n\n        context.fillRect(chart.x, chart.y, track.left, chart.height);\n\n        if (track.right !== chart.region.width) {\n          context.fillRect(\n            track.right,\n            chart.y,\n            chart.width - track.right,\n            chart.height\n          );\n        }\n\n        context.globalAlpha = state.window.tracker.color.alpha;\n        context.fillStyle = state.window.tracker.color.hex;\n\n        drawTrack(\n          context,\n          track.left,\n          track.width,\n          track.height,\n          track.borderRadius,\n          1\n        );\n        drawTrack(\n          context,\n          track.right,\n          -track.width,\n          track.height,\n          track.borderRadius,\n          -1\n        );\n\n        context.fillRect(\n          track.left,\n          0,\n          track.right - track.left,\n          track.padding\n        );\n        context.fillRect(\n          track.left,\n          chart.region.height - track.padding,\n          track.right - track.left,\n          track.padding\n        );\n      }\n    },\n    register: callback => callback({ id: \"preview\", element: canvas, bounds })\n  };\n};\n","const drawTrack = (context, x, width, height, radius, dir) => {\n  context.beginPath();\n\n  context.moveTo(x - width + radius * dir, 0);\n  context.arcTo(x - width, 0, x - width, radius, radius);\n  context.lineTo(x - width, height - radius);\n  context.arcTo(x - width, height, x - width + radius * dir, height, radius);\n  context.lineTo(x, height);\n  context.lineTo(x, 0);\n\n  // const clipWidth = Math.floor(width * 0.3);\n  // const clipRaduis = Math.floor(clipWidth / 2);\n\n  // const clipHeight = Math.floor(height * 0.3);\n  // const clipX = Math.floor(width / 2 + clipWidth / 2);\n  // const clipY = Math.floor(height / 2 - clipHeight / 2 + clipRaduis);\n\n  // context.moveTo(clipX, clipY);\n  // context.arcTo(\n  //   width / 2,\n  //   clipY - clipRaduis,\n  //   clipX - clipWidth,\n  //   clipY,\n  //   clipRaduis\n  // );\n  // context.lineTo(clipX - clipWidth, clipY + clipHeight - clipRaduis);\n  // context.arcTo(\n  //   width / 2,\n  //   clipY + clipHeight,\n  //   clipX,\n  //   clipY + clipHeight - clipRaduis,\n  //   clipRaduis\n  // );\n  // context.closePath();\n\n  context.fill();\n};\n\n// const mask = (context, options) => {\n//   context.fillRect(\n//     0,\n//     tcache.padding,\n//     tcache.left,\n//     canvas.height - tcache.padding * 2\n//   );\n//   if (right !== canvas.width) {\n//     context.fillRect(\n//       right,\n//       tcache.padding,\n//       canvas.width - right,\n//       canvas.height - tcache.padding * 2\n//     );\n//   }\n\n// }\n\nmodule.exports.drawTrack = drawTrack;\n","const createControl = chart => {\n  const checkbox = document.createElement(\"div\");\n  checkbox.className = \"tc-checkbox\";\n  checkbox.style.backgroundColor = chart.color.hex;\n\n  const wrapper = document.createElement(\"div\");\n  wrapper.appendChild(checkbox);\n  wrapper.appendChild(document.createTextNode(chart.name));\n  wrapper.className = \"tc-control tc-checked\";\n\n  return {\n    id: chart.id,\n    element: wrapper\n  };\n};\n\nmodule.exports = state => {\n  if (state.ids.length < 2) {\n    return {\n      element: null,\n      render: () => {},\n      register: () => {}\n    };\n  }\n\n  const wrapper = document.createElement(\"div\");\n  wrapper.className = \"tc-controls\";\n\n  const controls = state.ids.map(v => {\n    const control = createControl(state.charts[v]);\n    wrapper.appendChild(control.element);\n    return control;\n  });\n\n  return {\n    element: wrapper,\n    render: () => {},\n    register: callback => callback({ element: wrapper, controls })\n  };\n};\n","const { formatDate, bound } = require(\"../utils/transformation\");\n\nconst createTotal = state => {\n  const wrapper = document.createElement(\"div\");\n  wrapper.className = \"tc-tooltip__value tc-tooltip__value--hidden\";\n\n  const name = document.createElement(\"span\");\n  const value = document.createElement(\"span\");\n\n  wrapper.appendChild(name.appendChild(document.createTextNode(\"All\")));\n  wrapper.appendChild(value);\n\n  const previousState = {};\n\n  return {\n    element: wrapper,\n    render: (force, index) => {\n      if (force || previousState.stacked !== state.stacked) {\n        previousState.stacked = state.stacked;\n        if (state.stacked) {\n          wrapper.classList.remove(\"tc-tooltip__value--hidden\");\n        } else {\n          wrapper.classList.add(\"tc-tooltip__value--hidden\");\n        }\n      }\n\n      if (state.stacked && (force || previousState.index !== index)) {\n        previousState.index = index;\n        if (index) {\n          value.textContent = state.y.sum[index];\n        }\n      }\n    }\n  };\n};\n\nconst createValue = chart => {\n  const element = document.createElement(\"div\");\n  element.className = \"tc-tooltip__value\";\n\n  const name = document.createElement(\"span\");\n  const value = document.createElement(\"span\");\n  value.style.color = chart.color.hex;\n\n  element.appendChild(name.appendChild(document.createTextNode(chart.name)));\n  element.appendChild(value);\n\n  const previousState = {};\n\n  return {\n    id: chart.id,\n    element,\n    render: (force, index) => {\n      if (force || previousState.disabled !== chart.disabled) {\n        previousState.disabled = chart.disabled;\n        if (chart.disabled) {\n          element.classList.add(\"tc-tooltip__value--hidden\");\n        } else {\n          element.classList.remove(\"tc-tooltip__value--hidden\");\n        }\n      }\n\n      if (force || previousState.index !== index) {\n        previousState.index = index;\n        if (index != null) {\n          value.textContent = chart.values[index];\n        }\n      }\n    }\n  };\n};\n\nmodule.exports = (state, options) => {\n  const element = document.createElement(\"div\");\n  element.className = \"tc-tooltip tc-tooltip--hidden\";\n\n  const nameWrapper = document.createElement(\"div\");\n  nameWrapper.className = \"tc-tooltip__value\";\n  const name = document.createElement(\"div\");\n  name.className = \"tc-tooltip__name\";\n  const arrow = document.createElement(\"div\");\n  arrow.className = \"tc-tooltip__arrow\";\n\n  nameWrapper.appendChild(name);\n  nameWrapper.appendChild(arrow);\n\n  const wrapper = document.createElement(\"div\");\n  wrapper.className = \"tc-tooltip__wrapper\";\n\n  const values = state.ids.map(v => {\n    const value = createValue(state.charts[v]);\n    wrapper.appendChild(value.element);\n\n    return value;\n  });\n  const total = createTotal(state);\n  wrapper.appendChild(total.element);\n\n  element.appendChild(nameWrapper);\n  element.appendChild(wrapper);\n\n  const previousState = { tooltip: {} };\n  const cache = {};\n\n  return {\n    element,\n    register: callback => callback({ id: \"tooltip\", element }),\n    render: force => {\n      if (force) {\n        cache.formatX = (options && options.formatX) || formatDate;\n      }\n\n      const visible = state.tooltip.indexD || state.tooltip.indexD === 0;\n      if (force || cache.visible !== visible) {\n        cache.visible = visible;\n        if (visible) {\n          element.classList.remove(\"tc-tooltip--hidden\");\n        } else {\n          element.classList.add(\"tc-tooltip--hidden\");\n        }\n      }\n\n      if (force || previousState.tooltip.indexD !== state.tooltip.indexD) {\n        previousState.tooltip.indexD = state.tooltip.indexD;\n\n        if (visible) {\n          element.style.transform = `translateX(${state.tooltip.indexX -\n            20}px)`;\n\n          const offset =\n            state.window.offsetD != null\n              ? state.window.offsetD\n              : state.window.offset | 0;\n\n          const index = bound(\n            offset + state.tooltip.indexD,\n            0,\n            state.x.values.length - 1\n          );\n          name.textContent = cache.formatX(state.x.values[index], \"full\");\n\n          values.forEach(v => v.render(force, index));\n          total.render(force, index);\n        }\n      }\n    }\n  };\n};\n","const { formatDate } = require(\"../utils/transformation\");\n\nmodule.exports = (state, options) => {\n  const wrapper = document.createElement(\"div\");\n  wrapper.className = \"tc-range\";\n\n  const from = document.createElement(\"div\");\n  const to = document.createElement(\"div\");\n\n  wrapper.appendChild(from);\n  wrapper.appendChild(document.createTextNode(\" - \"));\n  wrapper.appendChild(to);\n\n  const previousState = { window: {} };\n  const cache = {};\n\n  return {\n    element: wrapper,\n    render: force => {\n      const offset =\n        state.window.offsetD === undefined\n          ? state.window.offset | 0\n          : state.window.offsetD;\n      const width =\n        state.window.widthD === undefined\n          ? state.window.width | 0\n          : state.window.widthD;\n\n      if (force) {\n        cache.formatX = (options && options.formatX) || formatDate;\n      }\n\n      if (\n        force ||\n        previousState.window.widthD !== width ||\n        previousState.window.offsetD !== offset\n      ) {\n        previousState.window.widthD = width;\n        previousState.window.offsetD = offset;\n\n        from.textContent = cache.formatX(state.x.values[offset], \"date\");\n        to.textContent = cache.formatX(\n          state.x.values[offset + width - 1],\n          \"date\"\n        );\n      }\n    },\n    register: () => {}\n  };\n};\n","const { createToggleAnimation } = require(\"../animations/toggle\");\n\nconst getChartsVisible = state => {\n  return state.ids.reduce(\n    (acc, v) => acc + (state.charts[v].disabled ? 0 : 1),\n    0\n  );\n};\n\nmodule.exports = (state, engine, render) => wrapper => {\n  let animation = null;\n\n  const handleToggleOne = controller => {\n    const chart = state.charts[controller.id];\n    const chartsVisible = getChartsVisible(state);\n\n    if (!chart.disabled && chartsVisible < 2) {\n      controller.element.classList.add(\"apply-shake\");\n      return;\n    }\n\n    engine.cancelAnimation(animation);\n    chart.disabled = !chart.disabled;\n\n    if (chart.disabled) {\n      controller.element.classList.remove(\"tc-checked\");\n      animation = engine.registerAnimation(\n        createToggleAnimation(state, render)\n      );\n    } else {\n      controller.element.classList.add(\"tc-checked\");\n      animation = engine.registerAnimation(\n        createToggleAnimation(state, render)\n      );\n    }\n  };\n\n  const handleToggleAll = controller => {\n    engine.cancelAnimation(animation);\n\n    const chart = state.charts[controller.id];\n    const chartsVisible = getChartsVisible(state);\n\n    if (!chart.disabled && chartsVisible < 2) {\n      // check all when long pressing single checked filter\n      state.ids.forEach(v => {\n        state.charts[v].disabled = false;\n      });\n      wrapper.controls.forEach(v => {\n        v.element.classList.add(\"tc-checked\");\n      });\n      animation = engine.registerAnimation(\n        createToggleAnimation(state, render, true)\n      );\n    } else {\n      state.ids.forEach(v => {\n        state.charts[v].disabled = v !== controller.id;\n      });\n      wrapper.controls.forEach(v => {\n        if (v !== controller) {\n          v.element.classList.remove(\"tc-checked\");\n        } else {\n          v.element.classList.add(\"tc-checked\");\n        }\n      });\n      animation = engine.registerAnimation(\n        createToggleAnimation(state, render)\n      );\n    }\n  };\n\n  let timeout = null;\n  const handleLongPress = c => {\n    clearTimeout(timeout);\n    timeout = setTimeout(() => {\n      handleToggleAll(c);\n      timeout = null;\n    }, 1000);\n  };\n\n  const handleSimplePress = c => {\n    if (!timeout) return;\n\n    clearTimeout(timeout);\n    handleToggleOne(c);\n  };\n\n  wrapper.controls.forEach(c => {\n    c.element.addEventListener(\"animationend\", () => {\n      c.element.classList.remove(\"apply-shake\");\n    });\n\n    c.element.addEventListener(\n      \"touchstart\",\n      () => {\n        handleLongPress(c);\n      },\n      engine.passive\n    );\n    c.element.addEventListener(\"touchend\", e => {\n      e.preventDefault();\n      handleSimplePress(c);\n    });\n    c.element.addEventListener(\"touchcancel\", e => {\n      e.preventDefault();\n      handleSimplePress(c);\n    });\n    c.element.addEventListener(\n      \"mousedown\",\n      () => {\n        handleLongPress(c);\n      },\n      engine.passive\n    );\n    c.element.addEventListener(\n      \"mouseup\",\n      () => {\n        handleSimplePress(c);\n      },\n      engine.passive\n    );\n  });\n};\n","const { animate, easeInOutQuad } = require(\"../utils/animation\");\nconst { findMatrix, findSum } = require(\"../utils/transformation\");\nconst segmentTree = require(\"../utils/segmentTree\");\n\nconst createToggleAnimation = (state, render) => {\n  let sum = [];\n  if (state.stacked) {\n    sum = findSum(state);\n    if (!state.percentage) {\n      state.y.mmtree = segmentTree.create(sum);\n    }\n  }\n\n  const globalYMatrix = findMatrix(state, 0, state.x.values.length);\n  const windowYMatrix = findMatrix(\n    state,\n    state.window.offset,\n    state.window.offset + state.window.width\n  );\n\n  const currentAlpha = state.ids.reduce((acc, v) => {\n    acc[v] = state.charts[v].color.alpha;\n    return acc;\n  }, {});\n\n  const targetAlpha = state.ids.reduce((acc, v) => {\n    acc[v] = state.charts[v].disabled ? 0 : 1;\n    return acc;\n  }, {});\n\n  const animation = animate(\n    {\n      sum: state.y.sum || [],\n      alpha: currentAlpha,\n      y: state.y.matrix,\n      y0: state.y0.matrix\n    },\n    {\n      sum,\n      alpha: targetAlpha,\n      y: globalYMatrix,\n      y0: windowYMatrix\n    },\n    step => {\n      for (let i = 0; i < state.ids.length; i++) {\n        const id = state.ids[i];\n        state.charts[id].color.alpha = step.alpha[id];\n      }\n\n      state.y.matrix = step.y;\n      state.y0.matrix = step.y0;\n      if (state.stacked) {\n        state.y.sum = step.sum;\n      }\n    },\n    {\n      duration: 500,\n      easing: easeInOutQuad\n    }\n  );\n\n  return {\n    draw: render,\n    update: animation\n  };\n};\n\nmodule.exports.createToggleAnimation = createToggleAnimation;\n","const linear = t => t;\nconst easeInOutCubic = t =>\n  t < 0.5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1;\nconst easeOutCubic = t => --t * t * t + 1;\nconst easeInOutQuad = t => (t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t);\n\nconst update = (state, from, to, progress) => {\n  if (Array.isArray(from)) {\n    from.forEach((v, i) => {\n      state[i] = update(state[i], v, to[i], progress);\n    });\n    return state;\n  }\n  if (typeof from === \"object\") {\n    return Object.keys(from).reduce((acc, v) => {\n      acc[v] = update(state[v], from[v], to[v], progress);\n      return acc;\n    }, state);\n  }\n  if (typeof from === \"boolean\") {\n    return progress === 1 ? to : from;\n  }\n  return from + (to - from) * progress;\n};\n\nconst clone = from => {\n  if (Array.isArray(from)) {\n    return from.map(v => clone(v));\n  }\n  if (typeof from === \"object\") {\n    return Object.keys(from).reduce((acc, v) => {\n      acc[v] = clone(from[v]);\n      return acc;\n    }, {});\n  }\n  return from;\n};\n\nconst animate = (from, to, step, options) => {\n  const params = Object.assign(\n    {\n      delay: 0,\n      duration: 300,\n      start: null,\n      easing: linear,\n      onFinish: null\n    },\n    options\n  );\n\n  const state = clone(from);\n\n  return now => {\n    if (!params.start) {\n      params.start = now;\n      return true;\n    }\n\n    const elapsed = now - params.start;\n\n    if (elapsed < params.delay) {\n      return true;\n    }\n\n    const finished = elapsed >= params.duration;\n\n    const progress = finished\n      ? 1\n      : Math.min(Math.max(params.easing(elapsed / params.duration), 0), 1);\n\n    const delta = update(state, from, to, progress);\n    step(delta);\n\n    if (finished && options.onFinish) {\n      options.onFinish(delta);\n    }\n\n    return finished === false;\n  };\n};\n\nmodule.exports.animate = animate;\nmodule.exports.linear = linear;\nmodule.exports.easeInOutCubic = easeInOutCubic;\nmodule.exports.easeOutCubic = easeOutCubic;\nmodule.exports.easeInOutQuad = easeInOutQuad;\n","const { createTooltipAnimation } = require(\"../animations/tooltip\");\n\nmodule.exports = (state, engine, render) => v => {\n  let animation = null;\n  let event = null;\n\n  const handleStart = (offsetX, width) => {\n    if (event || Number.isNaN(offsetX)) return;\n\n    const windowWidth =\n      state.window.widthD || state.window.widthD === 0\n        ? state.window.widthD\n        : state.window.width | 0;\n\n    event = {\n      offsetX,\n      step: windowWidth / width,\n      done: false\n    };\n\n    engine.cancelAnimation(animation);\n    animation = engine.registerAnimation(\n      createTooltipAnimation(state, event, render)\n    );\n  };\n\n  const handleCancel = () => {\n    if (!event) return;\n\n    event.done = true;\n    event = null;\n  };\n\n  const handleMove = offsetX => {\n    if (!event) return;\n    event.offsetX = offsetX;\n  };\n\n  engine.addEventListener(\"mousemove\", e => {\n    if (e.target !== v.canvas) return;\n\n    const offsetX = e.pageX - v.bounds.left;\n\n    if (event) handleMove(offsetX);\n    else handleStart(offsetX, v.bounds.right - v.bounds.left);\n  });\n  engine.addEventListener(\"touchstart\", e => {\n    if (e.target !== v.canvas) {\n      handleCancel();\n    } else {\n      const pageX = e.targetTouches[0].pageX;\n      const offsetX = pageX - v.bounds.left;\n\n      if (event) {\n        handleMove(offsetX);\n      } else {\n        handleStart(offsetX, v.bounds.right - v.bounds.left);\n      }\n    }\n  });\n  v.element.addEventListener(\n    \"mouseenter\",\n    e => {\n      if (e.target !== v.canvas) return;\n      handleStart(e.pageX - v.bounds.left, v.bounds.right - v.bounds.left);\n    },\n    engine.passive\n  );\n  v.element.addEventListener(\n    \"mouseleave\",\n    e => {\n      handleCancel();\n    },\n    engine.passive\n  );\n};\n","const { animate } = require(\"../utils/animation\");\n\nconst createTooltipAnimation = (state, event, render) => {\n  let previous = state.tooltip.indexD;\n  let animation = null;\n\n  return {\n    draw: render,\n    update: ms => {\n      if (event.done) {\n        state.tooltip.index = null;\n        state.tooltip.indexD = null;\n        return false;\n      }\n\n      if (animation) {\n        const running = animation(ms);\n        if (!running) {\n          animation = null;\n        }\n      }\n\n      const indexD = Math.max(Math.floor(event.offsetX * event.step), 0);\n\n      if (indexD !== previous) {\n        const indexX = Math.round(indexD / event.step);\n\n        if (state.tooltip.index !== null) {\n          animation = animate(\n            state.tooltip.index,\n            indexD,\n            step => {\n              state.tooltip.index = step;\n              state.tooltip.indexD = indexD;\n              state.tooltip.indexX = indexX;\n            },\n            { start: ms, duration: 150 }\n          );\n        } else {\n          state.tooltip.index = indexD;\n          state.tooltip.indexD = indexD;\n          state.tooltip.indexX = indexX;\n        }\n        previous = indexD;\n      }\n\n      return true;\n    }\n  };\n};\n\nmodule.exports.createTooltipAnimation = createTooltipAnimation;\n","const { bound } = require(\"../utils/transformation\");\nconst {\n  createScrollAnimation,\n  createInspectAnimation\n} = require(\"../animations/drag\");\n\nconst determineAction = (state, offsetX, width, mobile) => {\n  const scaleX = width / (state.x.values.length - 1);\n  // make life easier for mobile devices\n  const trackerWidth = state.window.tracker.width * (mobile ? 3 : 1);\n\n  const leftTrackX =\n    state.window.offset * scaleX - (mobile ? state.window.tracker.width : 0);\n  const rightTrackX =\n    (state.window.offset + state.window.width - 1) * scaleX +\n    (mobile ? state.window.tracker.width : 0);\n\n  if (offsetX < leftTrackX || offsetX > rightTrackX) return \"scroll\";\n\n  if (\n    offsetX > leftTrackX + trackerWidth &&\n    offsetX < rightTrackX - trackerWidth\n  )\n    return \"drag\";\n\n  if (offsetX >= leftTrackX && offsetX <= leftTrackX + trackerWidth)\n    return \"resize-left\";\n\n  return \"resize-right\";\n};\n\nmodule.exports = (state, engine, render) => v => {\n  // const listenerOptions = engine.passiveSupported ? { passive: true } : false;\n  let event = null;\n  let animation = null;\n\n  const handleInspect = (offsetX, width) => {\n    const scaleX = width / state.x.values.length;\n\n    const action = determineAction(state, offsetX, width);\n\n    let inspectEvent;\n    if (action === \"resize-left\") {\n      inspectEvent = {\n        offset: 0,\n        width: state.window.offset + state.window.width\n      };\n    } else if (action === \"resize-right\") {\n      inspectEvent = {\n        offset: state.window.offset,\n        width: state.x.values.length - state.window.offset\n      };\n    } else {\n      inspectEvent = {\n        offset: bound(\n          Math.round(offsetX / scaleX - state.window.minwidth / 2),\n          0,\n          state.x.values.length - state.window.minwidth\n        ),\n        width: state.window.minwidth\n      };\n    }\n\n    engine.cancelAnimation(animation);\n    animation = engine.registerAnimation(\n      createInspectAnimation(state, inspectEvent, render)\n    );\n  };\n\n  const handleStart = (offsetX, pageX, width) => {\n    if (event) return;\n    event = {\n      type: determineAction(state, offsetX, width, engine.mobile),\n      initialPageX: pageX,\n      step: state.x.values.length / width,\n      pageX,\n      done: false\n    };\n\n    engine.cancelAnimation(animation);\n    animation = engine.registerAnimation(\n      createScrollAnimation(state, event, render)\n    );\n  };\n\n  const handleMove = pageX => {\n    if (event === null) return;\n    event.pageX = pageX;\n  };\n\n  const handleCancel = () => {\n    if (!event) return;\n\n    event.done = true;\n    event = null;\n  };\n\n  v.element.addEventListener(\n    \"mousedown\",\n    e => {\n      e.preventDefault();\n\n      handleStart(\n        e.pageX - v.bounds.left,\n        e.pageX,\n        v.bounds.right - v.bounds.left\n      );\n    },\n    false\n  );\n\n  v.element.addEventListener(\n    \"touchstart\",\n    e => {\n      e.preventDefault();\n      const pageX = e.targetTouches[0].pageX;\n      handleStart(pageX - v.bounds.left, pageX, v.bounds.right - v.bounds.left);\n    },\n    false\n  );\n\n  v.element.addEventListener(\n    \"dblclick\",\n    e => {\n      e.preventDefault();\n      handleInspect(e.pageX - v.bounds.left, v.bounds.right - v.bounds.left);\n    },\n    false\n  );\n\n  v.element.addEventListener(\n    \"touchstart\",\n    e => {\n      e.preventDefault();\n      const pageX = e.targetTouches[0].pageX;\n      handleStart(pageX - v.bounds.left, pageX, v.bounds.right - v.bounds.left);\n    },\n    false\n  );\n\n  engine.addEventListener(\"mousemove\", e => {\n    if (!event) return;\n    handleMove(e.pageX);\n  });\n  engine.addEventListener(\"touchmove\", e => {\n    if (!event) return;\n    handleMove(e.targetTouches[0].pageX);\n  });\n\n  engine.addEventListener(\"mouseup\", handleCancel);\n  engine.addEventListener(\"touchcancel\", handleCancel);\n  engine.addEventListener(\"touchend\", handleCancel);\n\n  // v.element.addEventListener(\n  //   \"touchstart\",\n  //   e => {\n  //     const rect = e.target.getBoundingClientRect();\n  //     const offsetX = e.targetTouches[0].pageX - rect.left;\n  //     handleStart(offsetX, e.target.width);\n  //   },\n  //   engine.passiveSupported ? { passive: true } : false\n  // );\n\n  // v.element.addEventListener(\"touchmove\", e => {\n  //   if (!animation) return;\n\n  //   const rect = e.target.getBoundingClientRect();\n\n  //   state.window.offsetX = e.targetTouches[0].pageX - rect.left;\n  //   state.window.targetWidth = e.target.width;\n  // });\n  // v.element.addEventListener(\"mousemove\", e => {\n  //   if (!animation) return;\n\n  //   state.window.offsetX = e.offsetX;\n  //   state.window.targetWidth = e.target.width;\n  // });\n\n  // v.element.addEventListener(\"mouseleave\", handleCancel);\n  // v.element.addEventListener(\"mouseup\", handleCancel);\n  // v.element.addEventListener(\"touchcancel\", handleCancel);\n  // v.element.addEventListener(\"touchend\", handleCancel);\n};\n","const { animate, easeOutCubic } = require(\"../utils/animation\");\nconst { findMatrix, bound } = require(\"../utils/transformation\");\n\nconst createAnimation = (state, nextOffset, nextWidth, ms) => {\n  const windowYMatrix = findMatrix(state, nextOffset, nextOffset + nextWidth);\n\n  return animate(\n    {\n      offset: state.window.offset,\n      width: state.window.width,\n      y0: state.y0.matrix\n    },\n    {\n      offset: nextOffset,\n      width: nextWidth,\n      y0: windowYMatrix\n    },\n    step => {\n      state.window.offset = step.offset;\n      state.window.offsetD = nextOffset;\n\n      state.window.width = step.width;\n      state.window.widthD = nextWidth;\n\n      state.y0.matrix = step.y0;\n    },\n    { start: ms, duration: 300, easing: easeOutCubic }\n  );\n};\n\nconst resizeRight = (state, initial, shift, ms) => {\n  const width = initial.width + shift;\n  const nextWidth = bound(width, state.window.minwidth, state.x.values.length);\n  const nextOffset = bound(\n    initial.offset + width - nextWidth,\n    0,\n    state.x.values.length - nextWidth\n  );\n\n  return createAnimation(state, nextOffset, nextWidth, ms);\n};\n\nconst resizeLeft = (state, initial, shift, ms) => {\n  const nextWidth = bound(\n    initial.width - shift,\n    state.window.minwidth,\n    state.x.values.length\n  );\n  const nextOffset = bound(\n    initial.offset + shift,\n    0,\n    state.x.values.length - nextWidth\n  );\n\n  return createAnimation(state, nextOffset, nextWidth, ms);\n};\n\nconst drag = (state, initial, shift, ms) => {\n  const nextOffset = bound(\n    initial.offset + shift,\n    0,\n    state.x.values.length - state.window.width\n  );\n\n  return createAnimation(state, nextOffset, initial.width, ms);\n};\n\nconst createScrollAnimation = (state, event, render) => {\n  const current = {\n    shift: 0\n  };\n  const initial = {\n    offset: state.window.offset,\n    width: state.window.width\n  };\n\n  let animation = null;\n\n  return {\n    draw: render,\n    update: ms => {\n      if (animation) {\n        const running = animation(ms);\n        if (!running) {\n          animation = null;\n        }\n      }\n\n      const shift = Math.ceil((event.pageX - event.initialPageX) * event.step);\n\n      if (shift !== current.shift) {\n        if (event.type === \"drag\") {\n          animation = drag(state, initial, shift, ms);\n        } else if (event.type === \"resize-left\") {\n          animation = resizeLeft(state, initial, shift, ms);\n        } else if (event.type === \"resize-right\") {\n          animation = resizeRight(state, initial, shift, ms);\n        }\n\n        current.shift = shift;\n      }\n\n      return animation !== null || !event.done;\n    }\n  };\n};\n\nconst createInspectAnimation = (state, event, render) => {\n  const windowYMatrix = findMatrix(\n    state,\n    event.offset,\n    event.offset + event.width\n  );\n\n  return {\n    draw: render,\n    update: animate(\n      {\n        offset: state.window.offset,\n        width: state.window.width,\n        y0: state.y0.matrix\n      },\n      {\n        offset: event.offset,\n        width: event.width,\n        y0: windowYMatrix\n      },\n      step => {\n        state.window.offset = step.offset;\n        state.window.offsetD = event.offset;\n\n        state.window.width = step.width;\n        state.window.widthD = event.width;\n\n        state.y0.matrix = step.y0;\n      },\n      { duration: 500, easing: easeOutCubic }\n    )\n  };\n};\n\nmodule.exports.createScrollAnimation = createScrollAnimation;\nmodule.exports.createInspectAnimation = createInspectAnimation;\n","const { bound } = require(\"../utils/transformation\");\n// const { createTooltipAnimation } = require(\"../animations/tooltip\");\n\nmodule.exports = (api, state, engine, render) => v => {\n  // let animation = null;\n\n  v.element.addEventListener(\"click\", () => {\n    if (api.zoomIn) {\n      // const offset =\n      //   state.window.offsetD != null\n      //     ? state.window.offsetD\n      //     : state.window.offset | 0;\n      // const index = bound(\n      //   offset + state.tooltip.indexD,\n      //   0,\n      //   state.x.values.length - 1\n      // );\n      // api.zoomIn(state.x.values[index], (err, data) => {\n      //   console.log(data);\n      // });\n    }\n  });\n};\n"],"names":["$b8e0f637eb9e6a50$export$3ae94a2503e890a1","$b8e0f637eb9e6a50$export$3e262f87c4a23d75","$b8e0f637eb9e6a50$export$bb120a8661113875","$b8e0f637eb9e6a50$export$adf7c0fe6059d774","$b8e0f637eb9e6a50$export$4380c87abf28fdf","$17804dc284f5f568$export$185802fd694ee1f5","$17804dc284f5f568$export$71aa6c912b956294","$9bccc56df68caa12$export$b4dd9f7a9a2aa330","$9bccc56df68caa12$export$819db45aec5fcbe5","$9bccc56df68caa12$export$79269cdc703edee2","$3782c6c959e46d57$export$e3607ec2d7a891c4","$97101d4f389b7f39$exports","$62ae09ae3037ba57$exports","$62ae09ae3037ba57$var$engine","$62ae09ae3037ba57$var$isMobile","a","check","navigator","userAgent","vendor","window","opera","test","substr","$62ae09ae3037ba57$var$isPassiveSupported","passiveSupported","options","passive","addEventListener","removeEventListener","err","$62ae09ae3037ba57$var$createEventListeners","capture","handleEvent","mobile","animations","listeners","mousedown","mouseup","mousemove","touchmove","touchcancel","touchend","touchstart","e","type","forEach","v","listener","push","filter","registerAnimation","animation","length","requestAnimationFrame","render","cancelAnimation","ms","draw","force","update","finished","component","some","c","$04af63a21a4c58b8$exports","$17804dc284f5f568$var$FALLBACK","Infinity","$17804dc284f5f568$var$isPowerOfTwo","number","$17804dc284f5f568$var$getSegmentTreeLength","currentPower","Math","floor","log2","$17804dc284f5f568$var$getLeftChildIndex","position","$17804dc284f5f568$var$getRightChildIndex","$17804dc284f5f568$var$createRecursively","tree","data","left","right","middle","leftValue","rightValue","min","max","$17804dc284f5f568$var$findRecursively","findLeft","findRight","dataLength","treeLength","Array","fill","$b8e0f637eb9e6a50$var$findScale","count","roughStep","range","stepPower","log10","abs","normalizedStep","step","preferedStep","ceil","top","bot","$b8e0f637eb9e6a50$var$findMinmax","state","from","to","ids","reduce","acc","chart","charts","disabled","local","mmtree","$b8e0f637eb9e6a50$var$MONTH","$b8e0f637eb9e6a50$var$DAY","mode","datetime","Date","date","getDate","month","getMonth","getFullYear","getDay","linesCount","grid","lines","percentage","stacked","minmax","y","y_scaled","minmax0","scale0","minmax1","scale1","barchart","every","p5","sign","x","values","result","idsCount","i","sum","j","lower","upper","canvas","realToCSSPixels","devicePixelRatio","displayWidth","clientWidth","displayHeight","clientHeight","width","height","$04af63a21a4c58b8$require$closest","target","offset","round","$04af63a21a4c58b8$var$getValues","columns","id","find","slice","$04af63a21a4c58b8$var$createCharts","name","names","types","color","hex","colors","alpha","Object","keys","windowOffset","windowWidth","matrix","lineWidth","y0","minwidth","tracker","stroke","mask","tooltip","lighten","radius","index","axis","font","size","$04af63a21a4c58b8$require$findSum","$04af63a21a4c58b8$require$findMatrix","$f28366862269443b$exports","$f28366862269443b$require$formatValue","toFixed","$4d5e44c28a6a54fa$exports","context","cache","modes","text","FORCE","XBOUNDS","TEXT","steps","power","minstep","powerI","fraction","doublestep","closest","start","padding","last","clearRect","region","fillStyle","globalAlpha","textBaseline","textAlign","shift","fillText","formatX","scaleX","offsetX","$00a0726d9c08782b$exports","$9bccc56df68caa12$var$yPercentage","value","total","inc","first","stack","$9bccc56df68caa12$var$yStacked","ntotal","height0","$9bccc56df68caa12$var$yBasic","scaleY","offsetY","beginPath","xb","yb","lineTo","limit","bottom","highlight","indexD","rect","fillRect","$00a0726d9c08782b$require$drawHorizontalLines","dy","moveTo","$00a0726d9c08782b$require$drawYText","format","end","$00a0726d9c08782b$require$drawVerticalLine","$00a0726d9c08782b$require$drawPoint","arc","PI","previous","globalCompositeOperation","previousState","CHART","scaleY0","offsetY0","scaleY1","offsetY1","lineJoin","lineCap","line","strokeStyle","$00a0726d9c08782b$require$drawLine","$00a0726d9c08782b$require$drawArea","$00a0726d9c08782b$require$drawBar","bar","xD","color1","formatY","color2","$f28366862269443b$var$lighten","r","parseInt","substring","g","b","lr","toString","lg","lb","$f28366862269443b$var$darken","$f28366862269443b$var$MODE","NONE","wrapper","document","createElement","className","appendChild","getContext","bounds","element","register","callback","$f28366862269443b$require$resize","clientRect","getBoundingClientRect","pageXOffset","pageYOffset","dpr","fontSize","xTextWidth","measureText","lighter","current","$2c8c620964d7adca$exports","$2c8c620964d7adca$require$drawTrack","dir","arcTo","track","shouldDraw","$2c8c620964d7adca$require$resize","borderRadius","$2c8c620964d7adca$require$drawLine","$2c8c620964d7adca$require$drawBar","$2c8c620964d7adca$require$drawArea","$3ee3be402d4f47aa$exports","$3ee3be402d4f47aa$var$createControl","checkbox","style","backgroundColor","createTextNode","controls","map","control","$0cd0619448b345a1$exports","$0cd0619448b345a1$var$createTotal","classList","remove","add","textContent","$0cd0619448b345a1$var$createValue","nameWrapper","arrow","visible","transform","indexX","offsetD","$0cd0619448b345a1$require$bound","$e2f6a4cdba36f1bf$exports","undefined","widthD","$55a0aaf060e4987c$exports","$3782c6c959e46d57$var$linear","t","$3782c6c959e46d57$var$update","progress","isArray","$3782c6c959e46d57$var$clone","params","assign","delay","duration","easing","onFinish","now","elapsed","delta","$e925086cfa751e50$require$easeInOutQuad","$55a0aaf060e4987c$require$createToggleAnimation","$e925086cfa751e50$require$findSum","globalYMatrix","$e925086cfa751e50$require$findMatrix","windowYMatrix","currentAlpha","targetAlpha","$e925086cfa751e50$require$animate","$55a0aaf060e4987c$var$getChartsVisible","engine","handleToggleOne","controller","chartsVisible","handleToggleAll","timeout","handleLongPress","clearTimeout","setTimeout","handleSimplePress","preventDefault","$b3bd6dc5f93c3789$exports","$b3bd6dc5f93c3789$require$createTooltipAnimation","event","done","running","$ac3c46d3b15a2e65$require$animate","handleStart","Number","isNaN","handleCancel","handleMove","pageX","targetTouches","$c5d1097dc4dc9fd5$exports","$e42fbce1210d2645$require$easeOutCubic","$e42fbce1210d2645$var$createAnimation","nextOffset","nextWidth","$e42fbce1210d2645$require$findMatrix","$e42fbce1210d2645$require$animate","$e42fbce1210d2645$var$resizeRight","initial","$e42fbce1210d2645$require$bound","$e42fbce1210d2645$var$resizeLeft","$e42fbce1210d2645$var$drag","$c5d1097dc4dc9fd5$require$createScrollAnimation","initialPageX","$c5d1097dc4dc9fd5$require$createInspectAnimation","$c5d1097dc4dc9fd5$var$determineAction","trackerWidth","leftTrackX","rightTrackX","handleInspect","inspectEvent","action","$c5d1097dc4dc9fd5$require$bound","$e75afd0630324077$exports","api","zoomIn","$97101d4f389b7f39$var$mountDefault","components","view","preview","createEngine","createState","createView","createPreview","createControls","createTooltip","createRange","createControlHandlers","createTooltipHandler","createPreviewHandler","createZoomHandler","mountDefault","default","elements","_r","immediately","mount","func","onZoomIn","telechart"],"version":3,"file":"telechart.min.js.map"}