!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.telechart=e():t.telechart=e()}(this,function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var a=e[i]={i:i,l:!1,exports:{}};return t[i].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(i,a,function(e){return t[e]}.bind(null,a));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=4)}([function(t,e,n){var i=n(1),a=function(t,e,n){var i=(e-t)/n,a=Math.pow(10,Math.floor(Math.log10(Math.abs(i)))),r=i/a*10,o=Math.max(r,5*Math.ceil(r/5))/10*a,l=t+o*n;return[t,l-t,l,o]},r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],o=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];t.exports.formatDate=function(t,e){var n=new Date(t),i=n.getDate(),a=n.getMonth();return"short"===e?"".concat(r[a]," ").concat(i>9?i:"0".concat(i)):"date"===e?"".concat(i," ").concat(r[a]," ").concat(n.getFullYear()):"".concat(o[n.getDay()],", ").concat(i>9?i:"0".concat(i)," ").concat(r[a]," ").concat(n.getFullYear())},t.exports.formatValue=function(t){var e=Math.abs(t);return e>999999999?(t/1e9).toFixed(2)+"B":e>999999?(t/1e6).toFixed(2)+"M":e>999?(t/1e3).toFixed(1)+"K":t.toFixed(0)},t.exports.findMatrix=function(t,e,n){var r=t.grid.lines;if(t.percentage)return a(0,100,r);if(t.stacked){var o=i.find(t.y.mmtree,e,n);return a(0,o[1],r)}if(t.y_scaled){var l=i.find(t.charts[t.ids[0]].mmtree,e,n),s=a(l[0],l[1],r),d=i.find(t.charts[t.ids[1]].mmtree,e,n);return[s,a(d[0],d[1],r)]}var c=function(t,e,n){return t.ids.reduce(function(a,r){var o=t.charts[r];if(o.disabled)return a;var l=i.find(o.mmtree,e,n);return a[0]=Math.min(a[0],l[0]),a[1]=Math.max(a[1],l[1]),a},[1/0,-1/0])}(t,e,n);if(t.ids.every(function(e){return"bar"===t.charts[e].type})){var u=c[0]-.05*(c[1]-c[0]);if(Math.sign(c[0])===Math.sign(c[1]))return a(u,c[1],r)}return a(c[0],c[1],r)},t.exports.findSum=function(t){for(var e=t.x.values.length,n=new Array(e),i=t.ids.length,a=0;a<e;a++){for(var r=0,o=0;o<i;o++){var l=t.charts[t.ids[o]];l.disabled||(r+=l.values[a])}n[a]=r}return n},t.exports.closest=function(t,e){return Math.max(Math.min(Math.round((t-1)*e),t-1),0)},t.exports.bound=function(t,e,n){return Math.max(Math.min(t,n),e)},t.exports.inbounds=function(t,e,n){return e>=t.left&&e<=t.right&&n>=t.top&&n<=t.bottom},t.exports.resize=function(t){var e=window.devicePixelRatio,n=Math.floor(t.clientWidth*e),i=Math.floor(t.clientHeight*e);return(t.width!==n||t.height!==i)&&(t.width=n,t.height=i,!0)}},function(t,e){var n=[1/0,-1/0],i=function(t){return 2*t+1},a=function(t){return 2*t+2},r=function t(e,n,r,o,l){if(r===o)return e[l]=[n[r],n[r]],e;var s=Math.floor((r+o)/2);t(e,n,r,s,i(l)),t(e,n,s+1,o,a(l));var d=e[i(l)],c=e[a(l)];return e[l]=[Math.min(d[0],c[0]),Math.max(d[1],c[1])],e};t.exports.fallback=n,t.exports.create=function(t){var e=t.length,n=function(t){if(!((e=t)<1)&&0==(e&e-1))return 2*t-1;var e,n=Math.floor(Math.log2(t))+1;return 2*Math.pow(2,n)-1}(e),i=new Array(n).fill(null);return[r(i,t,0,e-1,0),t.length]},t.exports.find=function(t,e,r){return function t(e,r,o,l,s,d){if(r<=l&&o>=s)return e[d];if(r>s||o<l)return n;var c=Math.floor((l+s)/2),u=t(e,r,o,l,c,i(d)),f=t(e,r,o,c+1,s,a(d));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]}(t[0],e,r,0,t[1]-1,0)}},function(t,e){var n=function(t){return t};t.exports.animate=function(t,e,i,a){var r=Object.assign({delay:0,duration:300,start:null,easing:n,onFinish:null},a),o=function t(e){return Array.isArray(e)?e.map(function(e){return t(e)}):"object"==typeof e?Object.keys(e).reduce(function(n,i){return n[i]=t(e[i]),n},{}):e}(t);return function(n){if(!r.start)return r.start=n,!0;var l=n-r.start;if(l<r.delay)return!0;var s=l>=r.duration,d=s?1:Math.min(Math.max(r.easing(l/r.duration),0),1),c=function t(e,n,i,a){return Array.isArray(n)?(n.forEach(function(n,r){e[r]=t(e[r],n,i[r],a)}),e):"object"==typeof n?Object.keys(n).reduce(function(r,o){return r[o]=t(e[o],n[o],i[o],a),r},e):"boolean"==typeof n?1===a?i:n:n+(i-n)*a}(o,t,e,d);return i(c),s&&a.onFinish&&a.onFinish(c),!1===s}},t.exports.linear=n,t.exports.easeInOutCubic=function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},t.exports.easeOutCubic=function(t){return--t*t*t+1},t.exports.easeInOutQuad=function(t){return t<.5?2*t*t:(4-2*t)*t-1}},function(t,e){var n=function(t,e,n,i,a,r){var o=r.sum[e],l=a.height*(n/o)*i,s=a.y+a.height-l;if(r.stacked){var d=r.first?0:r.stack[e];s-=d,r.stack[e]=d+l}t[0]=s,t[1]=l},i=function(t,e,n,i,a,r){var o=r.sum[e],l=o/r.matrix[2],s=r.first?0:r.stack[e],d=a.y+a.height*(1-l)+s,c=a.height*l*(n/o)*i;r.stack[e]=s+c,t[0]=d,t[1]=c},a=function(t,e,n){var i=n.y+e*n.scaleY+n.offsetY,a=n.height-i+n.y;t[0]=i,t[1]=a};t.exports.drawHorizontalLines=function(t,e,n){t.beginPath();for(var i=-n.height/e,a=0;a<e;a+=1){var r=n.y+a*i+n.height;t.moveTo(n.x,r),t.lineTo(n.width,r)}t.stroke()},t.exports.drawVerticalLine=function(t,e,n){t.beginPath(),t.moveTo(e,n.region.y),t.lineTo(e,n.height),t.stroke()},t.exports.drawPoint=function(t,e,n,i,a){t.beginPath(),t.arc(e,n,i,0,2*Math.PI),t.stroke();var r=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",t.beginPath(),t.arc(e,n,i-(.5+a/2|0),0,2*Math.PI),t.fill(),t.globalCompositeOperation=r},t.exports.drawYText=function(t,e,n,i,a){for(var r=1+(e[2]-e[3]|0),o=e[0];o<=r;o+=e[3])t.fillText(a(o,"short"),n,i.y+o*i.scaleY+i.offsetY)},t.exports.drawArea=function(t,e,r,o){var l=t.globalAlpha,s=new Array(2);if(t.beginPath(),!o.first&&o.stacked)for(var d=r.range;d>=0;d--){var c=r.start+d,u=r.x+d*r.scaleX+r.offsetX,f=r.y+r.height-o.stack[c];t.lineTo(u,f)}for(var h=0;h<=r.range;h+=1){var m=r.start+h,p=r.x+h*r.scaleX+r.offsetX;if(o.percentage?n(s,m,e[m],l,r,o):o.stacked?i(s,m,e[m],l,r,o):a(s,e[m],r),r.limit.bottom){var w=s[0];s[0]=w<r.limit.bottom?w:r.limit.bottom}t.lineTo(p,s[0])}!o.first&&o.stacked||(t.lineTo(r.width,r.y+r.height),t.lineTo(r.x,r.y+r.height)),t.fill()},t.exports.drawLine=function(t,e,r,o,l){var s=t.globalAlpha;t.beginPath();for(var d=r.range+1,c=new Array(2),u=0;u<=d;u+=1){var f=r.start+u,h=r.x+u*r.scaleX+r.offsetX;if(l.percentage?n(c,f,e[f],s,r,l):l.stacked?i(c,f,e[f],s,r,l):a(c,e[f],r),r.limit.bottom){var m=c[0];c[0]=m<r.limit.bottom?m:r.limit.bottom}t.lineTo(h,c[0])}t.stroke()},t.exports.drawBar=function(t,e,r,o,l){var s=t.fillStyle,d=t.globalAlpha,c=o.tooltip.indexD;null!=c&&(t.fillStyle=l),t.beginPath();for(var u=r.range+1,f=new Array(2),h=0;h<=u;h+=1){var m=r.start+h;if(m!==c){var p=r.x+h*r.scaleX+r.offsetX-r.scaleX/2,w=r.scaleX;o.percentage?n(f,m,e[m],d,r,o):o.stacked?i(f,m,e[m],d,r,o):a(f,e[m],r),t.rect(p,f[0],w,f[1])}}if(t.fill(),null!=c){var v=c-r.start,g=r.x+v*r.scaleX+r.offsetX-r.scaleX/2,x=r.scaleX;o.percentage?n(f,c,e[c],d,r,o):o.stacked?i(f,c,e[c],d,r,o):a(f,e[c],r),t.fillStyle=s,t.fillRect(g,f[0],x,f[1])}}},function(t,e,n){t.exports=n(5)},function(t,e,n){n(6);var i=n(7),a=n(8),r=n(9),o=n(12),l=n(14),s=n(15),d=n(16),c=n(17),u=n(19),f=n(21),h=n(23);t.exports=function(t,e){var n=i(),m=a(t),p={},w=s(m),v=r(m);v.element.appendChild(w.element);var g=o(m),x=l(m),y=d(m);x.register(c(m,n,[v.render,g.render])),v.register(u(m,n,[v.render,w.render])),g.register(f(m,n,[v.render,g.render,y.render])),w.register(h(p,m,n,[]));var b={view:v,controls:x,preview:g,tooltip:w,range:y},k={view:v.element,preview:g.element,controls:x.element,range:y.element},E=[v.render,g.render,y.render,w.render],X=function(t,e){e?E.forEach(function(e){return e(t)}):n.registerAnimation({force:t,draw:E})};return p.mount=function(t){var e,n;return"function"==typeof t?t(k):(n=k,(e=t).className="tc-wrapper",e.appendChild(n.range),e.appendChild(n.view),e.appendChild(n.preview),e.appendChild(n.controls)),X(!0,!1),p},p.update=function(t){return t(n,m,b),p},p.render=function(t,e){return X(t,e),p},p.onZoomIn=function(t){return p.zoomIn=t,p},p}},function(t,e,n){},function(t,e){var n=null,i=function(){var t=function(){var t=!1;try{var e={get passive(){t=!0}};window.addEventListener("test",e,e),window.removeEventListener("test",e,e)}catch(t){return!1}return t}();n.passiveSupported=t,n.passive=!!t&&{passive:!0,capture:!1},window.addEventListener("mousedown",n.handleEvent,n.passive),window.addEventListener("mouseup",n.handleEvent,n.passive),window.addEventListener("mousemove",n.handleEvent,n.passive),window.addEventListener("touchmove",n.handleEvent,n.passive),window.addEventListener("touchcancel",n.handleEvent,n.passive),window.addEventListener("touchend",n.handleEvent,n.passive),window.addEventListener("touchstart",n.handleEvent,n.passive)};t.exports=function(){var t,e;return n||(n={mobile:(e=!1,t=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0),e),passiveSupported:!1,animations:[],listeners:{mousedown:[],mouseup:[],mousemove:[],touchmove:[],touchcancel:[],touchend:[],touchstart:[]},handleEvent:function(t){n.listeners[t.type].forEach(function(e){return e(t)})},addEventListener:function(t,e){n.listeners[t].push(e)},removeEventListener:function(t,e){n.listeners[t]=n.listeners[t].filter(function(t){return t!==e})},registerAnimation:function(t){return n.animations.push(t),1===n.animations.length&&window.requestAnimationFrame(n.render),t},cancelAnimation:function(t){return n.animations=n.animations.filter(function(e){return e!==t}),null},render:function(t){var e=[],i=!1;n.animations=n.animations.filter(function(n){return e.push(n.draw),i=i||n.force,!!n.update&&n.update(t)});var a=[];e.forEach(function(t){return t.forEach(function(t){a.some(function(e){return e===t})||(a.push(t),t(i))})}),n.animations.length&&window.requestAnimationFrame(n.render)}},i()),n}},function(t,e,n){var i=n(0),a=i.closest,r=i.findMatrix,o=i.findSum,l=n(1),s=function(t,e){return t.find(function(t){return t[0]===e}).slice(1)};t.exports=function(t){var e=Object.keys(t.names),n=s(t.columns,"x"),i=function(t,e){return t.reduce(function(t,n){var i=s(e.columns,n);return t[n]={id:n,name:e.names[n],type:e.types[n],color:{hex:e.colors[n],alpha:1},disabled:!1,values:i},t},{})}(e,t),d=a(n.length,.6),c=a(n.length,.3),u={ids:e,charts:i,y_scaled:!!t.y_scaled,stacked:!!t.stacked,percentage:!!t.percentage,x:{values:n,matrix:[0,n.length-1]},y:{lineWidth:1,matrix:[-1,-1,-1]},y0:{lineWidth:2,matrix:[-1,-1,-1]},window:{offset:d,width:c,minwidth:a(n.length,.08),tracker:{width:10,stroke:{hex:"#C0D1E1",alpha:1},color:{hex:"#C0D1E1",alpha:1}},mask:{color:{hex:"#E2EEF9",alpha:.6}}},tooltip:{lineWidth:1,lighten:!0,color:{hex:"#182D3B",alpha:.1},radius:3,index:null},grid:{lines:5,lineWidth:1,color:{hex:"#182D3B",alpha:.1}},axis:{x:{font:"Arial",size:10,color:{hex:"#8E8E93",alpha:1}},y:{font:"Arial",size:10,color:{hex:"#8E8E93",alpha:1}}}};return t.percentage?u.y.sum=o(u):t.stacked?(u.y.sum=o(u),u.y.mmtree=l.create(u.y.sum)):e.forEach(function(t){var e=i[t];e.mmtree=l.create(e.values)}),u.y.matrix=r(u,0,n.length),u.y0.matrix=r(u,d,d+c),u}},function(t,e,n){var i=n(0),a=i.resize,r=i.formatDate,o=i.formatValue,l=n(10),s=n(11),d=function(t){var e=parseInt(t.substring(1,3),16),n=parseInt(t.substring(3,5),16),i=parseInt(t.substring(5,7),16),a=n+(255-n)/3|0,r=i+(255-i)/3|0;return"#".concat((e+(255-e)/3|0).toString(16)).concat(a.toString(16)).concat(r.toString(16))},c=function(t){var e=parseInt(t.substring(1,3),16),n=parseInt(t.substring(3,5),16),i=parseInt(t.substring(5,7),16),a=n-n/3|0,r=i-i/3|0;return"#".concat((e-e/3|0).toString(16)).concat(a.toString(16)).concat(r.toString(16))},u={NONE:0,FORCE:1,XBOUNDS:2,CHART:4,TEXT:8};t.exports=function(t,e){var n=document.createElement("div");n.className="tc-chart-wrapper";var i=document.createElement("canvas");i.className="tc-chart",n.appendChild(i);var f=i.getContext("2d"),h={},m={},p={},w={},v={charts:{},window:{},tooltip:{},y0:{}},g={mode:u.NONE,chart:h,text:m,grid:p,tooltip:w,previousState:v},x={};return{element:n,register:function(t){return t({id:"view",element:n,canvas:i,bounds:x})},render:function(n){if(g.mode=u.NONE,g.sum=t.y.sum,g.matrix=t.y0.matrix,n){g.mode|=u.FORCE,a(i);var y=i.getBoundingClientRect();x.left=y.left+window.pageXOffset,x.top=y.top+window.pageYOffset,x.right=y.right+window.pageXOffset,x.bottom=y.bottom+window.pageYOffset;var b=window.devicePixelRatio;g.formatX=e&&e.formatX||r,g.formatY=e&&e.formatY||o,g.stacked=t.stacked,g.percentage=t.percentage,t.stacked&&(g.stack=new Array(t.x.values.length));var k=(t.axis.x.size||10)*b;m.font="".concat(k,"px ").concat(t.axis.x.font),m.height=k+4*b,m.width=i.width,m.x=0,m.y=i.height-m.height+2*b,f.font=m.font;var E=Math.ceil(f.measureText(g.formatX(t.x.values[0],"short")).width);m.steps=Math.max(i.width/(2*E),1),m.minstep=(t.window.minwidth-1)/m.steps,m.padding=Math.floor(m.minstep/2),m.region={x:0,y:i.height-m.height,width:i.width,height:k+4*b},p.lineWidth=t.grid.lineWidth*b,p.font="".concat((t.axis.y.size||10)*b,"px ").concat(t.axis.y.font),w.lineWidth=t.tooltip.lineWidth*b,w.radius=t.tooltip.radius*b,h.lineWidth=t.y0.lineWidth*b,h.width=i.width,h.height=i.height-m.height-(w.radius+4),h.x=0,h.y=0,h.region={x:0,y:0,width:i.width,height:i.height-m.height},h.limit={bottom:h.height};var X=t.tooltip.lighten?d:c;g.lighten={},g.bar=!1;for(var A=0;A<t.ids.length;A++){var C=t.ids[A],M=t.charts[C];g.lighten[C]=X?X(M.color.hex):d(M.color.hex),g.bar=g.bar||"bar"===M.type}}(g.mode&u.FORCE||v.window.offset!==t.window.offset||v.window.width!==t.window.width)&&(g.mode|=u.XBOUNDS|u.CHART|u.TEXT,v.window.offset=t.window.offset,v.window.width=t.window.width,h.start=0|t.window.offset,h.range=0|t.window.width,g.bar?(h.scaleX=h.width/(h.range+t.window.width-h.range),h.offsetX=-h.scaleX*(t.window.offset-h.start)+h.scaleX/2):(h.scaleX=h.width/(h.range-1+t.window.width-h.range),h.offsetX=-h.scaleX*(t.window.offset-h.start))),(g.mode&(u.FORCE|u.XBOUNDS)||v.tooltip.index!==t.tooltip.index)&&(g.mode|=u.CHART,v.tooltip.index=t.tooltip.index,null!==t.tooltip.index?(w.indexD=Math.min(h.start+t.tooltip.indexD,t.x.values.length-1),w.xD=h.x+(w.indexD-h.start)*h.scaleX+h.offsetX,w.x=h.x+t.tooltip.index*h.scaleX+h.offsetX):(w.xD=null,w.indexD=null,w.x=null));for(var D=0;D<t.ids.length;D++){var T=t.ids[D];T in v.charts||(v.charts[T]={color:{}});var Y=t.charts[T].color,L=v.charts[T].color;L.hex===Y.hex&&L.alpha===Y.alpha||(L.hex=Y.hex,L.alpha=Y.alpha,g.mode|=u.CHART)}s(t,f,g,u),l(t,f,g,u)}}}},function(t,e){t.exports=function(t,e,n,i){var a=n.chart,r=n.text;if(n.mode&(i.FORCE|i.XBOUNDS)){n.mode|=i.TEXT;var o=a.range/r.steps,l=Math.log2(o/r.minstep),s=0|l;r.fraction=l%1,r.power!==s&&(r.power=0|s,r.step=Math.pow(2,Math.floor(r.power))*Math.ceil(r.minstep),r.doublestep=Math.ceil(2*r.step));var d=Math.ceil(a.start/r.step)*r.step-r.step;r.start=Math.max(d,r.step)-r.padding,r.last=Math.min(a.start+a.range+1,t.x.values.length)}if(n.mode&(i.TEXT|i.FORCE)){e.clearRect(r.region.x,r.region.y,r.region.width,r.region.height);var c=t.axis.x.color.alpha;e.font=r.font,e.fillStyle=t.axis.x.color.hex,e.globalAlpha=c,e.textBaseline="top",e.textAlign="center";for(var u=-r.padding;u<r.last;u+=r.doublestep)if(!(u<r.start)){var f=u-a.start;e.fillText(n.formatX(t.x.values[u],"short"),f*a.scaleX+a.offsetX,r.y)}e.globalAlpha=c*(1-r.fraction);for(var h=r.step-r.padding;h<r.last;h+=r.doublestep)if(!(h<r.start)){var m=h-a.start;e.fillText(n.formatX(t.x.values[h],"short"),m*a.scaleX+a.offsetX,r.y)}}}},function(t,e,n){var i=n(3),a=i.drawHorizontalLines,r=i.drawYText,o=i.drawVerticalLine,l=i.drawPoint,s=i.drawArea,d=i.drawLine,c=i.drawBar;t.exports=function(t,e,n,i){var u=n.previousState,f=n.chart,h=n.grid,m=n.tooltip;if(t.y_scaled?(u.y0.matrix||(u.y0.matrix=[[-1,-1],[-1,-1]]),(n.mode&i.FORCE||u.y0.matrix[0][0]!==t.y0.matrix[0][0]||u.y0.matrix[0][1]!==t.y0.matrix[0][1])&&(n.mode|=i.CHART,u.y0.matrix[0][0]=t.y0.matrix[0][0],u.y0.matrix[0][1]=t.y0.matrix[0][1],f.scaleY0=-f.height/t.y0.matrix[0][1],f.offsetY0=f.height-t.y0.matrix[0][0]*f.scaleY0),(n.mode&i.FORCE||u.y0.matrix[1][0]!==t.y0.matrix[1][0]||u.y0.matrix[1][1]!==t.y0.matrix[1][1])&&(n.mode|=i.CHART,u.y0.matrix[1][0]=t.y0.matrix[1][0],u.y0.matrix[1][1]=t.y0.matrix[1][1],f.scaleY1=-f.height/t.y0.matrix[1][1],f.offsetY1=f.height-t.y0.matrix[1][0]*f.scaleY1)):(u.y0.matrix||(u.y0.matrix=[-1,-1]),(n.mode&i.FORCE||u.y0.matrix[0]!==t.y0.matrix[0]||u.y0.matrix[1]!==t.y0.matrix[1])&&(n.mode|=i.CHART,u.y0.matrix[0]=t.y0.matrix[0],u.y0.matrix[1]=t.y0.matrix[1],f.scaleY=-f.height/t.y0.matrix[1],f.offsetY=f.height-t.y0.matrix[0]*f.scaleY)),n.mode&(i.CHART|i.FORCE)){e.clearRect(f.region.x,f.region.y,f.region.width,f.region.height),n.first=!0,e.lineJoin="bevel",e.lineCap="butt",e.lineWidth=f.lineWidth;for(var p=0;p<t.ids.length;p++){var w=t.ids[p],v=t.charts[w];0!==v.color.alpha&&(t.y_scaled&&p>1||(t.y_scaled&&(f.scaleY=f["scaleY".concat(p)],f.offsetY=f["offsetY".concat(p)]),e.globalAlpha=v.color.alpha,e.strokeStyle=v.color.hex,e.fillStyle=v.color.hex,"line"===v.type&&d(e,v.values,f,"line"===v.type,n),"area"===v.type&&s(e,v.values,f,n,v.alpha),"bar"===v.type&&c(e,v.values,f,n,n.lighten[w]),n.first=!1))}if(e.lineWidth=h.lineWidth,e.globalAlpha=t.grid.color.alpha,e.strokeStyle=t.grid.color.hex,a(e,t.grid.lines,f),null!==m.x&&!n.bar){e.lineWidth=m.lineWidth,e.globalAlpha=t.tooltip.color.alpha,e.strokeStyle=t.tooltip.color.hex,o(e,m.x,f),e.lineWidth=f.lineWidth;for(var g=0;g<t.ids.length;g++){var x=t.ids[g],y=t.charts[x];if(0!==y.color.alpha&&("area"!==y.type&&!(t.y_scaled&&g>1))){t.y_scaled&&(f.scaleY=f["scaleY".concat(g)],f.offsetY=f["offsetY".concat(g)]),e.globalAlpha=y.color.alpha,e.strokeStyle=y.color.hex;var b=f.y+y.values[m.indexD]*f.scaleY+f.offsetY;l(e,m.xD,b,m.radius,f.lineWidth)}}}if(e.font=h.font,e.textBaseline="bottom",t.y_scaled){var k=t.charts[t.ids[0]].color;e.fillStyle=k.hex,e.globalAlpha=k.alpha,e.textAlign="start",f.scaleY=f.scaleY0,f.offsetY=f.offsetY0,r(e,t.y0.matrix[0],0,f,n.formatY);var E=t.charts[t.ids[1]].color;e.fillStyle=E.hex,e.globalAlpha=E.alpha,e.textAlign="end",f.scaleY=f.scaleY1,f.offsetY=f.offsetY1,r(e,t.y0.matrix[1],f.width,f,n.formatY)}else e.fillStyle=t.axis.y.color.hex,e.globalAlpha=t.axis.y.color.alpha,e.textAlign="start",r(e,t.y0.matrix,0,f,n.formatY)}}},function(t,e,n){var i=n(0).resize,a=n(13).drawTrack,r=n(3),o=r.drawLine,l=r.drawBar,s=r.drawArea;t.exports=function(t){var e=document.createElement("canvas");e.className="tc-preview";var n=e.getContext("2d"),r={},d={},c={charts:{},y:{},window:{}},u={tooltip:{},chart:r,track:d,state:c},f={};return{element:e,render:function(h){var m=h;if(u.sum=t.y.sum,u.matrix=t.y.matrix,h){i(e);var p=e.getBoundingClientRect();f.left=p.left+window.pageXOffset,f.top=p.top+window.pageYOffset,f.right=p.right+window.pageXOffset,f.bottom=p.bottom+window.pageYOffset;var w=window.devicePixelRatio;u.stacked=t.stacked,u.percentage=t.percentage,t.stacked&&(u.stack=new Array(t.x.values.length)),d.padding=1*w,d.borderRadius=5*w,d.width=(t.window.tracker.width||10)*w,d.height=e.height,r.lineWidth=t.y.lineWidth*w,r.width=e.width,r.height=e.height-2*d.padding,r.x=0,r.y=d.padding,r.region={x:0,y:0,width:e.width,height:e.height},r.start=0,r.range=t.x.values.length-1,r.scaleX=e.width/r.range,r.offsetX=0,r.limit={}}for(var v=0;v<t.ids.length;v++){var g=t.ids[v];g in c.charts||(c.charts[g]={color:{}});var x=t.charts[g].color,y=c.charts[g].color;y.hex===x.hex&&y.alpha===x.alpha||(y.hex=x.hex,y.alpha=x.alpha,m=!0)}if((h||c.window.offset!==t.window.offset||c.window.width!==t.window.width)&&(c.window.offset=t.window.offset,c.window.width=t.window.width,d.left=t.window.offset*r.scaleX+d.width,d.right=(t.window.offset+t.window.width-1)*r.scaleX-d.width,m=!0),t.y_scaled?(c.y.matrix||(c.y.matrix=[[-1,-1],[-1,-1]]),(h||c.y.matrix[0][0]!==t.y.matrix[0][0]||c.y.matrix[0][1]!==t.y.matrix[0][1])&&(c.y.matrix[0][0]=t.y.matrix[0][0],c.y.matrix[0][1]=t.y.matrix[0][1],r.scaleY0=-r.height/t.y.matrix[0][1],r.offsetY0=r.height-t.y.matrix[0][0]*r.scaleY0,m=!0),(h||c.y.matrix[1][0]!==t.y.matrix[1][0]||c.y.matrix[1][1]!==t.y.matrix[1][1])&&(c.y.matrix[1][0]=t.y.matrix[1][0],c.y.matrix[1][1]=t.y.matrix[1][1],r.scaleY1=-r.height/t.y.matrix[1][1],r.offsetY1=r.height-t.y.matrix[1][0]*r.scaleY1,m=!0)):(c.y.matrix||(c.y.matrix=[-1,-1]),(h||c.y.matrix[0]!==t.y.matrix[0]||c.y.matrix[1]!==t.y.matrix[1])&&(c.y.matrix[0]=t.y.matrix[0],c.y.matrix[1]=t.y.matrix[1],r.scaleY=-r.height/t.y.matrix[1],r.offsetY=r.height-t.y.matrix[0]*r.scaleY,m=!0)),m){n.clearRect(r.region.x,r.region.y,r.region.width,r.region.height),u.first=!0,n.lineJoin="bevel",n.lineCap="butt",n.lineWidth=r.lineWidth;for(var b=0;b<t.ids.length;b++){var k=t.ids[b],E=t.charts[k];0!==E.color.alpha&&(t.y_scaled&&b>1||(t.y_scaled&&(r.scaleY=r["scaleY".concat(b)],r.offsetY=r["offsetY".concat(b)]),n.globalAlpha=E.color.alpha,n.strokeStyle=E.color.hex,n.fillStyle=E.color.hex,"line"===E.type&&o(n,E.values,r,"line"===E.type,u),"bar"===E.type&&l(n,E.values,r,u),"area"===E.type&&s(n,E.values,r,u),u.first=!1))}n.globalAlpha=t.window.mask.color.alpha,n.fillStyle=t.window.mask.color.hex,n.fillRect(r.x,r.y,d.left,r.height),d.right!==r.region.width&&n.fillRect(d.right,r.y,r.width-d.right,r.height),n.globalAlpha=t.window.tracker.color.alpha,n.fillStyle=t.window.tracker.color.hex,a(n,d.left,d.width,d.height,d.borderRadius,1),a(n,d.right,-d.width,d.height,d.borderRadius,-1),n.fillRect(d.left,0,d.right-d.left,d.padding),n.fillRect(d.left,r.region.height-d.padding,d.right-d.left,d.padding)}},register:function(t){return t({id:"preview",element:e,bounds:f})}}}},function(t,e){t.exports.drawTrack=function(t,e,n,i,a,r){t.beginPath(),t.moveTo(e-n+a*r,0),t.arcTo(e-n,0,e-n,a,a),t.lineTo(e-n,i-a),t.arcTo(e-n,i,e-n+a*r,i,a),t.lineTo(e,i),t.lineTo(e,0),t.fill()}},function(t,e){t.exports=function(t){if(t.ids.length<2)return{element:null,render:function(){},register:function(){}};var e=document.createElement("div");e.className="tc-controls";var n=t.ids.map(function(n){var i=function(t){var e=document.createElement("div");e.className="tc-checkbox",e.style.backgroundColor=t.color.hex;var n=document.createElement("div");return n.appendChild(e),n.appendChild(document.createTextNode(t.name)),n.className="tc-control tc-checked",{id:t.id,element:n}}(t.charts[n]);return e.appendChild(i.element),i});return{element:e,render:function(){},register:function(t){return t({element:e,controls:n})}}}},function(t,e,n){var i=n(0),a=i.formatDate,r=i.bound;t.exports=function(t,e){var n=document.createElement("div");n.className="tc-tooltip tc-tooltip--hidden";var i=document.createElement("div");i.className="tc-tooltip__value";var o=document.createElement("div");o.className="tc-tooltip__name";var l=document.createElement("div");l.className="tc-tooltip__arrow",i.appendChild(o),i.appendChild(l);var s=document.createElement("div");s.className="tc-tooltip__wrapper";var d=t.ids.map(function(e){var n=function(t){var e=document.createElement("div");e.className="tc-tooltip__value";var n=document.createElement("span"),i=document.createElement("span");i.style.color=t.color.hex,e.appendChild(n.appendChild(document.createTextNode(t.name))),e.appendChild(i);var a={};return{id:t.id,element:e,render:function(n,r){(n||a.disabled!==t.disabled)&&(a.disabled=t.disabled,t.disabled?e.classList.add("tc-tooltip__value--hidden"):e.classList.remove("tc-tooltip__value--hidden")),(n||a.index!==r)&&(a.index=r,null!=r&&(i.textContent=t.values[r]))}}}(t.charts[e]);return s.appendChild(n.element),n}),c=function(t){var e=document.createElement("div");e.className="tc-tooltip__value tc-tooltip__value--hidden";var n=document.createElement("span"),i=document.createElement("span");e.appendChild(n.appendChild(document.createTextNode("All"))),e.appendChild(i);var a={};return{element:e,render:function(n,r){(n||a.stacked!==t.stacked)&&(a.stacked=t.stacked,t.stacked?e.classList.remove("tc-tooltip__value--hidden"):e.classList.add("tc-tooltip__value--hidden")),t.stacked&&(n||a.index!==r)&&(a.index=r,r&&(i.textContent=t.y.sum[r]))}}}(t);s.appendChild(c.element),n.appendChild(i),n.appendChild(s);var u={tooltip:{}},f={};return{element:n,register:function(t){return t({id:"tooltip",element:n})},render:function(i){i&&(f.formatX=e&&e.formatX||a);var l=t.tooltip.indexD||0===t.tooltip.indexD;if((i||f.visible!==l)&&(f.visible=l,l?n.classList.remove("tc-tooltip--hidden"):n.classList.add("tc-tooltip--hidden")),(i||u.tooltip.indexD!==t.tooltip.indexD)&&(u.tooltip.indexD=t.tooltip.indexD,l)){n.style.transform="translateX(".concat(t.tooltip.indexX-20,"px)");var s=null!=t.window.offsetD?t.window.offsetD:0|t.window.offset,h=r(s+t.tooltip.indexD,0,t.x.values.length-1);o.textContent=f.formatX(t.x.values[h],"full"),d.forEach(function(t){return t.render(i,h)}),c.render(i,h)}}}}},function(t,e,n){var i=n(0).formatDate;t.exports=function(t,e){var n=document.createElement("div");n.className="tc-range";var a=document.createElement("div"),r=document.createElement("div");n.appendChild(a),n.appendChild(document.createTextNode(" - ")),n.appendChild(r);var o={window:{}},l={};return{element:n,render:function(n){var s=void 0===t.window.offsetD?0|t.window.offset:t.window.offsetD,d=void 0===t.window.widthD?0|t.window.width:t.window.widthD;n&&(l.formatX=e&&e.formatX||i),(n||o.window.widthD!==d||o.window.offsetD!==s)&&(o.window.widthD=d,o.window.offsetD=s,a.textContent=l.formatX(t.x.values[s],"date"),r.textContent=l.formatX(t.x.values[s+d-1],"date"))},register:function(){}}}},function(t,e,n){var i=n(18).createToggleAnimation,a=function(t){return t.ids.reduce(function(e,n){return e+(t.charts[n].disabled?0:1)},0)};t.exports=function(t,e,n){return function(r){var o=null,l=null,s=function(s){clearTimeout(l),l=setTimeout(function(){!function(l){e.cancelAnimation(o);var s=t.charts[l.id],d=a(t);!s.disabled&&d<2?(t.ids.forEach(function(e){t.charts[e].disabled=!1}),r.controls.forEach(function(t){t.element.classList.add("tc-checked")}),o=e.registerAnimation(i(t,n,!0))):(t.ids.forEach(function(e){t.charts[e].disabled=e!==l.id}),r.controls.forEach(function(t){t!==l?t.element.classList.remove("tc-checked"):t.element.classList.add("tc-checked")}),o=e.registerAnimation(i(t,n)))}(s),l=null},1e3)},d=function(r){var s,d,c;l&&(clearTimeout(l),s=r,d=t.charts[s.id],c=a(t),!d.disabled&&c<2?s.element.classList.add("apply-shake"):(e.cancelAnimation(o),d.disabled=!d.disabled,d.disabled?(s.element.classList.remove("tc-checked"),o=e.registerAnimation(i(t,n))):(s.element.classList.add("tc-checked"),o=e.registerAnimation(i(t,n)))))};r.controls.forEach(function(t){t.element.addEventListener("animationend",function(){t.element.classList.remove("apply-shake")}),t.element.addEventListener("touchstart",function(){s(t)},e.passive),t.element.addEventListener("touchend",function(e){e.preventDefault(),d(t)}),t.element.addEventListener("touchcancel",function(e){e.preventDefault(),d(t)}),t.element.addEventListener("mousedown",function(){s(t)},e.passive),t.element.addEventListener("mouseup",function(){d(t)},e.passive)})}}},function(t,e,n){var i=n(2),a=i.animate,r=i.easeInOutQuad,o=n(0),l=o.findMatrix,s=o.findSum,d=n(1);t.exports.createToggleAnimation=function(t,e){var n=[];t.stacked&&(n=s(t),t.percentage||(t.y.mmtree=d.create(n)));var i=l(t,0,t.x.values.length),o=l(t,t.window.offset,t.window.offset+t.window.width),c=t.ids.reduce(function(e,n){return e[n]=t.charts[n].color.alpha,e},{}),u=t.ids.reduce(function(e,n){return e[n]=t.charts[n].disabled?0:1,e},{});return{draw:e,update:a({sum:t.y.sum||[],alpha:c,y:t.y.matrix,y0:t.y0.matrix},{sum:n,alpha:u,y:i,y0:o},function(e){for(var n=0;n<t.ids.length;n++){var i=t.ids[n];t.charts[i].color.alpha=e.alpha[i]}t.y.matrix=e.y,t.y0.matrix=e.y0,t.stacked&&(t.y.sum=e.sum)},{duration:500,easing:r})}}},function(t,e,n){var i=n(20).createTooltipAnimation;t.exports=function(t,e,n){return function(a){var r=null,o=null,l=function(a,l){if(!o&&!Number.isNaN(a)){var s=t.window.widthD||0===t.window.widthD?t.window.widthD:0|t.window.width;o={offsetX:a,step:s/l,done:!1},e.cancelAnimation(r),r=e.registerAnimation(i(t,o,n))}},s=function(){o&&(o.done=!0,o=null)},d=function(t){o&&(o.offsetX=t)};e.addEventListener("mousemove",function(t){if(t.target===a.canvas){var e=t.pageX-a.bounds.left;o?d(e):l(e,a.bounds.right-a.bounds.left)}}),e.addEventListener("touchstart",function(t){if(t.target!==a.canvas)s();else{var e=t.targetTouches[0].pageX-a.bounds.left;o?d(e):l(e,a.bounds.right-a.bounds.left)}}),a.element.addEventListener("mouseenter",function(t){t.target===a.canvas&&l(t.pageX-a.bounds.left,a.bounds.right-a.bounds.left)},e.passive),a.element.addEventListener("mouseleave",function(t){s()},e.passive)}}},function(t,e,n){var i=n(2).animate;t.exports.createTooltipAnimation=function(t,e,n){var a=t.tooltip.indexD,r=null;return{draw:n,update:function(n){if(e.done)return t.tooltip.index=null,t.tooltip.indexD=null,!1;r&&(r(n)||(r=null));var o=Math.max(Math.floor(e.offsetX*e.step),0);if(o!==a){var l=Math.round(o/e.step);null!==t.tooltip.index?r=i(t.tooltip.index,o,function(e){t.tooltip.index=e,t.tooltip.indexD=o,t.tooltip.indexX=l},{start:n,duration:150}):(t.tooltip.index=o,t.tooltip.indexD=o,t.tooltip.indexX=l),a=o}return!0}}}},function(t,e,n){var i=n(0).bound,a=n(22),r=a.createScrollAnimation,o=a.createInspectAnimation,l=function(t,e,n,i){var a=n/(t.x.values.length-1),r=t.window.tracker.width*(i?3:1),o=t.window.offset*a-(i?t.window.tracker.width:0),l=(t.window.offset+t.window.width-1)*a+(i?t.window.tracker.width:0);return e<o||e>l?"scroll":e>o+r&&e<l-r?"drag":e>=o&&e<=o+r?"resize-left":"resize-right"};t.exports=function(t,e,n){return function(a){var s=null,d=null,c=function(i,a,o){s||(s={type:l(t,i,o,e.mobile),initialPageX:a,step:t.x.values.length/o,pageX:a,done:!1},e.cancelAnimation(d),d=e.registerAnimation(r(t,s,n)))},u=function(t){null!==s&&(s.pageX=t)},f=function(){s&&(s.done=!0,s=null)};a.element.addEventListener("mousedown",function(t){t.preventDefault(),c(t.pageX-a.bounds.left,t.pageX,a.bounds.right-a.bounds.left)},!1),a.element.addEventListener("touchstart",function(t){t.preventDefault();var e=t.targetTouches[0].pageX;c(e-a.bounds.left,e,a.bounds.right-a.bounds.left)},!1),a.element.addEventListener("dblclick",function(r){var s,c,u,f,h;r.preventDefault(),s=r.pageX-a.bounds.left,c=a.bounds.right-a.bounds.left,f=c/t.x.values.length,h=l(t,s,c),u="resize-left"===h?{offset:0,width:t.window.offset+t.window.width}:"resize-right"===h?{offset:t.window.offset,width:t.x.values.length-t.window.offset}:{offset:i(Math.round(s/f-t.window.minwidth/2),0,t.x.values.length-t.window.minwidth),width:t.window.minwidth},e.cancelAnimation(d),d=e.registerAnimation(o(t,u,n))},!1),a.element.addEventListener("touchstart",function(t){t.preventDefault();var e=t.targetTouches[0].pageX;c(e-a.bounds.left,e,a.bounds.right-a.bounds.left)},!1),e.addEventListener("mousemove",function(t){s&&u(t.pageX)}),e.addEventListener("touchmove",function(t){s&&u(t.targetTouches[0].pageX)}),e.addEventListener("mouseup",f),e.addEventListener("touchcancel",f),e.addEventListener("touchend",f)}}},function(t,e,n){var i=n(2),a=i.animate,r=i.easeOutCubic,o=n(0),l=o.findMatrix,s=o.bound,d=function(t,e,n,i){var o=l(t,e,e+n);return a({offset:t.window.offset,width:t.window.width,y0:t.y0.matrix},{offset:e,width:n,y0:o},function(i){t.window.offset=i.offset,t.window.offsetD=e,t.window.width=i.width,t.window.widthD=n,t.y0.matrix=i.y0},{start:i,duration:300,easing:r})};t.exports.createScrollAnimation=function(t,e,n){var i={shift:0},a={offset:t.window.offset,width:t.window.width},r=null;return{draw:n,update:function(n){r&&(r(n)||(r=null));var o=Math.ceil((e.pageX-e.initialPageX)*e.step);return o!==i.shift&&("drag"===e.type?r=function(t,e,n,i){var a=s(e.offset+n,0,t.x.values.length-t.window.width);return d(t,a,e.width,i)}(t,a,o,n):"resize-left"===e.type?r=function(t,e,n,i){var a=s(e.width-n,t.window.minwidth,t.x.values.length),r=s(e.offset+n,0,t.x.values.length-a);return d(t,r,a,i)}(t,a,o,n):"resize-right"===e.type&&(r=function(t,e,n,i){var a=e.width+n,r=s(a,t.window.minwidth,t.x.values.length),o=s(e.offset+a-r,0,t.x.values.length-r);return d(t,o,r,i)}(t,a,o,n)),i.shift=o),null!==r||!e.done}}},t.exports.createInspectAnimation=function(t,e,n){var i=l(t,e.offset,e.offset+e.width);return{draw:n,update:a({offset:t.window.offset,width:t.window.width,y0:t.y0.matrix},{offset:e.offset,width:e.width,y0:i},function(n){t.window.offset=n.offset,t.window.offsetD=e.offset,t.window.width=n.width,t.window.widthD=e.width,t.y0.matrix=n.y0},{duration:500,easing:r})}}},function(t,e,n){n(0).bound;t.exports=function(t,e,n,i){return function(e){e.element.addEventListener("click",function(){t.zoomIn})}}}])});