!function(n,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.telechart=t():n.telechart=t()}(this,function(){return function(n){var t={};function e(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return n[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}return e.m=n,e.c=t,e.d=function(n,t,r){e.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:r})},e.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},e.t=function(n,t){if(1&t&&(n=e(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.__esModule)return n;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var o in n)e.d(r,o,function(t){return n[t]}.bind(null,o));return r},e.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(t,"a",t),t},e.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},e.p="",e(e.s=5)}([function(n,t){var e=function(n,t,e){var r=n.createShader(e);if(n.shaderSource(r,t),n.compileShader(r),!n.getShaderParameter(r,n.COMPILE_STATUS))throw new Error("could not compile shader: ".concat(n.getShaderInfoLog(r)));return r},r=function(n,t,e,r){return e===n.ACTIVE_ATTRIBUTES?n.getActiveAttrib(t,r):n.getActiveUniform(t,r)},o=function(n,t,e,r){return e===n.ACTIVE_ATTRIBUTES?n.getAttribLocation(t,r):n.getUniformLocation(t,r)},i=function(n,t,e){for(var i,a={},c=n.getProgramParameter(t,e),u=0;u<c;++u){var f=r(n,t,e,u);if(!f)break;a[(i=f.name,"[0]"===i.substr(-3)?i.substr(0,i.length-3):i)]=o(n,t,e,f.name)}return a};n.exports.compileShader=e,n.exports.createProgram=function(n,t){var r=e(n,t.VSHADER_SOURCE,n.VERTEX_SHADER),o=e(n,t.FSHADER_SOURCE,n.FRAGMENT_SHADER),a=n.createProgram();if(n.attachShader(a,r),n.attachShader(a,o),n.linkProgram(a),!n.getProgramParameter(a,n.LINK_STATUS))throw new Error("program filed to link: ".concat(n.getProgramInfoLog(a)));return{program:a,uniforms:i(n,a,n.ACTIVE_UNIFORMS),attributes:i(n,a,n.ACTIVE_ATTRIBUTES)}},n.exports.createAttributeInfo=function(n,t,e,r,o){var i=n.createBuffer();return n.bindBuffer(n.ARRAY_BUFFER,i),n.bufferData(n.ARRAY_BUFFER,t,o||n.STATIC_DRAW),{buffer:i,size:e||1,type:r||n.FLOAT,stride:0,offset:0}},n.exports.setUniforms=function(n,t,e){Object.keys(t).forEach(function(r){var o=e[r],i="function"==typeof o?o():o,a=t[r];n["uniform".concat(i[0])].apply(n,[a].concat(i[1]))})},n.exports.setAttributes=function(n,t,e){Object.keys(t).forEach(function(r){var o=e[r],i="function"==typeof o?o():o,a=t[r];n.bindBuffer(n.ARRAY_BUFFER,i.buffer),n.enableVertexAttribArray(a),n.vertexAttribPointer(a,i.size,i.type,!1,i.stride,i.offset)})}},function(n,t){var e=[1,1.5,2,2.5,5,7.5,10],r=function(n,t,e,r){var o=(t-n)/(e-1),i=Math.pow(10,-Math.floor(Math.log10(Math.abs(o)))),a=o*i,c=+(r.find(function(n){return n>=a})/i).toPrecision(5);return{min:Math.floor(n/c)*c,max:Math.ceil(t/c)*c,step:c,count:e}},o=function(n,t,e,r){for(var o=[],a=0;a<r;a++){var c=n+e*a;o.push({value:c,point:i(c,t,n,0,1)})}return o},i=function(n,t,e,r,o){return((n-e)/(t-e)-r)/o};n.exports.colorToRgba=function(n,t){if(n.indexOf("rgba")>=0)return n.replace("rgba(","").split(",").map(function(n){return parseInt(n,10)/255});var e=n.substring(1),r=parseInt(e,16);return t||0===t||(t=1),[(r>>16)/255,(r>>8&255)/255,(255&r)/255,t]},n.exports.minmax=function(n,t,i){var a=function n(t,e,r){return t.length?t[0].length?Math.min.apply(null,t.map(function(t){return n(t,e,r)})):Math.min.apply(null,t.slice(e||0,r||t.length)):t}(n,t,i),c=function n(t,e,r){return t.length?t[0].length?Math.max.apply(null,t.map(function(t){return n(t,e,r)})):Math.max.apply(null,t.slice(e||0,r||t.length)):t}(n,t,i),u=r(a,c,7,e);return{min:a,max:c,scale:u,steps:o(u.min,u.max,u.step,7)}},n.exports.translate=i,n.exports.expandRectangle=function(n,t,e,r){return[n,t,e,e,r,n]},n.exports.expandCircle=function(n){for(var t=[0],e=[0],r=0;r<=n;r++)t.push(Math.cos(2*r*Math.PI/n)),e.push(Math.sin(2*r*Math.PI/n));return{x:t,y:e}},n.exports.closest=function(n,t){return Math.max(Math.min(Math.round((n.length-1)*t),n.length-1),0)},n.exports.ratio=function(n,t,e,r){return[n/e,t/r]},n.exports.bound=function(n,t,e){return Math.max(Math.min(n,e),t)},n.exports.resize=function(n){var t=window.devicePixelRatio,e=Math.floor(n.canvas.clientWidth*t),r=Math.floor(n.canvas.clientHeight*t);n.canvas.width===e&&n.canvas.height===r||(n.canvas.width=e,n.canvas.height=r)},n.exports.findScale=r,n.exports.expandSteps=o,n.exports.preferedXSteps=[1,2,3,5,7,10,11,14,15,30],n.exports.preferedYSteps=e},function(n,t){n.exports.VSHADER_SOURCE="\n  precision mediump float;\n\n  attribute float aX;\n  attribute float aY;\n\n  uniform vec2 uOffset;\n  uniform vec2 uScale;\n\n  void main() {\n    vec2 position = vec2(aX, aY) * uScale + uOffset;\n    vec2 clipSpace = (position * 2.0) - 1.0;\n    gl_Position = vec4(clipSpace, 0, 1);\n  }\n",n.exports.FSHADER_SOURCE="\n  precision mediump float;\n\n  uniform vec4 uColor;\n\n  void main() {\n    gl_FragColor = uColor;\n  }\n"},function(n,t,e){var r=e(0),o=r.setAttributes,i=r.setUniforms,a=e(1).resize;n.exports=function(n,t,e){return n.enable(n.BLEND),n.blendFunc(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA),function(){a(n),n.viewport(0,0,n.canvas.width,n.canvas.height),n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT);var r=null;e.forEach(function(e){e.skip()||(r!==e.programInfo.program&&(n.useProgram(e.programInfo.program),r=e.programInfo.program),o(n,e.programInfo.attributes,Object.assign({},t,e.attributesInfo)),i(n,e.programInfo.uniforms,e.uniformsInfo),e.draw())})}}},function(n,t,e){var r=e(0),o=e(13);n.exports.createProgram=function(n){return r.createProgram(n,o)},n.exports.createDrawingObject=function(n,t,e,o,i){return{programInfo:t[e.types[o]],attributesInfo:{aY:r.createAttributeInfo(n,e.columns[o])},uniformsInfo:{uMin:function(){return["2f",[e.minmax.x.min,"full"===i?e.minmax.y.scale.min:e.minmax.y0.scale.min]]},uMax:function(){return["2f",[e.minmax.x.max,"full"===i?e.minmax.y.scale.max:e.minmax.y0.scale.max]]},uView:function(){return["2f","full"===i?[0,1]:[e.window.offset,e.window.width]]},uColor:function(){return["4f",e.colorsRGBA[o]]}},skip:function(){return 0===e.colorsRGBA[o][3]},draw:function(){n.drawArrays(n.LINE_STRIP,0,e.columns.x.length)}}}},function(n,t,e){n.exports=e(6)},function(n,t,e){e(7);var r=e(8),o=e(9),i=o.createInitialState,a=o.createCurrentState,c=e(1),u=c.bound,f=c.closest,s=c.translate,l=e(10),m=l.createHideAnimation,d=l.createShowAnimation,p=l.createMinmaxAnimation,w=e(12),x=e(18),v=e(20),g=e(21),h=e(22);n.exports=function(n,t){var e=r(),o=i(t),c=a(o),l=w(c),y=x(c),A=v(c),b=g(c),E=h(c),S=function(){l.render(),E.render(),y.render()};return A.registerEvent(function(n){n.element.addEventListener("click",function(){c.toggles[n.id]=!c.toggles[n.id],c.toggles[n.id]?(n.element.classList.add("tc-checked"),e.registerAnimation(d(n.id,c,S))):(n.element.classList.remove("tc-checked"),e.registerAnimation(m(n.id,c,S)))})}),E.registerEvent(function(n){var t=null,r=function(n){c.tooltip.offsetX=n.offsetX;var r=n.offsetX/n.target.width*window.devicePixelRatio*1e5,o=c.window.width*r,i=c.window.offset+o/1e5,a=f(c.columns.x,i);c.tooltip.index!==a&&(c.tooltip.index=a,c.tooltip.x=s(c.columns.x[a],c.minmax.x.max,c.minmax.x.min,c.window.offset,c.window.width),c.tooltip.columns=c.ids.reduce(function(n,t){return n[t]=s(c.columns[t][a],c.minmax.y0.scale.max,c.minmax.y0.scale.min,0,1),n},c.tooltip.columns)),b.render(),t||(t=e.registerAnimation(function(){return l.render(),!0}))};n.element.addEventListener("mouseenter",r),n.element.addEventListener("mousemove",r),n.element.addEventListener("mouseleave",function(){c.tooltip.offsetX=null,t=e.cancelAnimation(t),e.registerAnimation(l.render),b.render()})}),y.registerEvent(function(n){var t=null,r=null,o=function(){t=e.cancelAnimation(t),r=null,e.registerAnimation(p(c,S))};n.element.addEventListener("mousedown",function(n){var i=n.offsetX/n.target.width*window.devicePixelRatio,a=function(n){return n<c.window.offset||n>c.window.offset+c.window.width?"default":n>c.window.offset+.02&&n<c.window.offset+c.window.width-.02?"grab":n<=c.window.offset+.02?"w-resize":"e-resize"}(i);"default"!==a?(r={type:a,offset:c.window.offset,width:c.window.width,initial:i},t=e.registerAnimation(function(){return S(),!0})):o()}),n.element.addEventListener("mousemove",function(n){if(r){var t=n.offsetX/n.target.width*window.devicePixelRatio-r.initial;"grab"===r.type&&(c.window.offset=u(r.offset+t,0,u(1-c.window.width,0,1))),"w-resize"===r.type&&(c.window.width=u(r.width-t,.2,u(1-r.offset-t,0,1)),c.window.offset=u(r.offset+t,0,u(1-c.window.width,0,1))),"e-resize"===r.type&&(c.window.width=u(r.width+t,.2,u(1-c.window.offset,0,1)))}}),n.element.addEventListener("mouseleave",o),n.element.addEventListener("mouseup",o)}),e.registerAnimation(l.render),e.registerAnimation(E.render),e.registerAnimation(y.render),function(n,t,e,r,o,i){var a=n;a.className="tc-wrapper";var c=document.createElement("div");c.className="tc-chart-wrapper",t&&c.appendChild(t),i&&c.appendChild(i),a.appendChild(c),r&&a.appendChild(r),e&&a.appendChild(e),o&&a.appendChild(o)}(n,l.element,A.element,y.element,b.element,E.element),c}},function(n,t,e){},function(n,t){var e=null;n.exports=function(){return e||(e={animations:[],registerAnimation:function(n){return e.animations.push(n),1===e.animations.length&&window.requestAnimationFrame(e.render),n},cancelAnimation:function(n){return e.animations=e.animations.filter(function(t){return t!==n}),null},render:function(n){e.animations=e.animations.filter(function(t){return t(n)}),e.animations.length&&window.requestAnimationFrame(e.render)}}),e}},function(n,t,e){var r=e(1),o=r.colorToRgba,i=r.minmax,a=r.closest;n.exports.createInitialState=function(n){var t=Object.keys(n.names);return{ids:t,names:n.names,types:n.types,colors:n.colors,colorsRGBA:t.reduce(function(t,e){return t[e]=o(n.colors[e]),t},{}),columns:n.columns.reduce(function(n,t){return n[t[0]]=new Float32Array(t.slice(1)),n},{})}},n.exports.createCurrentState=function(n){var t=n.columns[n.ids[0]];return Object.assign({},n,{initial:n,toggles:n.ids.reduce(function(n,t){return n[t]=!0,n},{}),colorsRGBA:n.ids.reduce(function(t,e){return t[e]=n.colorsRGBA[e].slice(0),t},{}),minmax:{x:i(n.columns.x),y:i(n.ids.map(function(t){return n.columns[t]})),y0:i(n.ids.map(function(t){return n.columns[t]}),a(t,.7),a(t,1)+1)},window:{offset:.7,width:.3,colorsRGBA:{background:o("#000",.35),control:o("#000",.5)}},tooltip:{offsetX:null,columns:{}}})}},function(n,t,e){var r=e(11).animate,o=e(1),i=o.minmax,a=o.closest;n.exports.createMinmaxAnimation=function(n,t){var e={y:i(n.ids.filter(function(t){return n.toggles[t]}).map(function(t){return n.columns[t]})),y0:i(n.ids.filter(function(t){return n.toggles[t]}).map(function(t){return n.columns[t]}),a(n.columns.x,n.window.offset),a(n.columns.x,n.window.offset+n.window.width))};return r({y:n.minmax.y,y0:n.minmax.y0},e,function(r){r.y0.steps.forEach(function(n,t){n.value=e.y0.steps[t].value}),n.minmax.y=r.y,n.minmax.y0=r.y0,t()})},n.exports.createHideAnimation=function(n,t,e){var o={color:t.colorsRGBA[n].slice(0,3).concat([0]),y:i(t.ids.filter(function(n){return t.toggles[n]}).map(function(n){return t.columns[n]})),y0:i(t.ids.filter(function(n){return t.toggles[n]}).map(function(n){return t.columns[n]}),a(t.columns.x,t.window.offset),a(t.columns.x,t.window.offset+t.window.width))};return r({color:t.colorsRGBA[n],y:t.minmax.y,y0:t.minmax.y0},o,function(r){r.y0.steps.forEach(function(n,t){n.value=o.y0.steps[t].value}),t.colorsRGBA[n]=r.color,t.minmax.y=r.y,t.minmax.y0=r.y0,e()})},n.exports.createShowAnimation=function(n,t,e){var o={color:t.initial.colorsRGBA[n],y:i(t.ids.filter(function(n){return t.toggles[n]}).map(function(n){return t.columns[n]})),y0:i(t.ids.filter(function(n){return t.toggles[n]}).map(function(n){return t.columns[n]}),a(t.columns.x,t.window.offset),a(t.columns.x,t.window.offset+t.window.width))};return r({color:t.colorsRGBA[n],y:t.minmax.y,y0:t.minmax.y0},o,function(r){r.y0.steps.forEach(function(n,t){n.value=o.y0.steps[t].value}),t.colorsRGBA[n]=r.color,t.minmax.y=r.y,t.minmax.y0=r.y0,e()})}},function(n,t){function e(n){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}var r=function(n){return n};n.exports.animate=function(n,t,o,i){var a=Object.assign({duration:300,start:null,easing:r},i);return function(r){if(!a.start)return a.start=r,!0;var i=r-a.start,c=Math.min(Math.max(a.easing(i/a.duration),0),1);return o(function n(t,r,o){return Array.isArray(t)?t.map(function(t,e){return n(t,r[e],o)}):"object"===e(t)?Object.keys(t).reduce(function(e,i){return e[i]=n(t[i],r[i],o),e},t):t+(r-t)*o}(n,t,c)),i<a.duration}},n.exports.linear=r},function(n,t,e){var r=e(0).createAttributeInfo,o=e(3),i=e(4),a=e(14),c=e(16),u=e(17);n.exports=function(n){var t=document.createElement("canvas");t.className="tc-chart";var e=t.getContext("webgl")||t.getContext("experimental-webgl");if(!e)throw new Error("webgl is not supported");var f={line:i.createProgram(e),vertical:a.createProgram(e),simple:u.createProgram(e)},s={aX:r(e,n.columns.x)},l=n.ids.map(function(t){return i.createDrawingObject(e,f,n,t)}),m=n.ids.map(function(t){return u.createDrawingObject(e,f,n,t)}),d=a.createDrawingObject(e,f,n),p=n.minmax.y.steps.map(function(t,r){return c.createDrawingObject(e,f,n,r)}),w=[d].concat(p).concat(l).concat(m),x=o(e,s,w);return{element:t,registerEvent:function(n){return n({id:"view",element:t})},render:x}}},function(n,t){n.exports.VSHADER_SOURCE="\n  precision mediump float;\n\n  attribute float aX;\n  attribute float aY;\n\n  uniform vec2 uMin;\n  uniform vec2 uMax;\n  uniform vec2 uView;\n\n  void main() {\n    vec2 shift = uMax - uMin;\n    vec2 position = (vec2(aX, aY) - uMin) / shift;\n    position.x = (position.x - uView.x) / uView.y;\n\n    vec2 clipSpace = (position * 2.0) - 1.0;\n\n    gl_Position = vec4(clipSpace, 0, 1);\n  }\n",n.exports.FSHADER_SOURCE="\n  precision mediump float;\n\n  uniform vec4 uColor;\n\n  void main() {\n    gl_FragColor = uColor;\n  }\n"},function(n,t,e){var r=e(0),o=e(15);n.exports.createProgram=function(n){return r.createProgram(n,o)},n.exports.createDrawingObject=function(n,t,e){return{programInfo:t.vertical,attributesInfo:{aY:r.createAttributeInfo(n,new Float32Array([0,1]))},uniformsInfo:{uWidth:function(){return["1f",n.canvas.width/window.devicePixelRatio]},uX:function(){return["1f",e.tooltip.offsetX]},uColor:function(){return["4f",[.5,.5,.5,.7]]}},skip:function(){return null===e.tooltip.offsetX},draw:function(){return n.drawArrays(n.LINE_STRIP,0,2)}}}},function(n,t){n.exports.VSHADER_SOURCE="\n  precision mediump float;\n\n  attribute float aY;\n  uniform float uX;\n  uniform float uWidth;\n\n  void main() {\n    vec2 position = vec2(uX / uWidth, aY);\n    vec2 clipSpace = (position * 2.0) - 1.0;\n    gl_Position = vec4(clipSpace, 0, 1);\n  }\n",n.exports.FSHADER_SOURCE="\n  precision mediump float;\n\n  uniform vec4 uColor;\n\n  void main() {\n    gl_FragColor = uColor;\n  }\n"},function(n,t,e){var r=e(0),o=e(2);n.exports.createProgram=function(n){return r.createProgram(n,o)},n.exports.createDrawingObject=function(n,t,e,o){return{programInfo:t.simple,attributesInfo:{aX:r.createAttributeInfo(n,new Float32Array([0,1])),aY:r.createAttributeInfo(n,new Float32Array([0,0]))},uniformsInfo:{uOffset:function(){return["2f",[0,e.minmax.y0.steps[o].point]]},uScale:function(){return["2f",[1,1]]},uColor:function(){return["4f",[.5,.5,.5,.7]]}},skip:function(){return e.minmax.y0.steps[o].point>.98},draw:function(){return n.drawArrays(n.LINES,0,2)}}}},function(n,t,e){var r=e(0),o=e(2),i=e(1),a=i.ratio,c=(0,i.expandCircle)(24);n.exports.createProgram=function(n){return r.createProgram(n,o)},n.exports.createDrawingObject=function(n,t,e,o){return{programInfo:t.simple,attributesInfo:{aX:r.createAttributeInfo(n,new Float32Array(c.x)),aY:r.createAttributeInfo(n,new Float32Array(c.y))},uniformsInfo:{uOffset:function(){return["2f",[e.tooltip.x,e.tooltip.columns[o]]]},uScale:function(){return["2f",a(10,10,n.canvas.width,n.canvas.height)]},uColor:function(){var n=e.colorsRGBA[o];return["4f",[n[0],n[1],n[2],.5]]}},skip:function(){return 0===e.colorsRGBA[o][3]||void 0===e.tooltip.columns[o]||null===e.tooltip.offsetX},draw:function(){return n.drawArrays(n.TRIANGLE_FAN,0,c.x.length)}}}},function(n,t,e){var r=e(0).createAttributeInfo,o=e(3),i=e(4),a=e(19);n.exports=function(n){var t=document.createElement("canvas");t.className="tc-preview";var e=t.getContext("webgl")||t.getContext("experimental-webgl");if(!e)throw new Error("webgl is not supported");var c={line:i.createProgram(e),simple:a.createProgram(e)},u={aX:r(e,n.columns.x)},f=n.ids.map(function(t){return i.createDrawingObject(e,c,n,t,"full")}),s=a.createDrawingObject(e,c,n),l=f.concat(s),m=o(e,u,l);return{element:t,render:m,registerEvent:function(n){return n({id:"preview",element:t})}}}},function(n,t,e){var r=e(0),o=e(1).expandRectangle,i=e(2),a=function(n,t,e,o,i){return{zindex:0,programInfo:t.simple,attributesInfo:{aY:r.createAttributeInfo(n,new Float32Array(o)),aX:function(){return r.createAttributeInfo(n,new Float32Array(i()))}},uniformsInfo:{uOffset:function(){return["2f",[0,0]]},uScale:function(){return["2f",[1,1]]},uColor:function(){return["4f",e.window.colorsRGBA.control]}},skip:function(){return!1},draw:function(){return n.drawArrays(n.TRIANGLES,0,6)}}},c=function(n,t,e,i){return{zindex:2,programInfo:t.simple,attributesInfo:{aY:r.createAttributeInfo(n,new Float32Array(o(0,1,1,0))),aX:function(){return r.createAttributeInfo(n,new Float32Array(i()))}},uniformsInfo:{uOffset:function(){return["2f",[0,0]]},uScale:function(){return["2f",[1,1]]},uColor:function(){return["4f",e.window.colorsRGBA.background]}},skip:function(){return!1},draw:function(){return n.drawArrays(n.TRIANGLES,0,6)}}};n.exports.createProgram=function(n){return r.createProgram(n,i)},n.exports.createDrawingObject=function(n,t,e){return[c(n,t,e,function(){return o(0,0,e.window.offset,e.window.offset)}),a(n,t,e,o(0,1,1,0),function(){return o(e.window.offset,e.window.offset,e.window.offset+.02,e.window.offset+.02)}),a(n,t,e,o(.95,1,1,.95),function(){return o(e.window.offset+.02,e.window.offset+.02,e.window.offset+e.window.width-.02,e.window.offset+e.window.width-.02)}),a(n,t,e,o(0,.05,.05,0),function(){return o(e.window.offset+.02,e.window.offset+.02,e.window.offset+e.window.width-.02,e.window.offset+e.window.width-.02)}),a(n,t,e,o(0,1,1,0),function(){return o(e.window.offset+e.window.width-.02,e.window.offset+e.window.width-.02,e.window.offset+e.window.width,e.window.offset+e.window.width)}),c(n,t,e,function(){return o(e.window.offset+e.window.width,e.window.offset+e.window.width,1,1)})]}},function(n,t){n.exports=function(n){var t=document.createElement("div");t.className="tc-controls";var e=Object.keys(n.names).map(function(e){var r=function(n,t){var e=t.colors[n],r=t.names[n],o=document.createElement("div");o.className="tc-checkbox",o.style.backgroundColor=e;var i=document.createElement("div");return i.appendChild(o),i.append(r),i.className="tc-control tc-checked",i}(e,n);return t.appendChild(r),{id:e,element:r}});return{element:t,registerEvent:function(n){e.forEach(function(t){return n(t)})}}}},function(n,t){n.exports=function(n){var t=document.createElement("div");t.className="tc-tooltip tc-tooltip--hidden";var e=document.createElement("div");e.className="tc-tooltip__name";var r=document.createElement("div");r.className="tc-tooltip__wrapper";var o=n.ids.map(function(t){return function(n,t){var e=document.createElement("span"),r=document.createElement("div");return r.className="tc-tooltip__value",r.style.color=t.colors[n],r.appendChild(e),r.append(t.names[n]),{id:n,element:r,render:function(o){t.toggles[n]?r.classList.remove("tc-tooltip__value--hidden"):r.classList.add("tc-tooltip__value--hidden"),t.tooltip.index!==o&&(e.innerText=t.columns[n][t.tooltip.index])}}}(t,n)});o.forEach(function(n){r.appendChild(n.element)}),t.appendChild(e),t.appendChild(r);var i=null;return{element:t,render:function(){null===n.tooltip.offsetX?t.classList.add("tc-tooltip--hidden"):t.classList.remove("tc-tooltip--hidden"),n.tooltip.index!==i&&(t.style.transform="translateX(".concat(n.tooltip.offsetX-10,"px)"),e.innerText=new Date(n.columns.x[n.tooltip.index]).toLocaleDateString()),o.forEach(function(n){return n.render(i)}),i=n.tooltip.index}}}},function(n,t,e){var r=e(1),o=r.resize,i=r.closest,a=r.translate,c=r.preferedXSteps,u=r.findScale;n.exports=function(n,t){var e=document.createElement("canvas");e.className="tc-grid";var r=e.getContext("2d");if(!r)throw new Error("2d context is not supported!");var f=Object.assign({fontSize:24,fontFamily:"Roboto, sans-serif",color:"#98A4AB"},t);return{element:e,render:function(){o(r),r.clearRect(0,0,r.canvas.width,r.canvas.height),r.font="".concat(f.fontSize,"px ").concat(f.fontFamily),r.fillStyle=f.color;var t=r.canvas.height-40;n.minmax.y0.steps.forEach(function(n){var e=t-t*n.point-4;r.fillText(n.value,0,e)});for(var e=i(n.columns.x,n.window.offset),s=i(n.columns.x,n.window.width+n.window.offset),l=i(n.columns.x,.03),m=i(n.columns.x,.97),d=u(e,s,6,c),p=Math.max(d.min,l);p<Math.min(d.max,m);p+=d.step){var w=n.columns.x[p],x=a(w,n.minmax.x.max,n.minmax.x.min,n.window.offset,n.window.width),v=new Date(w).toLocaleDateString("en-US",{day:"2-digit",month:"short"}),g=r.measureText(v),h=r.canvas.width*x-g.width/2;r.fillText(v,h,r.canvas.height)}},registerEvent:function(n){return n({id:"grid",element:e})}}}}])});