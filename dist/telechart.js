!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.telechart=n():t.telechart=n()}(this,function(){return function(t){var n={};function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var o in t)e.d(r,o,function(n){return t[n]}.bind(null,o));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=6)}([function(t,n){var e=[1,1.5,2,2.5,5,7.5,10],r=function(t,n,e,r){var o=(n-t)/(e-1),i=Math.pow(10,-Math.floor(Math.log10(Math.abs(o)))),a=o*i,c=+(r.find(function(t){return t>=a})/i).toPrecision(5);return{min:Math.floor(t/c)*c,max:Math.ceil(n/c)*c,step:c,count:e}},o=function(t,n,e,r){for(var o=[],a=0;a<r;a++){var c=t+e*a;o.push({value:c,point:i(c,n,t,0,1)})}return o},i=function(t,n,e,r,o){return((t-e)/(n-e)-r)/o};t.exports.colorToRgba=function(t,n){if(t.indexOf("rgba")>=0)return t.replace("rgba(","").split(",").map(function(t){return parseInt(t,10)/255});var e=t.substring(1),r=parseInt(e,16);return n||0===n||(n=1),[(r>>16)/255,(r>>8&255)/255,(255&r)/255,n]},t.exports.minmax=function(t,n,i){var a=function t(n,e,r){return n.length?n[0].length?Math.min.apply(null,n.map(function(n){return t(n,e,r)})):Math.min.apply(null,n.slice(e||0,r||n.length)):n}(t,n,i),c=function t(n,e,r){return n.length?n[0].length?Math.max.apply(null,n.map(function(n){return t(n,e,r)})):Math.max.apply(null,n.slice(e||0,r||n.length)):n}(t,n,i),u=r(a,c,7,e);return{min:a,max:c,scale:u,steps:o(u.min,u.max,u.step,7)}},t.exports.translate=i,t.exports.expandRectangle=function(t,n,e,r){return[t,n,e,e,r,t]},t.exports.expandCircle=function(t){for(var n=[0],e=[0],r=0;r<=t;r++)n.push(Math.cos(2*r*Math.PI/t)),e.push(Math.sin(2*r*Math.PI/t));return{x:n,y:e}},t.exports.closest=function(t,n){return Math.max(Math.min(Math.round((t.length-1)*n),t.length-1),0)},t.exports.ratio=function(t,n,e,r){return[t/e,n/r]},t.exports.bound=function(t,n,e){return Math.max(Math.min(t,e),n)},t.exports.resize=function(t){var n=window.devicePixelRatio,e=Math.floor(t.canvas.clientWidth*n),r=Math.floor(t.canvas.clientHeight*n);t.canvas.width===e&&t.canvas.height===r||(t.canvas.width=e,t.canvas.height=r)},t.exports.findScale=r,t.exports.expandSteps=o,t.exports.preferedXSteps=[1,2,3,5,7,10,11,14,15,30],t.exports.preferedYSteps=e},function(t,n){var e=function(t,n,e){var r=t.createShader(e);if(t.shaderSource(r,n),t.compileShader(r),!t.getShaderParameter(r,t.COMPILE_STATUS))throw new Error("could not compile shader: ".concat(t.getShaderInfoLog(r)));return r},r=function(t,n,e,r){return e===t.ACTIVE_ATTRIBUTES?t.getActiveAttrib(n,r):t.getActiveUniform(n,r)},o=function(t,n,e,r){return e===t.ACTIVE_ATTRIBUTES?t.getAttribLocation(n,r):t.getUniformLocation(n,r)},i=function(t,n,e){for(var i,a={},c=t.getProgramParameter(n,e),u=0;u<c;++u){var f=r(t,n,e,u);if(!f)break;a[(i=f.name,"[0]"===i.substr(-3)?i.substr(0,i.length-3):i)]=o(t,n,e,f.name)}return a};t.exports.compileShader=e,t.exports.createProgram=function(t,n){var r=e(t,n.VSHADER_SOURCE,t.VERTEX_SHADER),o=e(t,n.FSHADER_SOURCE,t.FRAGMENT_SHADER),a=t.createProgram();if(t.attachShader(a,r),t.attachShader(a,o),t.linkProgram(a),!t.getProgramParameter(a,t.LINK_STATUS))throw new Error("program filed to link: ".concat(t.getProgramInfoLog(a)));return{program:a,uniforms:i(t,a,t.ACTIVE_UNIFORMS),attributes:i(t,a,t.ACTIVE_ATTRIBUTES)}},t.exports.createAttributeInfo=function(t,n,e,r,o){var i=t.createBuffer();return t.bindBuffer(t.ARRAY_BUFFER,i),t.bufferData(t.ARRAY_BUFFER,n,o||t.STATIC_DRAW),{buffer:i,size:e||1,type:r||t.FLOAT,stride:0,offset:0}},t.exports.setUniforms=function(t,n,e){Object.keys(n).forEach(function(r){var o=e[r],i="function"==typeof o?o():o,a=n[r];t["uniform".concat(i[0])].apply(t,[a].concat(i[1]))})},t.exports.setAttributes=function(t,n,e){Object.keys(n).forEach(function(r){var o=e[r],i="function"==typeof o?o():o,a=n[r];t.bindBuffer(t.ARRAY_BUFFER,i.buffer),t.enableVertexAttribArray(a),t.vertexAttribPointer(a,i.size,i.type,!1,i.stride,i.offset)})}},function(t,n){t.exports.VSHADER_SOURCE="\n  precision mediump float;\n\n  attribute float aX;\n  attribute float aY;\n\n  uniform vec2 uOffset;\n  uniform vec2 uScale;\n\n  void main() {\n    vec2 position = vec2(aX, aY) * uScale + uOffset;\n    vec2 clipSpace = (position * 2.0) - 1.0;\n    gl_Position = vec4(clipSpace, 0, 1);\n  }\n",t.exports.FSHADER_SOURCE="\n  precision mediump float;\n\n  uniform vec4 uColor;\n\n  void main() {\n    gl_FragColor = uColor;\n  }\n"},function(t,n,e){var r=e(1),o=r.setAttributes,i=r.setUniforms,a=e(0).resize;t.exports=function(t,n,e){return t.enable(t.BLEND),t.blendFunc(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA),function(){a(t),t.viewport(0,0,t.canvas.width,t.canvas.height),t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT);var r=null;e.forEach(function(e){e.skip()||(r!==e.programInfo.program&&(t.useProgram(e.programInfo.program),r=e.programInfo.program),o(t,e.programInfo.attributes,Object.assign({},n,e.attributesInfo)),i(t,e.programInfo.uniforms,e.uniformsInfo),e.draw())})}}},function(t,n,e){var r=e(1),o=e(12);e(0).closest;t.exports.createProgram=function(t){return r.createProgram(t,o)},t.exports.createDrawingObject=function(t,n,e,o,i){return{programInfo:n[e.types[o]],attributesInfo:{aY:r.createAttributeInfo(t,e.columns[o])},uniformsInfo:{uMin:function(){return["2f",[e.minmax.x.min,"full"===i?e.minmax.y.scale.min:e.minmax.y0.scale.min]]},uMax:function(){return["2f",[e.minmax.x.max,"full"===i?e.minmax.y.scale.max:e.minmax.y0.scale.max]]},uView:function(){return["2f","full"===i?[0,1]:[e.window.offset,e.window.width]]},uColor:function(){return["4f",e.colorsRGBA[o]]}},skip:function(){return 0===e.colorsRGBA[o][3]},draw:function(){var n="full"===i?0:Math.max(e.window.index-1,0);t.drawArrays(t.LINE_STRIP,n,e.columns.x.length-n)}}}},function(t,n){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r=function(t){return t};t.exports.animate=function(t,n,o,i){var a=Object.assign({duration:300,start:null,easing:r},i);return function(r){if(!a.start)return a.start=r,!0;var i=r-a.start,c=Math.min(Math.max(a.easing(i/a.duration),0),1);return o(function t(n,r,o){return Array.isArray(n)?(n.forEach(function(e,i){n[i]=t(e,r[i],o)}),n):"object"===e(n)?Object.keys(n).reduce(function(e,i){return e[i]=t(n[i],r[i],o),e},n):n+(r-n)*o}(t,n,c)),i<a.duration}},t.exports.linear=r},function(t,n,e){t.exports=e(7)},function(t,n,e){e(8);var r=e(9),o=e(10),i=o.createInitialState,a=o.createCurrentState,c=e(11),u=e(16),f=e(18),s=e(19),l=e(20),d=e(21),m=e(23),p=e(25);t.exports=function(t,n){var e=r(),o=i(n),w=a(o),g=c(w),x=l(w),v=u(w),h=f(w),y=s(w);return h.registerEvent(d(w,e,function(){g.render(),x.render(),v.render()})),x.registerEvent(m(w,e,function(){g.render(),y.render()})),v.registerEvent(p(w,e,function(){g.render(),x.render(),v.render()})),e.registerAnimation(g.render),e.registerAnimation(x.render),e.registerAnimation(v.render),function(t,n,e,r,o,i){var a=t;a.className="tc-wrapper";var c=document.createElement("div");c.className="tc-chart-wrapper",n&&c.appendChild(n),i&&c.appendChild(i),a.appendChild(c),r&&a.appendChild(r),e&&a.appendChild(e),o&&a.appendChild(o)}(t,g.element,h.element,v.element,y.element,x.element),w}},function(t,n,e){},function(t,n){var e=null;t.exports=function(){return e||(e={animations:[],registerAnimation:function(t){return e.animations.push(t),1===e.animations.length&&window.requestAnimationFrame(e.render),t},cancelAnimation:function(t){return e.animations=e.animations.filter(function(n){return n!==t}),null},render:function(t){e.animations=e.animations.filter(function(n){return n(t)}),e.animations.length&&window.requestAnimationFrame(e.render)}}),e}},function(t,n,e){var r=e(0),o=r.colorToRgba,i=r.minmax,a=r.closest;t.exports.createInitialState=function(t){var n=Object.keys(t.names);return{ids:n,names:t.names,types:t.types,colors:t.colors,colorsRGBA:n.reduce(function(n,e){return n[e]=o(t.colors[e]),n},{}),columns:t.columns.reduce(function(t,n){return t[n[0]]=new Float32Array(n.slice(1)),t},{})}},t.exports.createCurrentState=function(t){var n=t.columns[t.ids[0]];return Object.assign({},t,{initial:t,toggles:t.ids.reduce(function(t,n){return t[n]=!0,t},{}),colorsRGBA:t.ids.reduce(function(n,e){return n[e]=t.colorsRGBA[e].slice(0),n},{}),minmax:{x:i(t.columns.x),y:i(t.ids.map(function(n){return t.columns[n]})),y0:i(t.ids.map(function(n){return t.columns[n]}),a(n,.7),a(n,1)+1)},window:{offset:.7,width:.3,index:a(n,.7),colorsRGBA:{background:o("#000",.35),control:o("#000",.5)}},tooltip:{offsetX:null,columns:{}}})}},function(t,n,e){var r=e(1).createAttributeInfo,o=e(3),i=e(4),a=e(13),c=e(14),u=e(15);t.exports=function(t){var n=document.createElement("canvas");n.className="tc-chart";var e=n.getContext("webgl")||n.getContext("experimental-webgl");if(!e)throw new Error("webgl is not supported");var f={line:i.createProgram(e),simple:u.createProgram(e)},s={aX:r(e,t.columns.x)},l=t.ids.map(function(n){return i.createDrawingObject(e,f,t,n)}),d=t.ids.map(function(n){return u.createDrawingObject(e,f,t,n)}),m=a.createDrawingObject(e,f,t),p=t.minmax.y.steps.map(function(n,r){return c.createDrawingObject(e,f,t,r)}),w=[m].concat(p).concat(l).concat(d),g=o(e,s,w);return{element:n,registerEvent:function(t){return t({id:"view",element:n})},render:g}}},function(t,n){t.exports.VSHADER_SOURCE="\n  precision mediump float;\n\n  attribute float aX;\n  attribute float aY;\n\n  uniform vec2 uMin;\n  uniform vec2 uMax;\n  uniform vec2 uView;\n\n  void main() {\n    vec2 shift = uMax - uMin;\n    vec2 position = (vec2(aX, aY) - uMin) / shift;\n    position.x = (position.x - uView.x) / uView.y;\n\n    vec2 clipSpace = (position * 2.0) - 1.0;\n\n    gl_Position = vec4(clipSpace, 0, 1);\n  }\n",t.exports.FSHADER_SOURCE="\n  precision mediump float;\n\n  uniform vec4 uColor;\n\n  void main() {\n    gl_FragColor = uColor;\n  }\n"},function(t,n,e){var r=e(1),o=e(2);t.exports.createProgram=function(t){return r.createProgram(t,o)},t.exports.createDrawingObject=function(t,n,e){return{programInfo:n.simple,attributesInfo:{aY:r.createAttributeInfo(t,new Float32Array([0,1])),aX:r.createAttributeInfo(t,new Float32Array([0,0]))},uniformsInfo:{uOffset:function(){return["2f",[e.tooltip.offsetX/t.canvas.width*window.devicePixelRatio,0]]},uScale:function(){return["2f",[1,1]]},uColor:function(){return["4f",[.5,.5,.5,.7]]}},skip:function(){return null===e.tooltip.offsetX},draw:function(){return t.drawArrays(t.LINE_STRIP,0,2)}}}},function(t,n,e){var r=e(1),o=e(2);t.exports.createProgram=function(t){return r.createProgram(t,o)},t.exports.createDrawingObject=function(t,n,e,o){return{programInfo:n.simple,attributesInfo:{aX:r.createAttributeInfo(t,new Float32Array([0,1])),aY:r.createAttributeInfo(t,new Float32Array([0,0]))},uniformsInfo:{uOffset:function(){return["2f",[0,e.minmax.y0.steps[o].point]]},uScale:function(){return["2f",[1,1]]},uColor:function(){return["4f",[.5,.5,.5,.7]]}},skip:function(){return e.minmax.y0.steps[o].point>.98},draw:function(){return t.drawArrays(t.LINES,0,2)}}}},function(t,n,e){var r=e(1),o=e(2),i=e(0),a=i.ratio,c=(0,i.expandCircle)(24);t.exports.createProgram=function(t){return r.createProgram(t,o)},t.exports.createDrawingObject=function(t,n,e,o){return{programInfo:n.simple,attributesInfo:{aX:r.createAttributeInfo(t,new Float32Array(c.x)),aY:r.createAttributeInfo(t,new Float32Array(c.y))},uniformsInfo:{uOffset:function(){return["2f",[e.tooltip.x,e.tooltip.columns[o]]]},uScale:function(){return["2f",a(10,10,t.canvas.width,t.canvas.height)]},uColor:function(){var t=e.colorsRGBA[o];return["4f",[t[0],t[1],t[2],.5]]}},skip:function(){return 0===e.colorsRGBA[o][3]||void 0===e.tooltip.columns[o]||null===e.tooltip.offsetX},draw:function(){return t.drawArrays(t.TRIANGLE_FAN,0,c.x.length)}}}},function(t,n,e){var r=e(1).createAttributeInfo,o=e(3),i=e(4),a=e(17);t.exports=function(t){var n=document.createElement("canvas");n.className="tc-preview";var e=n.getContext("webgl")||n.getContext("experimental-webgl");if(!e)throw new Error("webgl is not supported");var c={line:i.createProgram(e),simple:a.createProgram(e)},u={aX:r(e,t.columns.x)},f=t.ids.map(function(n){return i.createDrawingObject(e,c,t,n,"full")}),s=a.createDrawingObject(e,c,t),l=f.concat(s),d=o(e,u,l);return{element:n,render:d,registerEvent:function(t){return t({id:"preview",element:n})}}}},function(t,n,e){var r=e(1),o=e(0).expandRectangle,i=e(2),a=function(t,n,e,o,i){return{zindex:0,programInfo:n.simple,attributesInfo:{aY:r.createAttributeInfo(t,new Float32Array(o)),aX:function(){return r.createAttributeInfo(t,new Float32Array(i()))}},uniformsInfo:{uOffset:function(){return["2f",[0,0]]},uScale:function(){return["2f",[1,1]]},uColor:function(){return["4f",e.window.colorsRGBA.control]}},skip:function(){return!1},draw:function(){return t.drawArrays(t.TRIANGLES,0,6)}}},c=function(t,n,e,i){return{zindex:2,programInfo:n.simple,attributesInfo:{aY:r.createAttributeInfo(t,new Float32Array(o(0,1,1,0))),aX:function(){return r.createAttributeInfo(t,new Float32Array(i()))}},uniformsInfo:{uOffset:function(){return["2f",[0,0]]},uScale:function(){return["2f",[1,1]]},uColor:function(){return["4f",e.window.colorsRGBA.background]}},skip:function(){return!1},draw:function(){return t.drawArrays(t.TRIANGLES,0,6)}}};t.exports.createProgram=function(t){return r.createProgram(t,i)},t.exports.createDrawingObject=function(t,n,e){return[c(t,n,e,function(){return o(0,0,e.window.offset,e.window.offset)}),a(t,n,e,o(0,1,1,0),function(){return o(e.window.offset,e.window.offset,e.window.offset+.02,e.window.offset+.02)}),a(t,n,e,o(.95,1,1,.95),function(){return o(e.window.offset+.02,e.window.offset+.02,e.window.offset+e.window.width-.02,e.window.offset+e.window.width-.02)}),a(t,n,e,o(0,.05,.05,0),function(){return o(e.window.offset+.02,e.window.offset+.02,e.window.offset+e.window.width-.02,e.window.offset+e.window.width-.02)}),a(t,n,e,o(0,1,1,0),function(){return o(e.window.offset+e.window.width-.02,e.window.offset+e.window.width-.02,e.window.offset+e.window.width,e.window.offset+e.window.width)}),c(t,n,e,function(){return o(e.window.offset+e.window.width,e.window.offset+e.window.width,1,1)})]}},function(t,n){t.exports=function(t){var n=document.createElement("div");n.className="tc-controls";var e=Object.keys(t.names).map(function(e){var r=function(t,n){var e=n.colors[t],r=n.names[t],o=document.createElement("div");o.className="tc-checkbox",o.style.backgroundColor=e;var i=document.createElement("div");return i.appendChild(o),i.append(r),i.className="tc-control tc-checked",i}(e,t);return n.appendChild(r),{id:e,element:r}});return{element:n,registerEvent:function(t){e.forEach(function(n){return t(n)})}}}},function(t,n){t.exports=function(t){var n=document.createElement("div");n.className="tc-tooltip tc-tooltip--hidden";var e=document.createElement("div");e.className="tc-tooltip__name";var r=document.createElement("div");r.className="tc-tooltip__wrapper";var o=t.ids.map(function(n){return function(t,n){var e=document.createElement("span"),r=document.createElement("div");return r.className="tc-tooltip__value",r.style.color=n.colors[t],r.appendChild(e),r.append(n.names[t]),{id:t,element:r,render:function(o){n.toggles[t]?r.classList.remove("tc-tooltip__value--hidden"):r.classList.add("tc-tooltip__value--hidden"),n.tooltip.index!==o&&(e.innerText=n.columns[t][n.tooltip.index])}}}(n,t)});o.forEach(function(t){r.appendChild(t.element)}),n.appendChild(e),n.appendChild(r);var i=null;return{element:n,render:function(){null===t.tooltip.offsetX?n.classList.add("tc-tooltip--hidden"):n.classList.remove("tc-tooltip--hidden"),t.tooltip.index!==i&&(n.style.transform="translateX(".concat(t.tooltip.offsetX-10,"px)"),e.innerText=new Date(t.columns.x[t.tooltip.index]).toLocaleDateString()),o.forEach(function(t){return t.render(i)}),i=t.tooltip.index}}}},function(t,n,e){var r=e(0),o=r.resize,i=r.closest,a=r.translate,c=r.preferedXSteps,u=r.findScale;t.exports=function(t,n){var e=document.createElement("canvas");e.className="tc-grid";var r=e.getContext("2d");if(!r)throw new Error("2d context is not supported!");var f=Object.assign({fontSize:24,fontFamily:"Roboto, sans-serif",color:"#98A4AB"},n);return{element:e,render:function(){o(r),r.clearRect(0,0,r.canvas.width,r.canvas.height),r.font="".concat(f.fontSize,"px ").concat(f.fontFamily),r.fillStyle=f.color;var n=r.canvas.height-40;t.minmax.y0.steps.forEach(function(t){var e=n-n*t.point-4;r.fillText(t.value,0,e)});for(var e=i(t.columns.x,t.window.offset),s=i(t.columns.x,t.window.width+t.window.offset),l=i(t.columns.x,.03),d=i(t.columns.x,.97),m=u(e,s,6,c),p=Math.max(m.min,l);p<Math.min(m.max,d);p+=m.step){var w=t.columns.x[p],g=a(w,t.minmax.x.max,t.minmax.x.min,t.window.offset,t.window.width),x=new Date(w).toLocaleDateString("en-US",{day:"2-digit",month:"short"}),v=r.measureText(x),h=r.canvas.width*g-v.width/2;r.fillText(x,h,r.canvas.height)}},registerEvent:function(t){return t({id:"grid",element:e})}}}},function(t,n,e){var r=e(22),o=r.createHideAnimation,i=r.createShowAnimation;t.exports=function(t,n,e){return function(r){r.element.addEventListener("click",function(){t.toggles[r.id]=!t.toggles[r.id],t.toggles[r.id]?(r.element.classList.add("tc-checked"),n.registerAnimation(i(r.id,t,e))):(r.element.classList.remove("tc-checked"),n.registerAnimation(o(r.id,t,e)))})}}},function(t,n,e){var r=e(5).animate,o=e(0),i=o.minmax,a=o.closest;t.exports.createHideAnimation=function(t,n,e){var o={color:n.colorsRGBA[t].slice(0,3).concat([0]),y:i(n.ids.filter(function(t){return n.toggles[t]}).map(function(t){return n.columns[t]})),y0:i(n.ids.filter(function(t){return n.toggles[t]}).map(function(t){return n.columns[t]}),a(n.columns.x,n.window.offset),a(n.columns.x,n.window.offset+n.window.width))};return r({color:n.colorsRGBA[t],y:n.minmax.y,y0:n.minmax.y0},o,function(r){r.y0.steps.forEach(function(t,n){t.value=o.y0.steps[n].value}),n.colorsRGBA[t]=r.color,n.minmax.y=r.y,n.minmax.y0=r.y0,e()})},t.exports.createShowAnimation=function(t,n,e){var o={color:n.initial.colorsRGBA[t],y:i(n.ids.filter(function(t){return n.toggles[t]}).map(function(t){return n.columns[t]})),y0:i(n.ids.filter(function(t){return n.toggles[t]}).map(function(t){return n.columns[t]}),a(n.columns.x,n.window.offset),a(n.columns.x,n.window.offset+n.window.width))};return r({color:n.colorsRGBA[t],y:n.minmax.y,y0:n.minmax.y0},o,function(r){r.y0.steps.forEach(function(t,n){t.value=o.y0.steps[n].value}),n.colorsRGBA[t]=r.color,n.minmax.y=r.y,n.minmax.y0=r.y0,e()})}},function(t,n,e){var r=e(24).createTooltipAnimation;t.exports=function(t,n,e){return function(o){var i=null,a=function(o,a){t.tooltip.offsetX=o,t.tooltip.targetWidth=a,i||(i=n.registerAnimation(r(t,function(){return e(),!0})))};o.element.addEventListener("mouseenter",function(t){a(t.offsetX,t.target.width)}),o.element.addEventListener("mousemove",function(t){a(t.offsetX,t.target.width)}),o.element.addEventListener("touchstart",function(t){var n=t.target.getBoundingClientRect();a(t.targetTouches[0].pageX-n.left,t.target.width)}),o.element.addEventListener("touchmove",function(t){var n=t.target.getBoundingClientRect();a(t.targetTouches[0].pageX-n.left,t.target.width)}),o.element.addEventListener("mouseleave",function(){t.tooltip.offsetX=null,i=n.cancelAnimation(i),n.registerAnimation(e)})}}},function(t,n,e){var r=e(0),o=r.closest,i=r.translate;t.exports.createTooltipAnimation=function(t,n){return function(){var e=t.tooltip,r=e.offsetX/e.targetWidth*window.devicePixelRatio,a=t.window.offset+t.window.width*r,c=o(t.columns.x,a);return t.tooltip.index!==c&&(t.tooltip.index=c,t.tooltip.x=i(t.columns.x[c],t.minmax.x.max,t.minmax.x.min,t.window.offset,t.window.width),t.tooltip.columns=t.ids.reduce(function(n,e){return n[e]=i(t.columns[e][c],t.minmax.y0.scale.max,t.minmax.y0.scale.min,0,1),n},t.tooltip.columns)),n()}}},function(t,n,e){var r=e(26).createMinmaxAnimation,o=e(27),i=o.createDragAnimation,a=o.createWResizeAnimation,c=o.createEResizeAnimation;t.exports=function(t,n,e){return function(o){var u=null,f=function(){u&&(u=n.cancelAnimation(u),n.registerAnimation(r(t,e)))},s=function(r,o){if(!u){var f=r/o*window.devicePixelRatio,s=function(t,n){return n<t.window.offset||n>t.window.offset+t.window.width?null:n>t.window.offset+.02&&n<t.window.offset+t.window.width-.02?i:n<=t.window.offset+.02?a:c}(t,f);s&&(t.window.offsetX=r,t.window.targetWidth=o,u=n.registerAnimation(s(t,{offset:t.window.offset,width:t.window.width,position:f},function(){return e(),!0})))}};o.element.addEventListener("mousedown",function(t){s(t.offsetX,t.target.width)}),o.element.addEventListener("touchstart",function(t){var n=t.target.getBoundingClientRect(),e=t.targetTouches[0].pageX-n.left;s(e,t.target.width)}),o.element.addEventListener("touchmove",function(n){if(u){var e=n.target.getBoundingClientRect();t.window.offsetX=n.targetTouches[0].pageX-e.left,t.window.targetWidth=n.target.width}}),o.element.addEventListener("mousemove",function(n){u&&(t.window.offsetX=n.offsetX,t.window.targetWidth=n.target.width)}),o.element.addEventListener("mouseleave",f),o.element.addEventListener("mouseup",f),o.element.addEventListener("touchcancel",f),o.element.addEventListener("touchend",f)}}},function(t,n,e){var r=e(5).animate,o=e(0),i=o.minmax,a=o.closest;t.exports.createMinmaxAnimation=function(t,n){var e={y:i(t.ids.filter(function(n){return t.toggles[n]}).map(function(n){return t.columns[n]})),y0:i(t.ids.filter(function(n){return t.toggles[n]}).map(function(n){return t.columns[n]}),a(t.columns.x,t.window.offset),a(t.columns.x,t.window.offset+t.window.width))};return r({y:t.minmax.y,y0:t.minmax.y0},e,function(r){r.y0.steps.forEach(function(t,n){t.value=e.y0.steps[n].value}),t.minmax.y=r.y,t.minmax.y0=r.y0,n()})}},function(t,n,e){var r=e(0),o=r.bound,i=r.closest;t.exports.createDragAnimation=function(t,n,e){return function(){var r=t.window.offsetX/t.window.targetWidth*window.devicePixelRatio-n.position;return t.window.offset=o(n.offset+r,0,o(1-t.window.width,0,1)),t.window.index=i(t.columns.x,t.window.offset),e()}},t.exports.createWResizeAnimation=function(t,n,e){return function(){var r=t.window.offsetX/t.window.targetWidth*window.devicePixelRatio-n.position;return t.window.width=o(n.width-r,.2,o(1-n.offset-r,0,1)),t.window.offset=o(n.offset+r,0,o(1-t.window.width,0,1)),t.window.index=i(t.columns.x,t.window.offset),e()}},t.exports.createEResizeAnimation=function(t,n,e){return function(){var r=t.window.offsetX/t.window.targetWidth*window.devicePixelRatio-n.position;return t.window.width=o(n.width+r,.2,o(1-t.window.offset,0,1)),e()}}}])});