!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.telechart=t():e.telechart=t()}(this,function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=2)}([function(e,t){e.exports.colorToRgba=(e=>{if(~e.indexOf("rgba"))return e.replace("rgba(","").split(",").map(e=>parseInt(e,10)/255);const t=e.substring(1),r=parseInt(t,16);return[(r>>16)/255,(r>>8&255)/255,(255&r)/255,1]})},function(e,t,r){const{colorToRgba:n}=r(0),{createProgram:o,compileShader:a,createAttributeInfo:i,setUniforms:s,setAttributes:c}=r(7),{FSHADER_SOURCE:l,VSHADER_SOURCE:u}=r(8),f=e=>{const t=a(e,u,e.VERTEX_SHADER),r=a(e,l,e.FRAGMENT_SHADER);return o(e,t,r)};e.exports=((e,t,r)=>{const n=e.getContext("webgl")||e.getContext("experimental-webgl");if(!n)throw"webgl is not supported";n.enable(n.DEPTH_TEST);const o={line:f(n)},a={aX:i(n,t.columns.x)},l={uMin:()=>["2f",[15424128e5,20]],uMax:()=>["2f",[15520032e5,278]]},u=t.ids.map(e=>({id:e,programInfo:o[t.types[e]],attributesInfo:{aY:i(n,t.columns[e])},uniformsInfo:{uColor:()=>["4f",t.colorsRGBA[e]]},draw:()=>n.drawArrays(n.LINE_STRIP,0,t.columns.x.length)}));return()=>{(e=>{var t=window.devicePixelRatio,r=Math.floor(e.canvas.clientWidth*t),n=Math.floor(e.canvas.clientHeight*t);e.canvas.width===r&&e.canvas.height===n||(e.canvas.width=r,e.canvas.height=n)})(n),n.viewport(0,0,n.canvas.width,n.canvas.height),n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT|n.DEPTH_BUFFER_BIT);let e=null;u.forEach(t=>{e!==t.programInfo.program&&(n.useProgram(t.programInfo.program),e=t.programInfo.program),c(n,t.programInfo.attributes,Object.assign({},a,t.attributesInfo)),s(n,t.programInfo.uniforms,Object.assign({},l,t.uniformsInfo)),t.draw()})}})},function(e,t,r){e.exports=r(3)},function(e,t,r){r(4);const{colorToRgba:n}=r(0),o=r(5).default,a=r(6),i=r(9),s=r(10),c={animations:[],render:e=>{c.animations=c.animations.filter(t=>t(e)),c.animations.length&&window.requestAnimationFrame(c.render)},registerAnimation:e=>{c.animations.push(e),1===c.animations.length&&window.requestAnimationFrame(c.render)},cancelAnimation:e=>{c.animations=c.animations.filter(t=>t!==e)}};e.exports=((e,t)=>{const r=(e=>Object.assign({},e,{colors:Object.assign({},e.colors)}))((e=>{const t=Object.keys(e.names);return{ids:t,names:e.names,types:e.types,colors:e.colors,colorsRGBA:t.reduce((t,r)=>(t[r]=n(e.colors[r]),t),{}),columns:e.columns.reduce((e,t)=>(e[t[0]]=new Float32Array(t,1),e),{}),toggles:t.reduce((e,t)=>(e[t]=null,e),{})}})(t)),l=a(r,c.registerAnimation),u=i(r,c.registerAnimation),f=s(r,e=>{c.cancelAnimation(r.toggles[e]),r.toggles[e]=o(r.colorsRGBA[e],r.colorsRGBA[e].slice(0,3).concat([0]),t=>{r.colorsRGBA[e]=t,l.render(),u.render()}),c.registerAnimation(r.toggles[e])});c.registerAnimation(l.render),c.registerAnimation(u.render),((e,t,r,n)=>{e.className="tc-wrapper",t&&e.appendChild(t),n&&e.appendChild(n),r&&e.appendChild(r)})(e,l.element,f,u.element)})},function(e,t,r){},function(e,t){const r=e=>e,n=(e,t,r)=>Array.isArray(e)?e.map((e,o)=>n(e,t[o],r)):"object"==typeof e?Object.keys(e).reduce((o,a)=>(o[a]=n(e[a],t[a],r),o),{}):e+(t-e)*r;e.exports.default=((e,t,o,a)=>{const i=Object.assign({duration:300,start:null,easing:r},a);return r=>{if(!i.start)return i.start=r,!0;const a=r-i.start,s=Math.min(Math.max(i.easing(a/i.duration),0),1);return o(n(e,t,s)),a<i.duration}}),e.exports.linear=r},function(e,t,r){const n=r(1);e.exports=((e,t)=>{const r=document.createElement("canvas");return r.className="tc-chart",{element:r,render:n(r,e,t)}})},function(e,t){const r=e=>"[0]"===e.substr(-3)?e.substr(0,e.length-3):e,n=(e,t,r,n)=>r===e.ACTIVE_ATTRIBUTES?e.getActiveAttrib(t,n):e.getActiveUniform(t,n),o=(e,t,r,n)=>r===e.ACTIVE_ATTRIBUTES?e.getAttribLocation(t,n):e.getUniformLocation(t,n),a=(e,t,a)=>{const i={},s=e.getProgramParameter(t,a);for(let c=0;c<s;++c){const s=n(e,t,a,c);if(!s)break;i[r(s.name)]=o(e,t,a,s.name)}return i};e.exports.compileShader=((e,t,r)=>{var n=e.createShader(r);if(e.shaderSource(n,t),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS))throw"could not compile shader:"+e.getShaderInfoLog(n);return n}),e.exports.createProgram=((e,t,r)=>{var n=e.createProgram();if(e.attachShader(n,t),e.attachShader(n,r),e.linkProgram(n),!e.getProgramParameter(n,e.LINK_STATUS))throw"program filed to link:"+e.getProgramInfoLog(n);return{program:n,uniforms:a(e,n,e.ACTIVE_UNIFORMS),attributes:a(e,n,e.ACTIVE_ATTRIBUTES)}}),e.exports.createAttributeInfo=((e,t,r,n,o)=>{const a=e.createBuffer();return e.bindBuffer(e.ARRAY_BUFFER,a),e.bufferData(e.ARRAY_BUFFER,t,r||e.STATIC_DRAW),{buffer:a,size:n||1,type:o||e.FLOAT,stride:0,offset:0}}),e.exports.setUniforms=((e,t,r)=>{Object.keys(t).forEach(n=>{const o=r[n](),a=t[n];e[`uniform${o[0]}`].apply(e,[a].concat(o[1]))})}),e.exports.setAttributes=((e,t,r)=>{Object.keys(t).forEach(n=>{const o=r[n],a=t[n];e.bindBuffer(e.ARRAY_BUFFER,o.buffer),e.enableVertexAttribArray(a),e.vertexAttribPointer(a,o.size,o.type,!1,o.stride,o.offset)})})},function(e,t){e.exports.VSHADER_SOURCE="\n  precision mediump float;\n\n  attribute float aX;\n  attribute float aY;\n\n  uniform vec2 uMin;\n  uniform vec2 uMax;\n\n  void main() {\n    vec2 shift = uMax - uMin;\n    vec2 position = (vec2(aX, aY) - uMin) / shift;\n\n    vec2 clipSpace = (position * 2.0) - 1.0;\n\n    gl_Position = vec4(clipSpace, 0, 1);\n  }\n",e.exports.FSHADER_SOURCE="\n  precision mediump float;\n\n  uniform vec4 uColor;\n\n  void main() {\n    gl_FragColor = uColor;\n  }\n"},function(e,t,r){const n=r(1);e.exports=((e,t)=>{const r=document.createElement("canvas");return r.className="tc-preview",{element:r,render:n(r,e,t)}})},function(e,t){e.exports=((e,t)=>{const r=document.createElement("div");return r.className="tc-controls",Object.keys(e.names).forEach(n=>{const o=((e,t,r)=>{const n=t.colors[e],o=t.names[e],a=document.createElement("div");a.className="tc-checkbox",a.style.backgroundColor=n;const i=document.createElement("div");return i.appendChild(a),i.append(o),i.className="tc-control tc-checked",i.addEventListener("click",t=>{i.classList.toggle("tc-checked"),r(e)}),i})(n,e,t);r.appendChild(o)}),r})}])});