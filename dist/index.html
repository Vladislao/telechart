<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Telechart</title>
    <!-- CSS Reset from meyerweb for demonstration purposes only, not related to the library -->
    <link rel="stylesheet" type="text/css" href="/reset.css" />
    <!-- <link
      href="https://fonts.googleapis.com/css?family=Roboto"
      rel="stylesheet"
    /> -->
    <!-- <link rel="stylesheet" type="text/css" href="/telechart.css" /> -->
    <link rel="stylesheet" type="text/css" href="/index.css" />
  </head>
  <body>
    <div class="demo">
      <a href="https://github.com/Vladislao/telechart">Sources</a>
      <div class="chart">
        <h3>Followers</h3>
        <div id="chart1"></div>
      </div>
      <div class="chart">
        <h3>Interactions</h3>
        <div id="chart2"></div>
      </div>
      <div class="chart">
        <h3>Followers</h3>
        <div id="chart3"></div>
      </div>
      <div class="chart">
        <h3>Followers</h3>
        <div id="chart4"></div>
      </div>
      <div class="chart">
        <h3>Followers</h3>
        <div id="chart5"></div>
      </div>
      <div class="switch">Switch to Night Mode</div>
    </div>

    <script src="/telechart.polyfill.js" type="text/javascript"></script>
    <script src="/telechart.js" type="text/javascript"></script>
    <script>
      // Cross-browser DOM ready
      window.ready = function(a, b, c) {
        (b = document), (c = "addEventListener");
        b[c] ? b[c]("DOMContentLoaded", a) : window.attachEvent("onload", a);
      };
    </script>
    <script>
      // Toggles between night/day mode
      window.ready(function() {
        var day = true;
        var demo = document.getElementsByClassName("demo")[0];
        var switcher = document.getElementsByClassName("switch")[0];

        switcher.addEventListener("click", function switchHandler(e) {
          day = !day;

          if (day) {
            switcher.textContent = "Switch to Night Mode";
            demo.classList.remove("night");
          } else {
            switcher.textContent = "Switch to Day Mode";
            demo.classList.add("night");
          }
        });
      });
    </script>
    <script>
      window.ready(function() {
        // Chart initialization
        fetch("/data/1/overview.json")
          .then(function(response) {
            return response.json();
          })
          .then(function(json) {
            telechart(document.getElementById("chart1"), json);
          });
        fetch("/data/2/overview.json")
          .then(function(response) {
            return response.json();
          })
          .then(function(json) {
            console.log(json);
            telechart(document.getElementById("chart2"), json);
          });
        fetch("/data/3/overview.json")
          .then(function(response) {
            return response.json();
          })
          .then(function(json) {
            telechart(document.getElementById("chart3"), json);
          });
        fetch("/data/4/overview.json")
          .then(function(response) {
            return response.json();
          })
          .then(function(json) {
            telechart(document.getElementById("chart4"), json);
          });
        fetch("/data/5/overview.json")
          .then(function(response) {
            return response.json();
          })
          .then(function(json) {
            telechart(document.getElementById("chart5"), json);
          });
      });
    </script>
  </body>
</html>
